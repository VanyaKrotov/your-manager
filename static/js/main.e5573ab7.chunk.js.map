{"version":3,"sources":["enums/page-view/index.ts","icons/todolist.svg","icons/notes.svg","icons/passwords.svg","icons/search.svg","helpers/router/index.ts","helpers/user/index.ts","store/user/constants.ts","models/index.ts","helpers/database/index.ts","helpers/mappers/index.ts","models/user/UserModel.ts","enums/notes/index.ts","store/user/index.ts","models/note/NoteModel.ts","enums/todo-list/index.ts","store/notes/index.ts","store/passwords/index.ts","models/todo/TodoIteModel.ts","models/todo/TodoGroupModel.ts","store/todo-list/index.ts","store/page-view/index.ts","store/index.ts","types/todo-list/index.ts","pages/service/error404/index.tsx","components/page-content/index.tsx","components/context-menu/utils.ts","components/context-menu/index.tsx","components/list/styles.ts","components/list/AddListItem.tsx","components/list/List.tsx","components/list/ListItem.tsx","pages/todo-list/components/styles.ts","icons/Star.tsx","pages/todo-list/components/TodoGroupControl.tsx","components/editable-title/index.tsx","components/list/ItemIcon.tsx","pages/todo-list/types.ts","pages/search/types/index.ts","components/textarea/index.tsx","pages/todo-list/components/DescriptionTextarea.tsx","pages/todo-list/components/RightSide.tsx","pages/todo-list/components/TodoListContent.tsx","pages/todo-list/views/main.tsx","pages/todo-list/utils/useTodoListFilter.ts","components/editor/constants.ts","components/editor/index.tsx","components/code-editor/constants.ts","components/code-editor/styled.ts","icons/save.svg","components/code-editor/index.tsx","pages/notes/utils/constants.ts","pages/notes/components/NotesContent.tsx","pages/notes/components/NotesNavigation.tsx","pages/notes/utils/useNotesFilter.ts","pages/notes/views/main.tsx","pages/passwords/views/main.tsx","pages/search/utils/constants.ts","pages/search/components/styled.ts","pages/search/components/SearchHeader.tsx","pages/search/utils/useSearch.ts","pages/search/views/main.tsx","pages/user/components/styles.ts","pages/user/components/user-list.tsx","icons/send.svg","pages/user/forms/password.tsx","pages/user/forms/registration.tsx","pages/user/components/active-user.tsx","pages/user/views/change-user.tsx","icons/add-user.svg","pages/user/views/registration.tsx","pages/index.tsx","appStyles.ts","icons/Moon.tsx","icons/Sun.tsx","icons/Language.tsx","App.tsx","index.tsx"],"names":["Language","Theme","styles","props","className","stroke","fill","strokeWidth","viewBox","height","width","xmlns","fillRule","clipRule","d","routes","createUsernameSymbols","username","parsed","split","length","toUpperCase","slice","join","DEFAULT_USERNAME","config","db","name","version","displayName","size","window","openDatabase","Error","sqlQuery","query","args","Promise","resolve","reject","transaction","tx","executeSql","result","error","createQueryHandler","modelInitRunner","model","a","MODEL_NAME","rows","init","mapSqlResultToArray","Array","from","map","_","index","item","UserModel","this","password","privateKey","settings","SHA256","insertId","selectUserById","userId","user","restUser","hasPassword","Boolean","rest","Date","getTime","NoteType","SubType","UserStore","isLoaded","profiles","data","makeAutoObservable","id","selectAllUsers","loadUsers","userIndex","findIndex","authenticate","authResult","secretKey","add","NoteModel","priority","lastProps","noteId","resultItem","title","type","Rich","selectById","content","lastUpdate","subType","rowsAffected","TodoDefaultListGroup","NotesStore","rawItems","loadItems","todayItem","addNote","time","dateCreated","base","isToday","i18n","t","isYesterday","format","pageView","formatOptions","items","filter","sort","b","value","label","additional","find","reduce","acc","Object","assign","selectAllByUserId","note","addedNote","push","update","notesMap","delete","updateNote","PasswordStore","TODO_DEFAULT_LIST_GROUP_VALUES","values","Number","isInteger","TodoItemModel","description","state","groupId","steps","orderIndex","JSON","stringify","itemId","parse","TodoGroupModel","getById","removeByGroupId","TodoListStore","groups","itemsGroupMap","concat","All","Priority","Today","dateCreate","itemsMapForGroups","loadData","selectAllForUserId","group","addedGroup","removeById","addedItem","updatedItem","PageViewStore","expandedSideBar","language","Ru","theme","Dark","currentUserId","pagePath","pathname","search","toggleExpanded","changeTheme","newTheme","changeLanguage","lang","savedSettingsJson","localStorage","getItem","addEventListener","location","console","log","setItem","savedSettings","key","locale","ru","enUS","notes","todoList","use","initReactI18next","resources","EnUS","translation","lng","fallbackLng","interpolation","escapeValue","reaction","changeCurrentUser","TodoState","Error404","useTranslation","PageContent","navigation","children","Content","FlexboxGrid","Item","colspan","handlerBuilder","handler","event","target","parentElement","dataset","uid","ContextMenu","Dropdown","Menu","icon","onClick","Container","styled","div","ListTitle","TodoListElement","List","LIST_ITEM_STYLE","css","ListItem","AddItemContainer","ItemIcon","ItemContent","AddListItem","onAddItem","placeholder","useState","focused","setFocused","setValue","onRemoveFocused","useCallback","onPressEnterHandler","isShowInput","align","justify","Input","autoFocus","onChange","onPressEnter","onBlur","TodoList","addPlaceholder","emptyPlaceholder","empty","restProps","TodoListItem","postfix","active","contextMenuId","contextMenuUId","NavContainer","ListTasksContainer","TopListTasksContainer","StyledTodoList","CountItemsContainer","StyledListItem","StyledContent","Title","h3","ListContainer","StepsState","Star","filled","observer","activeKey","changeActiveGroup","onAddGroup","addGroup","onDeleteGroup","removeGroup","contextMenuItems","useMemo","countItemsInGroup","Divider","span","EditableTitle","onSave","onSaveHandler","useEffect","val","ItemsFilter","StyledSvg","svg","Empty","Success","FilledSuccess","TodoIcon","InProgress","hovered","Done","SearchGroup","Textarea","style","ref","useRef","autosize","current","as","resize","DescriptionTextarea","onEdit","currentValue","setCurrentValue","ScrollContainer","TitleContainer","RightSide","selectedId","onClose","onChangeState","todoMap","lastChanged","onUpdateTitle","updateItem","onAddStep","onRemoveStep","stepId","onEditStepTitle","newSteps","onEditStepState","isDone","IconButton","appearance","formatDistance","includeSeconds","removeItem","changeFilter","setSelectedId","itemsMap","onCloseRightSide","center","right","addItem","then","todoId","newState","onRemoveItem","onChangeItemsFilter","onSaveTitle","currentGroup","disabledRemove","includes","readOnly","ButtonToolbar","ButtonGroup","Button","placement","renderToggle","disabled","stopPropagation","newValue","completedCount","useLocation","history","useHistory","String","replace","useTodoListFilter","EDITOR_INIT_OPTIONS","autoresize_top_margin","autoresize_on_init","plugins","menubar","toolbar","reloading","setReloading","isDarkTheme","smallLanguage","setTimeout","apiKey","tinyApiKey","skin","undefined","content_css","LANGUAGES_LIST","Header","EditorContainer","setLanguage","localTheme","Light","languagesOptions","onSaveContent","debounce","onChangeValue","onChangeLanguage","SelectPicker","cleanable","searchable","SUB_TYPE_OPTIONS","Code","currentItem","onSaveEditorContent","getContent","onSaveCodeEditorContent","onChangeSubType","nextType","onDeleteItem","deleteNote","onChangePriority","changePriority","isRichEditor","initialValue","StyledList","sortedItems","timeItems","onAddNote","onActiveNote","onDeleteNote","onChangeItem","useNotesFilter","parseNumbers","Passwords","SEARCH_GROUP_OPTIONS","Todo","Notes","SearchHeaderContainer","SearchControl","SearchHeader","changeSearch","onChangeQuery","onChangeGroups","TagPicker","block","useSearch","arrayFormat","change","Search","Section","section","ErrorMessage","p","UserList","users","onSelect","Avatar","DEFAULT_VALUE","PasswordForm","onSubmit","onSubmitHandler","_valid","click","Form","formDefaultValue","InputGroup","Control","Model","Schema","Types","confirmPassword","StringType","isRequired","isRequiredOrEmpty","addRule","minLength","RegistrationForm","valid","formData","FormData","get","checkTrigger","fluid","Group","ControlLabel","CurrentUser","onClosePage","setError","lastLogin","onSubmitForm","userStore","login","onLoginButton","Panel","circle","isEmptyProfiles","setActive","open","setOpen","activeUser","onExited","defaultPath","isReplace","goBack","goBackOrDefault","Drawer","full","Body","to","Registration","addUser","Routes","authorized","exact","path","component","ChangeUser","LogoContainer","LogoTitle","StyledSidebar","Sidebar","UserAvatar","UserTitle","Moon","focusable","Sun","onSelectOption","ruRU","CustomProvider","collapsible","Sidenav","expanded","Nav","eventKey","Link","usernameSymbols","divider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e5573ab7.chunk.js","sourcesContent":["export enum Language {\r\n  Ru = \"ru_RU\",\r\n  EnUS = \"en_EN\",\r\n}\r\n\r\nexport enum Theme {\r\n  Light = \"light\",\r\n  Dark = \"dark\",\r\n}\r\n","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg className={(styles[\"icon-svg\"] || \"icon-svg\") + \" \" + (styles[\"rs-icon\"] || \"rs-icon\")} stroke=\"currentColor\" fill=\"currentColor\" strokeWidth=\"0\" viewBox=\"0 0 16 16\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M3.75 4.48h-.71L2 3.43l.71-.7.69.68L4.81 2l.71.71-1.77 1.77zM6.99 3h8v1h-8V3zm0 3h8v1h-8V6zm8 3h-8v1h8V9zm-8 3h8v1h-8v-1zM3.04 7.48h.71l1.77-1.77-.71-.7L3.4 6.42l-.69-.69-.71.71 1.04 1.04zm.71 3.01h-.71L2 9.45l.71-.71.69.69 1.41-1.42.71.71-1.77 1.77zm-.71 3.01h.71l1.77-1.77-.71-.71-1.41 1.42-.69-.69-.71.7 1.04 1.05z\" stroke=\"none\" /></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg className={(styles[\"icon-svg\"] || \"icon-svg\") + \" \" + (styles[\"rs-icon\"] || \"rs-icon\")} stroke=\"currentColor\" fill=\"currentColor\" strokeWidth=\"0\" viewBox=\"0 0 24 24\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path fill=\"none\" strokeWidth=\"2\" d=\"M3 1v22h13l5-5V1H3zm3 16h5m-5-4h12M6 9h10M3 5h18m0 12h-6v6\" /></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg className={(styles[\"icon-svg\"] || \"icon-svg\") + \" \" + (styles[\"rs-icon\"] || \"rs-icon\")} stroke=\"currentColor\" fill=\"currentColor\" strokeWidth=\"0\" viewBox=\"0 0 24 24\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><g stroke=\"none\"><path fill=\"none\" d=\"M0 0h24v24H0z\" /><path d=\"M18 8h2a1 1 0 011 1v12a1 1 0 01-1 1H4a1 1 0 01-1-1V9a1 1 0 011-1h2V7a6 6 0 1112 0v1zM5 10v10h14V10H5zm6 4h2v2h-2v-2zm-4 0h2v2H7v-2zm8 0h2v2h-2v-2zm1-6V7a4 4 0 10-8 0v1h8z\" /></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg className={(styles[\"icon-svg\"] || \"icon-svg\") + \" \" + (styles[\"rs-icon\"] || \"rs-icon\")} stroke=\"currentColor\" fill=\"currentColor\" strokeWidth=\"0\" viewBox=\"0 0 24 24\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><g stroke=\"none\"><path fill=\"none\" d=\"M0 0h24v24H0z\" /><path d=\"M11 2c4.968 0 9 4.032 9 9s-4.032 9-9 9-9-4.032-9-9 4.032-9 9-9zm0 16c3.867 0 7-3.133 7-7 0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7zm8.485.071l2.829 2.828-1.415 1.415-2.828-2.829 1.414-1.414z\" /></g></svg>);","import { History } from \"history\";\r\n\r\nexport const routes = {\r\n  ROOT: \"/\",\r\n  LOGIN: \"/login\",\r\n  SEARCH: \"/search\",\r\n  REGISTRATION: \"/registration\",\r\n  TODO_LIST: \"/todo-list\",\r\n  NOTES: \"/notes\",\r\n  PASSWORDS: \"/passwords\",\r\n  SETTINGS: \"/settings\",\r\n  CHANGE_USER: \"/change-user\",\r\n};\r\n\r\nexport const goBackOrDefault = (\r\n  history: History,\r\n  defaultPath?: string | Record<string, string>,\r\n  isReplace: boolean = false\r\n) => {\r\n  if (defaultPath) {\r\n    return history[isReplace ? \"replace\" : \"push\"](defaultPath);\r\n  }\r\n\r\n  if (history.length > 2) {\r\n    return history.goBack();\r\n  }\r\n\r\n  return history[isReplace ? \"replace\" : \"push\"](routes.ROOT);\r\n};\r\n","export const createUsernameSymbols = (username: string) => {\r\n  const parsed = username.split(\" \");\r\n\r\n  if (parsed.length === 1) {\r\n    return (username[0] + username[1]).toUpperCase();\r\n  }\r\n\r\n  return parsed.slice(0, 2).join(\"\").toUpperCase();\r\n};\r\n","export const DEFAULT_USER_ID = 1;\r\n\r\nexport const DEFAULT_USERNAME = \"Yerzhan\";\r\n","import { createQueryHandler } from \"helpers/database\";\r\n\r\nimport { SQLQueryResult } from \"types/database\";\r\n\r\nimport config from \"config.json\";\r\n\r\nconst {\r\n  db: { name, version, displayName, size },\r\n} = config;\r\n\r\nconst db = window.openDatabase(name, version, displayName, size);\r\n\r\nif (db === null) {\r\n  throw Error(\"Database not connected!\");\r\n}\r\n\r\nconst sqlQuery = createQueryHandler(db);\r\n\r\nconst modelInitRunner = async (model: {\r\n  MODEL_NAME: string;\r\n  init: () => Promise<SQLQueryResult>;\r\n}) => {\r\n  const {\r\n    result: { rows },\r\n  } = await sqlQuery(\r\n    `SELECT * FROM sqlite_master WHERE type='table' AND name=?`,\r\n    [model.MODEL_NAME]\r\n  );\r\n\r\n  if (!rows.length) {\r\n    await model.init();\r\n\r\n    return Promise.resolve(true);\r\n  }\r\n\r\n  return Promise.resolve(false);\r\n};\r\n\r\nexport { db, sqlQuery, modelInitRunner };\r\n","import { SQLQueryResult } from \"types/database\";\r\n\r\nexport const createQueryHandler =\r\n  (db: Database) =>\r\n  (query: string, args: ObjectArray = []) =>\r\n    new Promise<SQLQueryResult>((resolve, reject) =>\r\n      db.transaction((tx) =>\r\n        tx.executeSql(\r\n          query,\r\n          args,\r\n          (tx, result) => resolve({ tx, result }),\r\n          (tx, error) => {\r\n            reject({ tx, error });\r\n\r\n            return true;\r\n          }\r\n        )\r\n      )\r\n    );\r\n","export const mapSqlResultToArray = ({ rows }: SQLResultSet) =>\r\n  Array.from({ length: rows.length })\r\n    .fill(0)\r\n    .map((_, index) => rows.item(index));\r\n","import { SHA256 } from \"crypto-js\";\r\n\r\nimport { SQLQueryResult } from \"types/database\";\r\nimport { User, UserFull } from \"types/user\";\r\n\r\nimport { DEFAULT_USERNAME } from \"store/user/constants\";\r\n\r\nimport { sqlQuery } from \"..\";\r\nimport { mapSqlResultToArray } from \"helpers/mappers\";\r\n\r\nclass UserModel {\r\n  public static MODEL_NAME = \"user\";\r\n\r\n  public static init(): Promise<SQLQueryResult> {\r\n    return sqlQuery(\r\n      `CREATE TABLE ${this.MODEL_NAME} (id INTEGER PRIMARY KEY, username TEXT, settings TEXT, password TEXT, privateKey TEXT, lastLogin REAL)`\r\n    );\r\n  }\r\n\r\n  public static async add({\r\n    username = DEFAULT_USERNAME,\r\n    password = null,\r\n    privateKey = null,\r\n    settings = \"{}\",\r\n  }: Partial<Omit<UserFull, \"id\">>) {\r\n    const { result } = await sqlQuery(\r\n      `INSERT INTO ${this.MODEL_NAME} (username, settings, password, privateKey) values(?, ?, ?, ?)`,\r\n      [\r\n        username,\r\n        settings,\r\n        password && SHA256(password),\r\n        privateKey && SHA256(privateKey),\r\n      ]\r\n    );\r\n\r\n    if (!result.insertId) {\r\n      return null;\r\n    }\r\n\r\n    return UserModel.selectUserById(result.insertId);\r\n  }\r\n\r\n  public static async selectUserById(userId: number): Promise<User | null> {\r\n    const { result } = await sqlQuery(\r\n      `SELECT id, username, settings, password, lastLogin FROM ${this.MODEL_NAME} WHERE id = ?`,\r\n      [userId]\r\n    );\r\n\r\n    const user = result.rows.item(0);\r\n    if (!user) {\r\n      return null;\r\n    }\r\n\r\n    const { password, ...restUser } = user;\r\n\r\n    return { ...restUser, hasPassword: Boolean(password) };\r\n  }\r\n\r\n  public static async selectAllUsers(): Promise<User[]> {\r\n    const { result } = await sqlQuery(\r\n      `SELECT id, username, settings, lastLogin, password FROM ${this.MODEL_NAME}`\r\n    );\r\n\r\n    return mapSqlResultToArray(result).map(({ password, ...rest }) => ({\r\n      hasPassword: Boolean(password),\r\n      ...rest,\r\n    }));\r\n  }\r\n\r\n  public static async authenticate(userId: number, password: string) {\r\n    const { result } = await sqlQuery(\r\n      `SELECT * FROM ${this.MODEL_NAME} WHERE id = ? AND password = ?`,\r\n      [userId, SHA256(password)]\r\n    );\r\n\r\n    if (!result.rows.length) {\r\n      return null;\r\n    }\r\n\r\n    await sqlQuery(`UPDATE ${this.MODEL_NAME} SET lastLogin = ? WHERE id = ?`, [\r\n      new Date().getTime(),\r\n      userId,\r\n    ]);\r\n\r\n    return UserModel.selectUserById(userId);\r\n  }\r\n}\r\n\r\nexport default UserModel;\r\n","export enum NoteType {\r\n  base,\r\n  time,\r\n}\r\n\r\nexport enum SubType {\r\n  Rich,\r\n  Code,\r\n}\r\n","import { makeAutoObservable } from \"mobx\";\r\n\r\nimport { createUsernameSymbols } from \"helpers/user\";\r\n\r\nimport { User } from \"types/user\";\r\n\r\nimport { DEFAULT_USERNAME, DEFAULT_USER_ID } from \"./constants\";\r\nimport UserModel from \"models/user/UserModel\";\r\nimport { RegistrationFormValue } from \"pages/user/forms/registration\";\r\nimport { modelInitRunner } from \"models\";\r\n\r\nclass UserStore {\r\n  public isLoaded = false;\r\n  public profiles: User[] = [];\r\n  public data: User | null = null;\r\n\r\n  constructor(userId: number) {\r\n    makeAutoObservable(this);\r\n\r\n    this.init(userId);\r\n  }\r\n\r\n  public get authorized(): boolean {\r\n    return Boolean(this.data);\r\n  }\r\n\r\n  public get userId() {\r\n    return this.data?.id || DEFAULT_USER_ID;\r\n  }\r\n\r\n  public get usernameSymbols() {\r\n    return createUsernameSymbols(this.username);\r\n  }\r\n\r\n  public get username() {\r\n    return this.data?.username || DEFAULT_USERNAME;\r\n  }\r\n\r\n  public get isEmptyProfiles() {\r\n    return this.isLoaded && !this.profiles.length;\r\n  }\r\n\r\n  private async loadUsers() {\r\n    this.profiles = await UserModel.selectAllUsers();\r\n    this.isLoaded = true;\r\n  }\r\n\r\n  public async init(userId: number) {\r\n    await modelInitRunner(UserModel);\r\n\r\n    await this.loadUsers();\r\n  }\r\n\r\n  public async login(userId: number, password?: string): Promise<User | null> {\r\n    const userIndex = this.profiles.findIndex(({ id }) => id === userId)!;\r\n    if (!password && !this.profiles[userIndex].hasPassword) {\r\n      this.data = this.profiles[userIndex];\r\n\r\n      return this.data;\r\n    }\r\n\r\n    const authResult = await UserModel.authenticate(userId, password!);\r\n\r\n    if (!authResult) {\r\n      return null;\r\n    }\r\n\r\n    this.data = authResult;\r\n    this.profiles[userIndex] = authResult;\r\n\r\n    return authResult;\r\n  }\r\n\r\n  public async addUser({\r\n    username,\r\n    password,\r\n    secretKey,\r\n  }: RegistrationFormValue): Promise<User | null> {\r\n    const result = await UserModel.add({\r\n      username,\r\n      password,\r\n      privateKey: secretKey,\r\n    });\r\n\r\n    await this.loadUsers();\r\n\r\n    return result;\r\n  }\r\n}\r\n\r\nexport default UserStore;\r\n","import { SubType } from \"enums/notes\";\r\nimport { mapSqlResultToArray } from \"helpers/mappers\";\r\n\r\nimport { Note } from \"types/notes\";\r\n\r\nimport { sqlQuery } from \"..\";\r\n\r\nclass NoteModel {\r\n  public static MODEL_NAME = \"note_model\";\r\n\r\n  public static init() {\r\n    return sqlQuery(\r\n      `CREATE TABLE ${this.MODEL_NAME} (\r\n            id INTEGER PRIMARY KEY, \r\n            title TEXT,\r\n            userId INTEGER,\r\n            content TEXT,\r\n            type INTEGER,\r\n            subType INTEGER,\r\n            priority BOOL,\r\n            dateCreated REAL,\r\n            lastUpdate REAL\r\n        )`\r\n    );\r\n  }\r\n\r\n  public static async selectAllByUserId(userId: number) {\r\n    const { result } = await sqlQuery(\r\n      `SELECT * FROM ${this.MODEL_NAME} WHERE userId = ?`,\r\n      [userId]\r\n    );\r\n\r\n    return mapSqlResultToArray(result).map(({ priority, ...lastProps }) => ({\r\n      priority: priority === \"true\",\r\n      ...lastProps,\r\n    }));\r\n  }\r\n\r\n  public static async selectById(noteId: number) {\r\n    const { result } = await sqlQuery(\r\n      `SELECT * FROM ${this.MODEL_NAME} WHERE id = ?`,\r\n      [noteId]\r\n    );\r\n\r\n    if (!result.rows.length) {\r\n      return null;\r\n    }\r\n\r\n    const resultItem = result.rows.item(0);\r\n\r\n    return { ...resultItem, priority: resultItem.priority === \"true\" };\r\n  }\r\n\r\n  public static async add({\r\n    title,\r\n    userId,\r\n    type,\r\n  }: Pick<Note, \"title\" | \"userId\" | \"type\">) {\r\n    const { result } = await sqlQuery(\r\n      `INSERT INTO ${this.MODEL_NAME} (title, content, userId, dateCreated, priority, type, subType) values(?, ?, ?, ?, ?, ?, ?)`,\r\n      [title, \"\", userId, new Date().getTime(), false, type, SubType.Rich]\r\n    );\r\n\r\n    if (!result.insertId) {\r\n      return null;\r\n    }\r\n\r\n    return NoteModel.selectById(result.insertId);\r\n  }\r\n\r\n  public static async update(\r\n    noteId: number,\r\n    {\r\n      content,\r\n      title,\r\n      lastUpdate = new Date().getTime(),\r\n      priority = false,\r\n      subType,\r\n    }: Partial<Omit<Note, \"id\" | \"userId\" | \"dateCreated\">>\r\n  ) {\r\n    const { result } = await sqlQuery(\r\n      `UPDATE ${this.MODEL_NAME} SET title = ?, content = ?, lastUpdate = ?, priority = ?, subType = ? WHERE id = ?`,\r\n      [title, content, lastUpdate, priority, subType, noteId]\r\n    );\r\n\r\n    if (!result.rowsAffected) {\r\n      return null;\r\n    }\r\n\r\n    return NoteModel.selectById(noteId);\r\n  }\r\n\r\n  public static async delete(noteId: number) {\r\n    const { result } = await sqlQuery(\r\n      `DELETE FROM ${this.MODEL_NAME} WHERE id = ?`,\r\n      [noteId]\r\n    );\r\n\r\n    return result.rowsAffected > 0;\r\n  }\r\n}\r\n\r\nexport default NoteModel;\r\n","export enum TodoDefaultListGroup {\r\n  All = -1,\r\n  Today = -2,\r\n  Priority = -3,\r\n}\r\n\r\nexport const TODO_DEFAULT_LIST_GROUP_VALUES = Object.values(\r\n  TodoDefaultListGroup\r\n).filter(Number.isInteger);\r\n","import { format, isToday, isYesterday } from \"date-fns\";\r\nimport { makeAutoObservable } from \"mobx\";\r\n\r\nimport { modelInitRunner } from \"models\";\r\n\r\nimport { NoteType } from \"enums/notes\";\r\nimport { Note } from \"types/notes\";\r\nimport NoteModel from \"models/note/NoteModel\";\r\n\r\nimport { i18n, pageView } from \"..\";\r\n\r\nclass NotesStore {\r\n  public rawItems: Note[] = [];\r\n\r\n  constructor(userId: number) {\r\n    makeAutoObservable(this);\r\n\r\n    this.init(userId);\r\n  }\r\n\r\n  private async init(userId: number) {\r\n    await modelInitRunner(NoteModel);\r\n\r\n    await this.loadItems(userId);\r\n\r\n    if (this.todayItem) {\r\n      return;\r\n    }\r\n\r\n    this.addNote({ userId, title: null, type: NoteType.time });\r\n  }\r\n\r\n  public get items(): Note[] {\r\n    return this.rawItems.map((item) => {\r\n      const { type, dateCreated } = item;\r\n\r\n      switch (type) {\r\n        case NoteType.base:\r\n          return item;\r\n\r\n        case NoteType.time:\r\n          const title = isToday(dateCreated)\r\n            ? i18n.t(\"Today\")\r\n            : isYesterday(dateCreated)\r\n            ? i18n.t(\"Yesterday\")\r\n            : format(dateCreated, \"dd.MM.yyyy\", pageView.formatOptions);\r\n\r\n          return { ...item, title };\r\n\r\n        default:\r\n          return item;\r\n      }\r\n    });\r\n  }\r\n\r\n  public get sortedItems() {\r\n    return [...this.items]\r\n      .filter(({ type }) => type !== NoteType.time)\r\n      .sort((a, b) => (!a.priority && b.priority ? 1 : -1));\r\n  }\r\n\r\n  public get timeItems() {\r\n    return [...this.items]\r\n      .filter(({ type }) => type === NoteType.time)\r\n      .map(({ id, title, ...additional }) => ({\r\n        value: id,\r\n        label: title,\r\n        additional,\r\n      }));\r\n  }\r\n\r\n  public get todayItem(): Note | null {\r\n    const item = this.rawItems.find(\r\n      ({ dateCreated, type }) => isToday(dateCreated) && type === NoteType.time\r\n    );\r\n\r\n    return item || null;\r\n  }\r\n\r\n  public get notesMap(): Record<number, Note> {\r\n    return this.items.reduce(\r\n      (acc, item) => Object.assign(acc, { [item.id]: item }),\r\n      {}\r\n    );\r\n  }\r\n\r\n  public async loadItems(userId: number) {\r\n    this.rawItems = await NoteModel.selectAllByUserId(userId);\r\n  }\r\n\r\n  public async addNote(note: Pick<Note, \"title\" | \"userId\" | \"type\">) {\r\n    const addedNote = await NoteModel.add(note);\r\n\r\n    if (addedNote) {\r\n      this.rawItems.push(addedNote);\r\n    }\r\n\r\n    return addedNote;\r\n  }\r\n\r\n  public async updateNote(\r\n    noteId: number,\r\n    note: Partial<Omit<Note, \"id\" | \"userId\" | \"dateCreated\">>\r\n  ) {\r\n    const item = await NoteModel.update(\r\n      noteId,\r\n      Object.assign(this.notesMap[noteId], note)\r\n    );\r\n\r\n    if (item) {\r\n      const index = this.rawItems.findIndex(({ id }) => id === noteId);\r\n\r\n      this.rawItems[index] = item;\r\n    }\r\n  }\r\n\r\n  public async deleteNote(noteId: number) {\r\n    const isDeleted = await NoteModel.delete(noteId);\r\n\r\n    if (isDeleted) {\r\n      this.rawItems = this.rawItems.filter(({ id }) => id !== noteId);\r\n    }\r\n  }\r\n\r\n  public async changePriority(noteId: number) {\r\n    this.updateNote(noteId, { priority: !this.notesMap[noteId].priority });\r\n  }\r\n}\r\n\r\nexport default NotesStore;\r\n","import { makeAutoObservable } from \"mobx\";\r\n\r\nclass PasswordStore {\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n  }\r\n}\r\n\r\nexport default PasswordStore;\r\n","import { TodoItem } from \"types/todo-list\";\r\n\r\nimport { mapSqlResultToArray } from \"helpers/mappers\";\r\n\r\nimport { sqlQuery } from \"..\";\r\n\r\nclass TodoItemModel {\r\n  public static MODEL_NAME = \"todo_item_model\";\r\n\r\n  public static init() {\r\n    return sqlQuery(\r\n      `CREATE TABLE ${this.MODEL_NAME} (\r\n          id INTEGER PRIMARY KEY, \r\n          title TEXT, \r\n          description TEXT, \r\n          state INTEGER,\r\n          type INTEGER,\r\n          groupId INTEGER, \r\n          userId INTEGER, \r\n          orderIndex INTEGER, \r\n          steps TEXT, \r\n          dateCreate REAL, \r\n          priority BOOL, \r\n          lastChanged REAL\r\n        )`\r\n    );\r\n  }\r\n\r\n  public static async add({\r\n    title,\r\n    description,\r\n    state,\r\n    type,\r\n    groupId,\r\n    userId,\r\n    steps,\r\n    orderIndex,\r\n  }: Omit<TodoItem, \"id\" | \"lastChanged\" | \"dateCreate\" | \"priority\">) {\r\n    const { result } = await sqlQuery(\r\n      `INSERT INTO ${this.MODEL_NAME} (title, description, state, type, groupId, userId, orderIndex, steps, dateCreate, priority) values(?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`,\r\n      [\r\n        title,\r\n        description,\r\n        state,\r\n        type,\r\n        groupId,\r\n        userId,\r\n        orderIndex,\r\n        JSON.stringify(steps),\r\n        new Date().getTime(),\r\n        false,\r\n      ]\r\n    );\r\n\r\n    if (result.insertId) {\r\n      return TodoItemModel.selectById(result.insertId);\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  public static async selectById(itemId: number) {\r\n    const { result } = await sqlQuery(\r\n      `SELECT * FROM ${this.MODEL_NAME} WHERE id = ?`,\r\n      [itemId]\r\n    );\r\n\r\n    if (!result.rows.length) {\r\n      return null;\r\n    }\r\n\r\n    const { steps, priority, ...rest } = result.rows.item(0);\r\n\r\n    return { steps: JSON.parse(steps), priority: priority === \"true\", ...rest };\r\n  }\r\n\r\n  public static async selectAllForUserId(userId: number): Promise<TodoItem[]> {\r\n    const { result } = await sqlQuery(\r\n      `SELECT * FROM ${this.MODEL_NAME} WHERE userId = ?`,\r\n      [userId]\r\n    );\r\n\r\n    return mapSqlResultToArray(result).map(\r\n      ({ steps = \"[]\", priority, ...rest }) => ({\r\n        steps: JSON.parse(steps),\r\n        priority: priority === \"true\",\r\n        ...rest,\r\n      })\r\n    );\r\n  }\r\n\r\n  public static async update({\r\n    id,\r\n    steps,\r\n    title,\r\n    description,\r\n    state,\r\n    type,\r\n    groupId,\r\n    userId,\r\n    orderIndex,\r\n    priority,\r\n  }: TodoItem) {\r\n    const { result } = await sqlQuery(\r\n      `UPDATE ${this.MODEL_NAME} SET title = ?, description = ?, state = ?, type = ?, groupId = ?, userId = ?, orderIndex = ?, steps = ?, priority = ?, lastChanged = ? WHERE id = ?`,\r\n      [\r\n        title,\r\n        description,\r\n        state,\r\n        type,\r\n        groupId,\r\n        userId,\r\n        orderIndex,\r\n        JSON.stringify(steps),\r\n        priority,\r\n        new Date().getTime(),\r\n        id,\r\n      ]\r\n    );\r\n\r\n    if (result.rowsAffected === 1) {\r\n      return TodoItemModel.selectById(id);\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  public static async removeByGroupId(groupId: number): Promise<boolean> {\r\n    await sqlQuery(`DELETE FROM ${this.MODEL_NAME} WHERE groupId = ?`, [\r\n      groupId,\r\n    ]);\r\n\r\n    return true;\r\n  }\r\n\r\n  public static async removeById(id: number) {\r\n    const { result } = await sqlQuery(\r\n      `DELETE FROM ${this.MODEL_NAME} WHERE id = ?`,\r\n      [id]\r\n    );\r\n\r\n    return result.rowsAffected > 0;\r\n  }\r\n}\r\n\r\nexport default TodoItemModel;\r\n","import { mapSqlResultToArray } from \"helpers/mappers\";\r\n\r\nimport { TodoGroup } from \"types/todo-list\";\r\n\r\nimport { sqlQuery } from \"..\";\r\n\r\nimport TodoItemModel from \"./TodoIteModel\";\r\n\r\nclass TodoGroupModel {\r\n  public static MODEL_NAME = \"todo_group_model\";\r\n\r\n  public static init() {\r\n    return sqlQuery(\r\n      `CREATE TABLE ${this.MODEL_NAME} (\r\n          id INTEGER PRIMARY KEY, \r\n          title TEXT,\r\n          orderIndex INTEGER,\r\n          userId INTEGER\r\n        )`\r\n    );\r\n  }\r\n\r\n  public static async getById(groupId: number) {\r\n    const { result } = await sqlQuery(\r\n      `SELECT * FROM ${this.MODEL_NAME} WHERE id = ?`,\r\n      [groupId]\r\n    );\r\n\r\n    if (result.rows.length) {\r\n      return result.rows.item(0);\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  public static async add({\r\n    title,\r\n    orderIndex,\r\n    userId,\r\n  }: Partial<Omit<TodoGroup, \"id\">>) {\r\n    const { result } = await sqlQuery(\r\n      `INSERT INTO ${this.MODEL_NAME} (title, orderIndex, userId) values(?, ?, ?)`,\r\n      [title, orderIndex, userId]\r\n    );\r\n\r\n    if (result.insertId) {\r\n      return await TodoGroupModel.getById(result.insertId);\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  public static async selectAllForUserId(userId: number): Promise<TodoGroup[]> {\r\n    const { result } = await sqlQuery(\r\n      `SELECT * FROM ${this.MODEL_NAME} WHERE userId = ?`,\r\n      [userId]\r\n    );\r\n\r\n    return mapSqlResultToArray(result);\r\n  }\r\n\r\n  public static async removeById(groupId: number): Promise<boolean> {\r\n    const { result } = await sqlQuery(\r\n      `DELETE FROM ${this.MODEL_NAME} WHERE id = ?`,\r\n      [groupId]\r\n    );\r\n\r\n    return (\r\n      result.rowsAffected === 1 &&\r\n      (await TodoItemModel.removeByGroupId(groupId))\r\n    );\r\n  }\r\n}\r\n\r\nexport default TodoGroupModel;\r\n","import { isToday } from \"date-fns\";\r\nimport { makeAutoObservable } from \"mobx\";\r\n\r\nimport { TodoGroup, TodoItem } from \"types/todo-list\";\r\nimport { TodoDefaultListGroup } from \"enums/todo-list\";\r\n\r\nimport TodoGroupModel from \"models/todo/TodoGroupModel\";\r\nimport TodoItemModel from \"models/todo/TodoIteModel\";\r\nimport { modelInitRunner } from \"models\";\r\n\r\ninterface ItemsMap {\r\n  [key: string | number]: TodoItem[];\r\n}\r\n\r\nclass TodoListStore {\r\n  public groups: TodoGroup[] = [];\r\n  public items: TodoItem[] = [];\r\n\r\n  constructor(userId: number) {\r\n    makeAutoObservable(this);\r\n\r\n    this.init(userId);\r\n  }\r\n\r\n  public get todoMap(): Record<number, TodoItem> {\r\n    return this.items.reduce(\r\n      (acc, item) => Object.assign(acc, { [item.id]: item }),\r\n      {}\r\n    );\r\n  }\r\n\r\n  public get itemsMapForGroups(): ItemsMap {\r\n    const itemsGroupMap = this.items.reduce(\r\n      (acc, item) =>\r\n        Object.assign(acc, {\r\n          [item.groupId]: (acc[item.groupId] || []).concat(item),\r\n        }),\r\n      {} as ItemsMap\r\n    );\r\n\r\n    return {\r\n      ...itemsGroupMap,\r\n      [TodoDefaultListGroup.All]: this.items,\r\n      [TodoDefaultListGroup.Priority]: this.items.filter(\r\n        ({ priority }) => priority\r\n      ),\r\n      [TodoDefaultListGroup.Today]: this.items.filter(({ dateCreate }) =>\r\n        isToday(dateCreate)\r\n      ),\r\n    };\r\n  }\r\n\r\n  public countItemsInGroup(groupId: number | TodoDefaultListGroup) {\r\n    return this.itemsMapForGroups[groupId]?.length || 0;\r\n  }\r\n\r\n  private async init(userId: number) {\r\n    await modelInitRunner(TodoGroupModel);\r\n    await modelInitRunner(TodoItemModel);\r\n\r\n    this.loadData(userId);\r\n  }\r\n\r\n  public async loadData(userId: number) {\r\n    this.groups = await TodoGroupModel.selectAllForUserId(userId);\r\n    this.items = await TodoItemModel.selectAllForUserId(userId);\r\n  }\r\n\r\n  public async addGroup(group: Partial<Omit<TodoGroup, \"id\">>) {\r\n    const addedGroup = await TodoGroupModel.add(group);\r\n\r\n    this.groups.push(addedGroup);\r\n  }\r\n\r\n  public async removeGroup(groupId: number) {\r\n    const removeSuccess = await TodoGroupModel.removeById(groupId);\r\n\r\n    if (removeSuccess) {\r\n      this.groups = this.groups.filter(({ id }) => id !== groupId);\r\n      this.items = this.items.filter(\r\n        ({ groupId: _groupId }) => _groupId !== groupId\r\n      );\r\n    }\r\n  }\r\n\r\n  public async removeItem(itemId: number) {\r\n    const removeSuccess = await TodoItemModel.removeById(itemId);\r\n\r\n    if (removeSuccess) {\r\n      this.items = this.items.filter(({ id }) => id !== itemId);\r\n    }\r\n  }\r\n\r\n  public async addItem(\r\n    item: Omit<TodoItem, \"id\" | \"lastChanged\" | \"dateCreate\" | \"priority\">\r\n  ) {\r\n    const addedItem = await TodoItemModel.add(item);\r\n\r\n    this.items.push(addedItem);\r\n\r\n    return addedItem;\r\n  }\r\n\r\n  public async updateItem(id: number, value: Partial<TodoItem>) {\r\n    const index = this.items.findIndex(({ id: _id }) => _id === id)!;\r\n    const updatedItem = await TodoItemModel.update({\r\n      ...this.items[index],\r\n      ...value,\r\n    });\r\n\r\n    this.items[index] = updatedItem;\r\n  }\r\n}\r\n\r\nexport default TodoListStore;\r\n","import { ru, enUS } from \"date-fns/locale\";\r\nimport { makeAutoObservable } from \"mobx\";\r\n\r\nimport { routes } from \"helpers/router\";\r\n\r\nimport { Language, Theme } from \"enums/page-view\";\r\n\r\nimport { DEFAULT_USER_ID } from \"../user/constants\";\r\n\r\nclass PageViewStore {\r\n  public expandedSideBar = false;\r\n  public language = Language.Ru;\r\n  public theme = Theme.Dark;\r\n  public currentUserId = DEFAULT_USER_ID;\r\n  public pagePath = { pathname: routes.ROOT, search: \"\" };\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n\r\n    const savedSettingsJson = localStorage.getItem(\"page-settings\");\r\n\r\n    window.addEventListener(\"unload\", () => {\r\n      const { pathname, search } = window.location;\r\n      console.log(JSON.parse(JSON.stringify(window.location)))\r\n\r\n      localStorage.setItem(\r\n        \"page-settings\",\r\n        JSON.stringify(\r\n          Object.assign(\r\n            {\r\n              pagePath: {\r\n                pathname,\r\n                search,\r\n              },\r\n            },\r\n            this\r\n          )\r\n        )\r\n      );\r\n    });\r\n\r\n    if (savedSettingsJson === null) {\r\n      return;\r\n    }\r\n\r\n    const savedSettings = JSON.parse(savedSettingsJson);\r\n\r\n    for (const key in savedSettings) {\r\n      if (key in this) {\r\n        (this as any)[key] = savedSettings[key];\r\n      }\r\n    }\r\n  }\r\n\r\n  public get isDarkTheme() {\r\n    return this.theme === Theme.Dark;\r\n  }\r\n\r\n  public get smallLanguage(): string {\r\n    return this.language.split(\"_\")[0];\r\n  }\r\n\r\n  public get formatOptions() {\r\n    return {\r\n      locale: this.language === Language.Ru ? ru : enUS,\r\n    };\r\n  }\r\n\r\n  public toggleExpanded = () => {\r\n    this.expandedSideBar = !this.expandedSideBar;\r\n  };\r\n\r\n  public changeTheme = (newTheme: Theme) => {\r\n    this.theme = newTheme;\r\n  };\r\n\r\n  public changeLanguage = (lang: Language) => {\r\n    this.language = lang;\r\n  };\r\n\r\n  public changeCurrentUser(userId: number) {\r\n    this.currentUserId = userId;\r\n  }\r\n}\r\n\r\nexport default PageViewStore;\r\n","import i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\nimport { reaction } from \"mobx\";\r\n\r\nimport { Language } from \"enums/page-view\";\r\n\r\nimport UserStore from \"./user\";\r\nimport NotesStore from \"./notes\";\r\nimport PasswordStore from \"./passwords\";\r\nimport TodoListStore from \"./todo-list\";\r\nimport PageViewStore from \"./page-view\";\r\n\r\nimport ru from \"glossary/ru.json\";\r\nimport enUS from \"glossary/enUS.json\";\r\nimport { DEFAULT_USER_ID } from \"./user/constants\";\r\n\r\nexport const pageView = new PageViewStore();\r\nexport const user = new UserStore(pageView.currentUserId);\r\nexport const notes = new NotesStore(pageView.currentUserId);\r\nexport const passwords = new PasswordStore();\r\nexport const todoList = new TodoListStore(pageView.currentUserId);\r\n\r\ni18n.use(initReactI18next).init({\r\n  resources: {\r\n    [Language.EnUS]: {\r\n      translation: enUS,\r\n    },\r\n    [Language.Ru]: {\r\n      translation: ru,\r\n    },\r\n  },\r\n  lng: pageView.language,\r\n  fallbackLng: Language.EnUS,\r\n  interpolation: {\r\n    escapeValue: false,\r\n  },\r\n});\r\n\r\nreaction(\r\n  () => pageView.language,\r\n  (lang) => i18n.changeLanguage(lang)\r\n);\r\n\r\nreaction(\r\n  () => user.data,\r\n  (user) => {\r\n    if (pageView.currentUserId !== user?.id) {\r\n      pageView.changeCurrentUser(user?.id || DEFAULT_USER_ID);\r\n    }\r\n  }\r\n);\r\n\r\nexport { i18n };\r\n","export interface TodoGroup {\r\n  id: number;\r\n  title: string;\r\n  orderIndex: number;\r\n  userId: number;\r\n}\r\n\r\nexport enum TodoState {\r\n  InProgress,\r\n  Done,\r\n}\r\n\r\nexport interface TodoStep {\r\n  id: number;\r\n  title: string;\r\n  priority: boolean;\r\n  state: TodoState;\r\n}\r\n\r\nexport interface TodoItem {\r\n  id: number;\r\n  title: string;\r\n  description: string;\r\n  state: TodoState;\r\n  type: number; // ???\r\n  groupId: number;\r\n  userId: number;\r\n  orderIndex: number | null;\r\n  steps: TodoStep[];\r\n  dateCreate: number;\r\n  priority: boolean;\r\n  lastChanged: number | null;\r\n}\r\n","import { useTranslation } from \"react-i18next\";\r\n\r\nconst Error404 = () => {\r\n  const { t } = useTranslation();\r\n\r\n  return (\r\n    <div className=\"p-10\">\r\n      <h2>{t(\"Error\")} 404!</h2>\r\n      <h5>{t(\"Page not found\")}!</h5>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Error404;\r\n","import { FC, ReactNode } from \"react\";\r\nimport { Content, FlexboxGrid } from \"rsuite\";\r\n\r\ninterface PageContentProps {\r\n  navigation?: ReactNode;\r\n  children: ReactNode;\r\n}\r\n\r\nconst PageContent: FC<PageContentProps> = ({ navigation, children }) => (\r\n  <Content>\r\n    {navigation ? (\r\n      <FlexboxGrid className=\"full-height\">\r\n        <FlexboxGrid.Item className=\"full-height b-right\" colspan={4}>\r\n          {navigation}\r\n        </FlexboxGrid.Item>\r\n        <FlexboxGrid.Item colspan={20} className=\"full-height\">{children}</FlexboxGrid.Item>\r\n      </FlexboxGrid>\r\n    ) : (\r\n      children\r\n    )}\r\n  </Content>\r\n);\r\n\r\nexport default PageContent;\r\n","import { ContextMenuItemHandler } from \"./types\";\r\n\r\nexport const handlerBuilder =\r\n  (handler: ContextMenuItemHandler) =>\r\n  (\r\n    event: React.TouchEvent<HTMLDivElement> | React.MouseEvent<HTMLDivElement>,\r\n    data: Object,\r\n    target: HTMLElement\r\n  ) =>\r\n    handler(target.parentElement?.dataset?.uid as string, event, data, target);\r\n","import { FC } from \"react\";\r\nimport { Dropdown } from \"rsuite\";\r\nimport { ContextMenu as ContextMenuLib, MenuItem } from \"react-contextmenu\";\r\n\r\nimport { ContextMenuItem } from \"./types\";\r\nimport { handlerBuilder } from \"./utils\";\r\n\r\ninterface ContextMenuProps {\r\n  items: ContextMenuItem[];\r\n  id: string;\r\n}\r\n\r\nconst ContextMenu: FC<ContextMenuProps> = ({ id, items }) => (\r\n  <ContextMenuLib id={id}>\r\n    <Dropdown.Menu>\r\n      {items.map(({ handler, label, icon, className }, index) => (\r\n        <MenuItem onClick={handlerBuilder(handler)} key={index}>\r\n          <Dropdown.Item icon={icon} className={className}>\r\n            {label}\r\n          </Dropdown.Item>\r\n        </MenuItem>\r\n      ))}\r\n    </Dropdown.Menu>\r\n  </ContextMenuLib>\r\n);\r\n\r\nexport default ContextMenu;\r\n","import { List } from \"rsuite\";\r\nimport styled, { css } from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  max-height: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nexport const ListTitle = styled.div`\r\n  height: 56px;\r\n  padding: 10px;\r\n  border-bottom: 1px solid var(--rs-divider-border);\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nexport const TodoListElement = styled(List)`\r\n  box-shadow: none;\r\n  height: 100%;\r\n\r\n  &[data-added=\"true\"][data-title=\"true\"] {\r\n    height: calc(100% - 112px);\r\n  }\r\n\r\n  &[data-added=\"true\"],\r\n  &[data-title=\"true\"] {\r\n    height: calc(100% - 56px);\r\n  }\r\n`;\r\n\r\nconst LIST_ITEM_STYLE = css`\r\n  border-radius: 4px;\r\n  background: var(--ym-list-bg);\r\n\r\n  & svg {\r\n    display: flex;\r\n    height: 16px;\r\n    width: auto;\r\n  }\r\n\r\n  &:hover {\r\n    background: var(--ym-list-bg-hover);\r\n  }\r\n`;\r\n\r\nexport const ListItem = styled(List.Item)`\r\n  ${LIST_ITEM_STYLE}\r\n  box-shadow: none;\r\n  cursor: pointer;\r\n  padding: 0px;\r\n\r\n  & > div {\r\n    padding: 10px 14px;\r\n  }\r\n\r\n  &:not(:last-child) {\r\n    margin-bottom: 5px;\r\n  }\r\n\r\n  & > div .content {\r\n    font-size: 15px;\r\n    word-break: break-all;\r\n  }\r\n\r\n  &[data-active=\"true\"] {\r\n    background: var(--ym-list-bg-active);\r\n    color: var(--rs-primary-700);\r\n    font-weight: bold;\r\n  }\r\n`;\r\n\r\nexport const AddItemContainer = styled.div`\r\n  ${LIST_ITEM_STYLE}\r\n  margin-top: 8px;\r\n  cursor: text;\r\n  padding: 10px 14px;\r\n\r\n  & p {\r\n    font-size: 14px;\r\n    margin: 3px 0px;\r\n    display: inline-block;\r\n    padding-left: 12px;\r\n  }\r\n\r\n  & input {\r\n    background: transparent;\r\n  }\r\n\r\n  & input,\r\n  input:focus {\r\n    border: none;\r\n    box-shadow: none;\r\n  }\r\n\r\n  & > div > div:first-child {\r\n    width: 20px;\r\n    text-align: center;\r\n  }\r\n\r\n  & > div > div:last-child {\r\n    width: calc(100% - 20px);\r\n  }\r\n`;\r\n\r\nexport const ItemIcon = styled.div`\r\n  width: 30px;\r\n`;\r\n\r\nexport const ItemContent = styled.div`\r\n  width: calc(100% - 30px);\r\n`;\r\n","import { FC, useCallback, useState } from \"react\";\r\nimport { FlexboxGrid, Input } from \"rsuite\";\r\n\r\nimport { AddItemContainer } from \"./styles\";\r\n\r\nimport PlusIcon from \"@rsuite/icons/Plus\";\r\nimport AddOutlineIcon from \"@rsuite/icons/AddOutline\";\r\n\r\ninterface AddListItemProps {\r\n  onAddItem: (title: string) => boolean;\r\n  placeholder?: string;\r\n}\r\n\r\nconst AddListItem: FC<AddListItemProps> = ({\r\n  onAddItem,\r\n  placeholder = \"Add task\",\r\n}) => {\r\n  const [focused, setFocused] = useState(false);\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const onRemoveFocused = useCallback(() => setFocused(false), [setFocused]);\r\n\r\n  const onPressEnterHandler = useCallback(\r\n    (event) => {\r\n      if (onAddItem(value)) {\r\n        setValue(\"\");\r\n      }\r\n    },\r\n    [onAddItem, value]\r\n  );\r\n\r\n  const isShowInput = Boolean(value || focused);\r\n\r\n  return (\r\n    <AddItemContainer\r\n      onClick={() => setFocused(true)}\r\n      data-focused={focused}\r\n      className=\"add-control\"\r\n    >\r\n      <FlexboxGrid align=\"middle\" justify=\"space-between\">\r\n        <FlexboxGrid.Item>\r\n          {isShowInput ? <AddOutlineIcon /> : <PlusIcon />}\r\n        </FlexboxGrid.Item>\r\n        <FlexboxGrid.Item>\r\n          {isShowInput ? (\r\n            <Input\r\n              size=\"sm\"\r\n              autoFocus\r\n              value={value}\r\n              onChange={(value) => setValue(value as string)}\r\n              onPressEnter={onPressEnterHandler}\r\n              placeholder=\"Typing todo title...\"\r\n              onBlur={onRemoveFocused}\r\n            />\r\n          ) : (\r\n            <p>{placeholder}</p>\r\n          )}\r\n        </FlexboxGrid.Item>\r\n      </FlexboxGrid>\r\n    </AddItemContainer>\r\n  );\r\n};\r\n\r\nexport default AddListItem;\r\n","import React, { FC } from \"react\";\r\nimport { ListProps } from \"rsuite\";\r\n\r\nimport AddListItem from \"./AddListItem\";\r\nimport { Container, TodoListElement, ListTitle } from \"./styles\";\r\n\r\ninterface TodoListProps extends ListProps {\r\n  children: React.ReactNode;\r\n  onAddItem?: (title: string) => boolean;\r\n  addPlaceholder?: string;\r\n  title?: React.ReactNode;\r\n  emptyPlaceholder?: React.ReactNode;\r\n  empty?: boolean;\r\n}\r\n\r\nconst TodoList: FC<TodoListProps> = ({\r\n  children,\r\n  onAddItem,\r\n  addPlaceholder,\r\n  title,\r\n  emptyPlaceholder = \"List is empty\",\r\n  empty = false,\r\n  ...restProps\r\n}) => (\r\n  <Container>\r\n    {title && <ListTitle>{title}</ListTitle>}\r\n    <TodoListElement\r\n      {...restProps}\r\n      data-added={Boolean(onAddItem)}\r\n      data-title={Boolean(title)}\r\n    >\r\n      {empty ? (\r\n        <h6 className=\"flex-center full-height\">{emptyPlaceholder}</h6>\r\n      ) : (\r\n        children\r\n      )}\r\n    </TodoListElement>\r\n    {onAddItem && (\r\n      <AddListItem onAddItem={onAddItem} placeholder={addPlaceholder} />\r\n    )}\r\n  </Container>\r\n);\r\n\r\nexport default TodoList;\r\n","import React, { FC } from \"react\";\r\nimport { FlexboxGrid, ListItemProps } from \"rsuite\";\r\nimport { ContextMenuTrigger } from \"react-contextmenu\";\r\n\r\nimport { ItemContent, ItemIcon, ListItem } from \"./styles\";\r\n\r\ninterface TodoListItemProps extends ListItemProps {\r\n  icon?: React.ReactNode;\r\n  postfix?: React.ReactNode;\r\n  active?: boolean;\r\n  contextMenuId?: string;\r\n  contextMenuUId?: string | number;\r\n}\r\n\r\nconst TodoListItem: FC<TodoListItemProps> = ({\r\n  children,\r\n  icon,\r\n  postfix,\r\n  active = false,\r\n  contextMenuId,\r\n  contextMenuUId,\r\n  ...restProps\r\n}) => {\r\n  const content = (\r\n    <FlexboxGrid align=\"middle\" justify=\"space-between\">\r\n      <FlexboxGrid.Item\r\n        className=\"content flex-block flex-align-center\"\r\n        colspan={22}\r\n      >\r\n        <ItemIcon>{icon}</ItemIcon>\r\n        <ItemContent>{children}</ItemContent>\r\n      </FlexboxGrid.Item>\r\n      <FlexboxGrid.Item className=\"align-right\" colspan={2}>\r\n        {postfix}\r\n      </FlexboxGrid.Item>\r\n    </FlexboxGrid>\r\n  );\r\n\r\n  return (\r\n    <ListItem {...restProps} data-active={active} data-uid={contextMenuUId}>\r\n      {contextMenuId ? (\r\n        <ContextMenuTrigger id={contextMenuId}>{content}</ContextMenuTrigger>\r\n      ) : (\r\n        <div>{content}</div>\r\n      )}\r\n    </ListItem>\r\n  );\r\n};\r\n\r\nexport default TodoListItem;\r\n","import { Content } from \"rsuite\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { List as TodoList, ListItem as TodoListItem } from \"components/list\";\r\n\r\nexport const NavContainer = styled.div`\r\n  height: 100vh;\r\n  width: 100%;\r\n  border-right: 1px solid var(--rs-divider-border);\r\n`;\r\n\r\nexport const ListTasksContainer = styled.div`\r\n  height: calc(100vh - 145px);\r\n`;\r\n\r\nexport const TopListTasksContainer = styled.div`\r\n  height: 145px;\r\n`;\r\n\r\nexport const StyledTodoList = styled(TodoList)`\r\n  & + .add-control {\r\n    border-radius: 0;\r\n    background: transparent;\r\n    border-top: 1px solid var(--rs-divider-border);\r\n  }\r\n`;\r\n\r\nexport const CountItemsContainer = styled.div`\r\n  color: var(--rs-gray-500);\r\n  font-size: 13px;\r\n`;\r\n\r\nexport const StyledListItem = styled(TodoListItem)`\r\n  background: transparent;\r\n  margin: 5px;\r\n\r\n  svg {\r\n    height: 16px;\r\n    width: auto;\r\n  }\r\n`;\r\n\r\nexport const StyledContent = styled(Content)`\r\n  height: 100vh;\r\n  padding: 20px 30px;\r\n`;\r\n\r\nexport const Title = styled.h3`\r\n  input {\r\n    color: var(--rs-sidenav-subtle-selected-text) !important;\r\n  }\r\n`;\r\n\r\nexport const ListContainer = styled.div`\r\n  border-radius: 20px;\r\n  margin-top: 20px;\r\n  height: calc(100vh - 100px);\r\n`;\r\n\r\nexport const StepsState = styled.div`\r\n  font-size: 10px;\r\n  color: var(--rs-btn-subtle-text);\r\n`;\r\n","import { FC } from \"react\";\r\n\r\ninterface StarProps extends React.SVGProps<SVGSVGElement> {\r\n  filled?: boolean;\r\n}\r\n\r\nconst Star: FC<StarProps> = ({ filled, ...restProps }) => (\r\n  <svg\r\n    stroke=\"currentColor\"\r\n    fill=\"currentColor\"\r\n    strokeWidth=\"0\"\r\n    viewBox=\"0 0 24 24\"\r\n    height=\"1em\"\r\n    width=\"1em\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    {...restProps}\r\n  >\r\n    <g>\r\n      <path fill=\"none\" d=\"M0 0h24v24H0z\"></path>\r\n      {filled ? (\r\n        <path d=\"M12 17l-5.878 3.59 1.598-6.7-5.23-4.48 6.865-.55L12 2.5l2.645 6.36 6.866.55-5.231 4.48 1.598 6.7z\"></path>\r\n      ) : (\r\n        <path d=\"M12 18.26l-7.053 3.948 1.575-7.928L.587 8.792l8.027-.952L12 .5l3.386 7.34 8.027.952-5.935 5.488 1.575 7.928L12 18.26zm0-2.292l4.247 2.377-.949-4.773 3.573-3.305-4.833-.573L12 5.275l-2.038 4.42-4.833.572 3.573 3.305-.949 4.773L12 15.968z\"></path>\r\n      )}\r\n    </g>\r\n  </svg>\r\n);\r\n\r\nexport default Star;\r\n","import { FC, useCallback, useMemo } from \"react\";\r\nimport { Divider } from \"rsuite\";\r\nimport { observer } from \"mobx-react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nimport { todoList, user } from \"store\";\r\n\r\nimport { TodoDefaultListGroup } from \"enums/todo-list\";\r\n\r\nimport ContextMenu from \"components/context-menu\";\r\n\r\nimport {\r\n  NavContainer,\r\n  ListTasksContainer,\r\n  TopListTasksContainer,\r\n  StyledTodoList,\r\n  CountItemsContainer,\r\n  StyledListItem,\r\n} from \"./styles\";\r\n\r\nimport Star from \"icons/Star\";\r\nimport TimeIcon from \"@rsuite/icons/Time\";\r\nimport TrashIcon from \"@rsuite/icons/Trash\";\r\nimport AttachmentIcon from \"@rsuite/icons/Attachment\";\r\nimport ListIcon from \"@rsuite/icons/List\";\r\n\r\ninterface TodoGroupControlProps {\r\n  activeKey: string | number;\r\n  changeActiveGroup: (activeGroupId: number | TodoDefaultListGroup) => void;\r\n}\r\n\r\nconst TodoGroupControl: FC<TodoGroupControlProps> = ({\r\n  activeKey,\r\n  changeActiveGroup,\r\n}) => {\r\n  const { groups } = todoList;\r\n  const { t } = useTranslation();\r\n\r\n  const onAddGroup = useCallback(\r\n    (title: string) => {\r\n      todoList.addGroup({\r\n        title,\r\n        orderIndex: groups.length + 1,\r\n        userId: user.userId,\r\n      });\r\n\r\n      return true;\r\n    },\r\n    [groups]\r\n  );\r\n\r\n  const onDeleteGroup = useCallback((groupId) => {\r\n    todoList.removeGroup(Number(groupId));\r\n  }, []);\r\n\r\n  const contextMenuItems = useMemo(\r\n    () => [\r\n      {\r\n        label: t(\"Delete group\"),\r\n        handler: onDeleteGroup,\r\n        className: \"delete-button\",\r\n        icon: <TrashIcon />,\r\n      },\r\n    ],\r\n    [onDeleteGroup, t]\r\n  );\r\n\r\n  return (\r\n    <NavContainer>\r\n      <ContextMenu id=\"group-context\" items={contextMenuItems} />\r\n      <TopListTasksContainer>\r\n        <StyledTodoList>\r\n          <StyledListItem\r\n            icon={<ListIcon />}\r\n            postfix={\r\n              <CountItemsContainer>\r\n                {todoList.countItemsInGroup(TodoDefaultListGroup.All) || \"\"}\r\n              </CountItemsContainer>\r\n            }\r\n            active={TodoDefaultListGroup.All === activeKey}\r\n            onClick={() => changeActiveGroup(TodoDefaultListGroup.All)}\r\n          >\r\n            {t(\"All\")}\r\n          </StyledListItem>\r\n\r\n          <StyledListItem\r\n            icon={<TimeIcon />}\r\n            postfix={\r\n              <CountItemsContainer>\r\n                {todoList.countItemsInGroup(TodoDefaultListGroup.Today) || \"\"}\r\n              </CountItemsContainer>\r\n            }\r\n            active={TodoDefaultListGroup.Today === activeKey}\r\n            onClick={() => changeActiveGroup(TodoDefaultListGroup.Today)}\r\n          >\r\n            {t(\"Today\")}\r\n          </StyledListItem>\r\n\r\n          <StyledListItem\r\n            icon={<Star />}\r\n            postfix={\r\n              <CountItemsContainer>\r\n                {todoList.countItemsInGroup(TodoDefaultListGroup.Priority) ||\r\n                  \"\"}\r\n              </CountItemsContainer>\r\n            }\r\n            active={TodoDefaultListGroup.Priority === activeKey}\r\n            onClick={() => changeActiveGroup(TodoDefaultListGroup.Priority)}\r\n          >\r\n            {t(\"Priority\")}\r\n          </StyledListItem>\r\n        </StyledTodoList>\r\n      </TopListTasksContainer>\r\n\r\n      <Divider className=\"reset-margin\" />\r\n\r\n      <ListTasksContainer>\r\n        <StyledTodoList\r\n          onAddItem={onAddGroup}\r\n          addPlaceholder={t(\"Add task group\")}\r\n          emptyPlaceholder={`${t(\"No task groups\")} [+]`}\r\n          empty={!groups.length}\r\n        >\r\n          {groups.map(({ id, title }) => (\r\n            <StyledListItem\r\n              contextMenuId=\"group-context\"\r\n              contextMenuUId={id}\r\n              icon={<AttachmentIcon />}\r\n              active={activeKey === id}\r\n              key={id}\r\n              postfix={\r\n                <CountItemsContainer>\r\n                  {todoList.countItemsInGroup(id) || \"\"}\r\n                </CountItemsContainer>\r\n              }\r\n              onClick={() => changeActiveGroup(id)}\r\n            >\r\n              {title}\r\n            </StyledListItem>\r\n          ))}\r\n        </StyledTodoList>\r\n      </ListTasksContainer>\r\n    </NavContainer>\r\n  );\r\n};\r\n\r\nexport default observer(TodoGroupControl);\r\n","import { FC, useCallback, useEffect, useState } from \"react\";\r\nimport { Input, InputProps } from \"rsuite\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.span`\r\n  input,\r\n  input:focus {\r\n    padding: 0;\r\n    box-shadow: none;\r\n    border: none;\r\n    background: transparent;\r\n    font-size: inherit;\r\n  }\r\n`;\r\n\r\ninterface EditableTitleProps extends InputProps {\r\n  onSave: (title: string) => void;\r\n  children: string;\r\n}\r\n\r\nconst EditableTitle: FC<EditableTitleProps> = ({\r\n  children,\r\n  onSave,\r\n  ...restProps\r\n}) => {\r\n  const [value, setValue] = useState(children);\r\n\r\n  const onSaveHandler = useCallback(() => onSave(value), [onSave, value]);\r\n\r\n  useEffect(() => {\r\n    setValue(children);\r\n  }, [children]);\r\n\r\n  return (\r\n    <Container className=\"full-width\">\r\n      <Input\r\n        {...restProps}\r\n        value={value}\r\n        onChange={(val) => setValue(val as string)}\r\n        onBlur={onSaveHandler}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default EditableTitle;\r\n","import { FC } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { TodoState } from \"types/todo-list\";\r\n\r\nconst StyledSvg = styled.svg`\r\n  & .success {\r\n    visibility: hidden;\r\n  }\r\n\r\n  &[data-hovered=\"true\"]:hover .success,\r\n  &[data-show=\"true\"] .success {\r\n    visibility: visible;\r\n  }\r\n`;\r\n\r\nconst Container = styled.span`\r\n  display: flex;\r\n\r\n  & > svg {\r\n    min-height: 20px;\r\n    width: auto;\r\n    display: none;\r\n  }\r\n\r\n  .empty {\r\n    display: flex;\r\n  }\r\n\r\n  &:hover .empty {\r\n    display: none;\r\n  }\r\n\r\n  &:hover .success {\r\n    display: flex;\r\n  }\r\n\r\n  &[data-done=\"true\"] {\r\n    .empty,\r\n    .success {\r\n      display: none;\r\n    }\r\n\r\n    .filled-success {\r\n      display: flex;\r\n    }\r\n  }\r\n`;\r\n\r\ninterface TodoIconProps {\r\n  state?: TodoState;\r\n  hovered?: boolean;\r\n}\r\n\r\nconst Empty = () => (\r\n  <StyledSvg\r\n    stroke=\"currentColor\"\r\n    fill=\"currentColor\"\r\n    strokeWidth=\"0\"\r\n    viewBox=\"0 0 24 24\"\r\n    height=\"1em\"\r\n    width=\"1em\"\r\n    className=\"empty\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"></path>\r\n  </StyledSvg>\r\n);\r\n\r\nconst Success = () => (\r\n  <StyledSvg\r\n    stroke=\"currentColor\"\r\n    fill=\"currentColor\"\r\n    strokeWidth=\"0\"\r\n    viewBox=\"0 0 24 24\"\r\n    height=\"1em\"\r\n    width=\"1em\"\r\n    className=\"success\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z\"></path>\r\n  </StyledSvg>\r\n);\r\n\r\nconst FilledSuccess = () => (\r\n  <StyledSvg\r\n    stroke=\"currentColor\"\r\n    fill=\"currentColor\"\r\n    strokeWidth=\"0\"\r\n    viewBox=\"0 0 24 24\"\r\n    height=\"1em\"\r\n    width=\"1em\"\r\n    className=\"filled-success\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"></path>\r\n  </StyledSvg>\r\n);\r\n\r\nconst TodoIcon: FC<TodoIconProps> = ({\r\n  state = TodoState.InProgress,\r\n  hovered,\r\n}) => {\r\n  return (\r\n    <Container data-done={state === TodoState.Done} data-hovered={hovered}>\r\n      <Empty />\r\n      <Success />\r\n      <FilledSuccess />\r\n    </Container>\r\n  );\r\n};\r\nexport default TodoIcon;\r\n","import { TodoDefaultListGroup } from \"enums/todo-list\";\r\n\r\nexport enum ItemsFilter {\r\n  All,\r\n  Done,\r\n  InProgress,\r\n}\r\n\r\nexport interface TodoListFilter {\r\n  group: string | number | TodoDefaultListGroup;\r\n  filter: ItemsFilter;\r\n}\r\n","export enum SearchGroup {\r\n  Todo,\r\n  Notes,\r\n  Passwords,\r\n}\r\n\r\nexport interface SearchFilter {\r\n  query: string;\r\n  groups: SearchGroup[];\r\n}\r\n\r\nexport type UseSearchChange = (value: Partial<SearchFilter>) => void;\r\n\r\nexport type UseSearchResult = [SearchFilter, UseSearchChange];\r\n","import { FC, useEffect, useRef } from \"react\";\r\nimport { Input, InputProps } from \"rsuite\";\r\nimport autosize from \"autosize\";\r\n\r\ninterface TextareaProps extends InputProps {}\r\n\r\nconst Textarea: FC<TextareaProps> = ({ style, ...props }) => {\r\n  const ref = useRef<any>(null);\r\n\r\n  useEffect(() => {\r\n    autosize(ref.current);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    autosize.update(ref.current);\r\n  }, [props.value]);\r\n\r\n  return (\r\n    <Input\r\n      {...props}\r\n      as=\"textarea\"\r\n      ref={ref}\r\n      style={{ resize: \"none\", ...style }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Textarea;\r\n","import { FC, useEffect, useState } from \"react\";\r\nimport { InputProps } from \"rsuite\";\r\n\r\nimport Textarea from \"components/textarea\";\r\n\r\ninterface DescriptionTextareaProps extends InputProps {\r\n  value: string;\r\n  onEdit: (value: string) => void;\r\n}\r\n\r\nconst DescriptionTextarea: FC<DescriptionTextareaProps> = ({\r\n  value,\r\n  onEdit,\r\n  ...rest\r\n}) => {\r\n  const [currentValue, setCurrentValue] = useState(value);\r\n\r\n  useEffect(() => {\r\n    setCurrentValue(value);\r\n  }, [value]);\r\n\r\n  return (\r\n    <Textarea\r\n      value={currentValue}\r\n      onChange={(value) => setCurrentValue(value as string)}\r\n      onBlur={() => onEdit(currentValue)}\r\n      {...rest}\r\n    />\r\n  );\r\n};\r\n\r\nexport default DescriptionTextarea;\r\n","import { FC, useCallback, useMemo } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { FlexboxGrid, IconButton } from \"rsuite\";\r\nimport { formatDistance } from \"date-fns\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nimport EditableTitle from \"components/editable-title\";\r\nimport TodoIcon from \"components/list/ItemIcon\";\r\nimport { List, ListItem } from \"components/list\";\r\n\r\nimport { pageView, todoList } from \"store\";\r\n\r\nimport { TodoState } from \"types/todo-list\";\r\n\r\nimport DescriptionTextarea from \"./DescriptionTextarea\";\r\n\r\nimport Star from \"icons/Star\";\r\nimport CloseIcon from \"@rsuite/icons/Close\";\r\nimport ArrowRightIcon from \"@rsuite/icons/ArrowRight\";\r\nimport TrashIcon from \"@rsuite/icons/Trash\";\r\n\r\nconst Container = styled.div`\r\n  height: 100vh;\r\n  border-left: 1px solid var(--rs-divider-border);\r\n`;\r\n\r\nconst ScrollContainer = styled.div`\r\n  height: calc(100vh - 56px);\r\n  overflow-y: auto;\r\n  padding: 15px;\r\n`;\r\n\r\nconst TitleContainer = styled.div`\r\n  margin-bottom: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  & h4 {\r\n    flex: auto;\r\n    font-weight: normal;\r\n    margin-left: 15px;\r\n  }\r\n\r\n  & svg {\r\n    height: 22px;\r\n    width: auto;\r\n  }\r\n\r\n  & span {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst ListContainer = styled.div`\r\n  height: fit-content;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\ninterface RightSideProps {\r\n  selectedId: number;\r\n  onClose: () => void;\r\n  onChangeState: (id: number, state: TodoState) => void;\r\n}\r\n\r\nconst RightSide: FC<RightSideProps> = ({\r\n  selectedId,\r\n  onClose,\r\n  onChangeState,\r\n}) => {\r\n  const { todoMap } = todoList;\r\n\r\n  const currentItem = useMemo(\r\n    () => (selectedId ? todoMap[selectedId] : null),\r\n    [selectedId, todoMap]\r\n  );\r\n\r\n  const { title, state, priority, steps, lastChanged, description } =\r\n    currentItem!;\r\n  const { t } = useTranslation();\r\n\r\n  const onUpdateTitle = useCallback(\r\n    (title) => {\r\n      todoList.updateItem(selectedId, { title });\r\n    },\r\n    [selectedId]\r\n  );\r\n\r\n  const onAddStep = useCallback(\r\n    (title) => {\r\n      todoList.updateItem(selectedId, {\r\n        steps: steps.concat({\r\n          id: steps.length + 1,\r\n          priority: false,\r\n          title,\r\n          state: TodoState.InProgress,\r\n        }),\r\n      });\r\n\r\n      return true;\r\n    },\r\n    [selectedId, steps]\r\n  );\r\n\r\n  const onRemoveStep = useCallback(\r\n    (stepId: number) => {\r\n      todoList.updateItem(selectedId, {\r\n        steps: steps.filter(({ id }) => id !== stepId),\r\n      });\r\n    },\r\n    [selectedId, steps]\r\n  );\r\n\r\n  const onEditStepTitle = useCallback(\r\n    (stepId) => (title: string) => {\r\n      const index = steps.findIndex(({ id }) => id === stepId);\r\n      const newSteps = [...steps];\r\n\r\n      if (newSteps[index].title === title) {\r\n        return;\r\n      }\r\n\r\n      newSteps[index].title = title;\r\n\r\n      todoList.updateItem(selectedId, {\r\n        steps: newSteps,\r\n      });\r\n    },\r\n    [steps, selectedId]\r\n  );\r\n\r\n  const onEditStepState = useCallback(\r\n    (stepId) => () => {\r\n      const index = steps.findIndex(({ id }) => id === stepId);\r\n      const newSteps = [...steps];\r\n      const state =\r\n        newSteps[index].state === TodoState.Done\r\n          ? TodoState.InProgress\r\n          : TodoState.Done;\r\n\r\n      if (newSteps[index].state === state) {\r\n        return;\r\n      }\r\n\r\n      newSteps[index].state = state;\r\n\r\n      todoList.updateItem(selectedId, {\r\n        steps: newSteps,\r\n      });\r\n    },\r\n    [selectedId, steps]\r\n  );\r\n\r\n  const isDone = state === TodoState.Done;\r\n\r\n  return (\r\n    <Container>\r\n      <ScrollContainer>\r\n        <TitleContainer>\r\n          <span\r\n            className=\"hover-icon flex-block\"\r\n            onClick={() =>\r\n              onChangeState(\r\n                selectedId,\r\n                isDone ? TodoState.InProgress : TodoState.Done\r\n              )\r\n            }\r\n          >\r\n            <TodoIcon state={state} hovered />\r\n          </span>\r\n          <h4>\r\n            <EditableTitle onSave={onUpdateTitle}>{title}</EditableTitle>\r\n          </h4>\r\n          <span\r\n            className=\"hover-icon flex-block\"\r\n            onClick={() =>\r\n              todoList.updateItem(selectedId, { priority: !priority })\r\n            }\r\n          >\r\n            <Star filled={priority} />\r\n          </span>\r\n        </TitleContainer>\r\n\r\n        <ListContainer>\r\n          <List addPlaceholder={t(\"Add step\")} onAddItem={onAddStep}>\r\n            {steps.map(({ id, title, state }) => (\r\n              <ListItem\r\n                key={id}\r\n                icon={\r\n                  <span\r\n                    className=\"hover-icon\"\r\n                    title={\r\n                      state === TodoState.InProgress\r\n                        ? t(\"Mark as done\")\r\n                        : t(\"Move back to in progress\")\r\n                    }\r\n                    onClick={onEditStepState(id)}\r\n                  >\r\n                    <TodoIcon state={state} hovered />\r\n                  </span>\r\n                }\r\n                postfix={\r\n                  <span\r\n                    title={t(\"Remove step\")}\r\n                    className=\"hover-icon centered-span\"\r\n                    onClick={() => onRemoveStep(id)}\r\n                  >\r\n                    <CloseIcon className=\"icon-14\" />\r\n                  </span>\r\n                }\r\n              >\r\n                <EditableTitle onSave={onEditStepTitle(id)}>\r\n                  {title}\r\n                </EditableTitle>\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        </ListContainer>\r\n\r\n        <DescriptionTextarea\r\n          placeholder={t(\"Add notes\")}\r\n          onEdit={(description) =>\r\n            todoList.updateItem(selectedId, { description })\r\n          }\r\n          value={description}\r\n        />\r\n      </ScrollContainer>\r\n\r\n      <FlexboxGrid\r\n        className=\"full-width p-10 b-top\"\r\n        align=\"middle\"\r\n        justify=\"space-between\"\r\n      >\r\n        <FlexboxGrid.Item>\r\n          <IconButton\r\n            icon={<ArrowRightIcon />}\r\n            appearance=\"subtle\"\r\n            onClick={onClose}\r\n            title={t(\"Close frame\")}\r\n          />\r\n        </FlexboxGrid.Item>\r\n        <FlexboxGrid.Item className=\"align-center\">\r\n          {lastChanged\r\n            ? `${t(\"last changed\")} ${formatDistance(lastChanged!, new Date(), {\r\n                includeSeconds: true,\r\n                ...pageView.formatOptions,\r\n              })} ${t(\"ago\")}`\r\n            : t(\"Not updated\")}\r\n        </FlexboxGrid.Item>\r\n        <FlexboxGrid.Item>\r\n          <IconButton\r\n            onClick={() => {\r\n              onClose();\r\n              todoList.removeItem(selectedId);\r\n            }}\r\n            className=\"delete-button\"\r\n            icon={<TrashIcon />}\r\n            appearance=\"subtle\"\r\n            title={t(\"Delete task\")}\r\n          />\r\n        </FlexboxGrid.Item>\r\n      </FlexboxGrid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default RightSide;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { FC, useCallback, useMemo, useState } from \"react\";\r\nimport {\r\n  Button,\r\n  ButtonGroup,\r\n  ButtonToolbar,\r\n  Container,\r\n  Dropdown,\r\n  FlexboxGrid,\r\n  IconButton,\r\n} from \"rsuite\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nimport EditableTitle from \"components/editable-title\";\r\nimport { List as TodoList, ListItem as TodoListItem } from \"components/list\";\r\nimport TodoIcon from \"components/list/ItemIcon\";\r\nimport ContextMenu from \"components/context-menu\";\r\n\r\nimport { pageView, todoList } from \"store\";\r\n\r\nimport { TodoState } from \"types/todo-list\";\r\nimport {\r\n  TodoDefaultListGroup,\r\n  TODO_DEFAULT_LIST_GROUP_VALUES,\r\n} from \"enums/todo-list\";\r\n\r\nimport { ItemsFilter, TodoListFilter } from \"../types\";\r\nimport { ChangeTodoFilterHandler } from \"../utils/useTodoListFilter\";\r\nimport RightSide from \"./RightSide\";\r\nimport { StyledContent, Title, ListContainer, StepsState } from \"./styles\";\r\n\r\nimport Star from \"icons/Star\";\r\nimport MoreIcon from \"@rsuite/icons/More\";\r\n\r\ninterface TodoListContentProps {\r\n  filter: TodoListFilter;\r\n  changeFilter: ChangeTodoFilterHandler;\r\n}\r\n\r\nconst TodoListContent: FC<TodoListContentProps> = ({\r\n  filter: { group, filter },\r\n  changeFilter,\r\n}) => {\r\n  const [selectedId, setSelectedId] = useState<number | null>(null);\r\n\r\n  const { itemsMapForGroups, groups } = todoList;\r\n  const { t } = useTranslation();\r\n\r\n  const itemsMap = useMemo(() => {\r\n    const items = itemsMapForGroups[group] || [];\r\n\r\n    return {\r\n      [ItemsFilter.Done]: items.filter(({ state }) => state === TodoState.Done),\r\n      [ItemsFilter.InProgress]: items.filter(\r\n        ({ state }) => state === TodoState.InProgress\r\n      ),\r\n      [ItemsFilter.All]: items,\r\n    };\r\n  }, [itemsMapForGroups, group]);\r\n\r\n  const onCloseRightSide = useCallback(\r\n    () => setSelectedId(null),\r\n    [setSelectedId]\r\n  );\r\n\r\n  const [center, right] = useMemo(\r\n    () => (selectedId ? [16, 8] : [24, 0]),\r\n    [selectedId]\r\n  );\r\n\r\n  const onAddItem = useCallback(\r\n    (title: string) => {\r\n      todoList\r\n        .addItem({\r\n          groupId: group as number,\r\n          description: \"\",\r\n          orderIndex: null,\r\n          state: TodoState.InProgress,\r\n          steps: [],\r\n          title,\r\n          type: 0,\r\n          userId: pageView.currentUserId,\r\n        })\r\n        .then(({ id }) => setSelectedId(id));\r\n\r\n      return true;\r\n    },\r\n    [group]\r\n  );\r\n\r\n  const onChangeState = useCallback((todoId: number, newState: TodoState) => {\r\n    todoList.updateItem(todoId, { state: newState });\r\n  }, []);\r\n\r\n  const onRemoveItem = useCallback(\r\n    (key) => {\r\n      onCloseRightSide();\r\n      todoList.removeItem(Number(key));\r\n    },\r\n    [onCloseRightSide]\r\n  );\r\n\r\n  const onChangeItemsFilter = useCallback(\r\n    (value) => () => changeFilter({ filter: value }),\r\n    [changeFilter]\r\n  );\r\n\r\n  const contextMenuItems = useMemo(\r\n    () => [\r\n      {\r\n        label: t(\"Delete task\"),\r\n        handler: onRemoveItem,\r\n        className: \"delete-button\",\r\n      },\r\n    ],\r\n    [onRemoveItem, t]\r\n  );\r\n\r\n  const onSaveTitle = useCallback((title) => console.log(title), []);\r\n\r\n  const onDeleteGroup = useCallback(() => {\r\n    onCloseRightSide();\r\n    todoList\r\n      .removeGroup(group as number)\r\n      .then(() => changeFilter({ group: TodoDefaultListGroup.All }));\r\n  }, [group, changeFilter, onCloseRightSide]);\r\n\r\n  const currentGroup = useMemo(\r\n    () => groups.find(({ id }) => id === group),\r\n    [group, groups]\r\n  );\r\n\r\n  const title = useMemo<string>(() => {\r\n    switch (group) {\r\n      case TodoDefaultListGroup.All:\r\n        return t(\"All\");\r\n      case TodoDefaultListGroup.Priority:\r\n        return t(\"Priority\");\r\n      case TodoDefaultListGroup.Today:\r\n        return t(\"Today\");\r\n\r\n      default:\r\n        return currentGroup?.title || \"\";\r\n    }\r\n  }, [currentGroup, group, t]);\r\n\r\n  const disabledRemove = useMemo(\r\n    () => TODO_DEFAULT_LIST_GROUP_VALUES.includes(group),\r\n    [group]\r\n  );\r\n\r\n  return (\r\n    <Container>\r\n      <ContextMenu items={contextMenuItems} id=\"todo-list-context\" />\r\n      <FlexboxGrid>\r\n        <FlexboxGrid.Item colspan={center}>\r\n          <StyledContent>\r\n            <FlexboxGrid align=\"middle\" justify=\"space-between\">\r\n              <FlexboxGrid.Item>\r\n                <Title>\r\n                  <EditableTitle onSave={onSaveTitle} readOnly={group < 0}>\r\n                    {title}\r\n                  </EditableTitle>\r\n                </Title>\r\n              </FlexboxGrid.Item>\r\n              <FlexboxGrid.Item>\r\n                <ButtonToolbar>\r\n                  <ButtonGroup size=\"sm\">\r\n                    <Button\r\n                      active={filter === ItemsFilter.All}\r\n                      onClick={onChangeItemsFilter(ItemsFilter.All)}\r\n                      appearance=\"subtle\"\r\n                    >\r\n                      {t(\"All\")} ({itemsMap[ItemsFilter.All].length})\r\n                    </Button>\r\n                    <Button\r\n                      active={filter === ItemsFilter.Done}\r\n                      onClick={onChangeItemsFilter(ItemsFilter.Done)}\r\n                      appearance=\"subtle\"\r\n                    >\r\n                      {t(\"Done\")} ({itemsMap[ItemsFilter.Done].length})\r\n                    </Button>\r\n                    <Button\r\n                      active={filter === ItemsFilter.InProgress}\r\n                      onClick={onChangeItemsFilter(ItemsFilter.InProgress)}\r\n                      appearance=\"subtle\"\r\n                    >\r\n                      {t(\"In progress\")} (\r\n                      {itemsMap[ItemsFilter.InProgress].length})\r\n                    </Button>\r\n                  </ButtonGroup>\r\n\r\n                  <Dropdown\r\n                    placement=\"bottomEnd\"\r\n                    renderToggle={(props, ref) => (\r\n                      <IconButton\r\n                        {...props}\r\n                        ref={ref}\r\n                        icon={<MoreIcon />}\r\n                        size=\"sm\"\r\n                      />\r\n                    )}\r\n                  >\r\n                    <Dropdown.Item\r\n                      className=\"delete-button\"\r\n                      onClick={onDeleteGroup}\r\n                      disabled={disabledRemove}\r\n                    >\r\n                      {t(\"Delete group\")}\r\n                    </Dropdown.Item>\r\n                  </Dropdown>\r\n                </ButtonToolbar>\r\n              </FlexboxGrid.Item>\r\n            </FlexboxGrid>\r\n\r\n            <ListContainer>\r\n              <TodoList\r\n                onAddItem={onAddItem}\r\n                empty={!itemsMap[filter].length}\r\n                emptyPlaceholder={`${t(\"No tasks in this group\")} [+]`}\r\n                addPlaceholder={t(\"Add task\")}\r\n              >\r\n                {itemsMap[filter].map(\r\n                  ({ id, priority, title, state, steps }) => (\r\n                    <TodoListItem\r\n                      active={selectedId === id}\r\n                      onClick={() => setSelectedId(id)}\r\n                      key={id}\r\n                      contextMenuUId={id}\r\n                      contextMenuId=\"todo-list-context\"\r\n                      icon={\r\n                        <span\r\n                          onClick={(event) => {\r\n                            event.stopPropagation();\r\n\r\n                            const newValue =\r\n                              state === TodoState.InProgress\r\n                                ? TodoState.Done\r\n                                : TodoState.InProgress;\r\n\r\n                            onChangeState(id, newValue);\r\n                          }}\r\n                          className=\"hover-icon centered-span\"\r\n                          title={\r\n                            state === TodoState.InProgress\r\n                              ? t(\"Mark as done\")\r\n                              : t(\"Move back to in progress\")\r\n                          }\r\n                        >\r\n                          <TodoIcon state={state} hovered />\r\n                        </span>\r\n                      }\r\n                      postfix={\r\n                        <span\r\n                          onClick={(event) => {\r\n                            event.stopPropagation();\r\n\r\n                            todoList.updateItem(id, {\r\n                              priority: !priority,\r\n                            });\r\n                          }}\r\n                          title={t(\"Mark as important\")}\r\n                          className=\"hover-icon centered-span\"\r\n                        >\r\n                          <Star filled={priority} />\r\n                        </span>\r\n                      }\r\n                    >\r\n                      <div>{title}</div>\r\n                      {steps.length > 0 &&\r\n                        (() => {\r\n                          const completedCount = steps.filter(\r\n                            ({ state }) => state === TodoState.Done\r\n                          ).length;\r\n\r\n                          return (\r\n                            <StepsState>\r\n                              {completedCount === steps.length && (\r\n                                <span>&#10004; </span>\r\n                              )}\r\n                              {completedCount} of {steps.length}\r\n                            </StepsState>\r\n                          );\r\n                        })()}\r\n                    </TodoListItem>\r\n                  )\r\n                )}\r\n              </TodoList>\r\n            </ListContainer>\r\n          </StyledContent>\r\n        </FlexboxGrid.Item>\r\n        {selectedId && (\r\n          <FlexboxGrid.Item colspan={right}>\r\n            <RightSide\r\n              selectedId={selectedId}\r\n              onClose={onCloseRightSide}\r\n              onChangeState={onChangeState}\r\n            />\r\n          </FlexboxGrid.Item>\r\n        )}\r\n      </FlexboxGrid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default observer(TodoListContent);\r\n","import PageContent from \"components/page-content\";\r\n\r\nimport TodoGroupControl from \"../components/TodoGroupControl\";\r\nimport TodoListContent from \"../components/TodoListContent\";\r\n\r\nimport { useTodoListFilter } from \"../utils/useTodoListFilter\";\r\n\r\nconst TodoList = () => {\r\n  const { filter, onChange } = useTodoListFilter();\r\n\r\n  return (\r\n    <PageContent\r\n      navigation={\r\n        <TodoGroupControl\r\n          activeKey={filter.group}\r\n          changeActiveGroup={(group) => onChange({ group })}\r\n        />\r\n      }\r\n    >\r\n      <TodoListContent filter={filter} changeFilter={onChange} />\r\n    </PageContent>\r\n  );\r\n};\r\n\r\nexport default TodoList;\r\n","import { parse, stringify } from \"query-string\";\r\nimport { useCallback, useMemo } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router\";\r\n\r\nimport { TodoDefaultListGroup } from \"enums/todo-list\";\r\n\r\nimport { ItemsFilter, TodoListFilter } from \"../types\";\r\n\r\nexport type ChangeTodoFilterHandler = (values: Partial<TodoListFilter>) => void;\r\n\r\ninterface ReturnValue {\r\n  filter: TodoListFilter;\r\n  onChange: ChangeTodoFilterHandler;\r\n}\r\n\r\nexport const useTodoListFilter = (): ReturnValue => {\r\n  const { search } = useLocation();\r\n  const history = useHistory();\r\n\r\n  const filter = useMemo(() => {\r\n    const {\r\n      group = String(TodoDefaultListGroup.All),\r\n      filter = String(ItemsFilter.All),\r\n    } = parse(search);\r\n\r\n    return {\r\n      group: Number(group),\r\n      filter: Number(filter),\r\n    };\r\n  }, [search]);\r\n\r\n  const onChange = useCallback(\r\n    (newValue) =>\r\n      history.replace({ search: stringify({ ...filter, ...newValue }) }),\r\n    [filter, history]\r\n  );\r\n\r\n  return { filter, onChange };\r\n};\r\n","import { IAllProps } from \"@tinymce/tinymce-react\";\r\n\r\nexport const EDITOR_INIT_OPTIONS: IAllProps[\"init\"] = {\r\n  autoresize_top_margin: 50,\r\n  autoresize_on_init: true,\r\n  plugins:\r\n    \"autoresize print preview paste importcss searchreplace autolink autosave save directionality code visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools textpattern noneditable help charmap quickbars emoticons\",\r\n  menubar: \"file edit view insert format tools table help\",\r\n  toolbar:\r\n    \"undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media template link anchor codesample | ltr rtl | table\",\r\n};\r\n","import { Editor as LibEditor, IAllProps } from \"@tinymce/tinymce-react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nimport { pageView } from \"store\";\r\n\r\nimport { EDITOR_INIT_OPTIONS } from \"./constants\";\r\n\r\nimport config from \"config.json\";\r\n\r\nconst Editor = (props: IAllProps) => {\r\n  const [reloading, setReloading] = useState(false);\r\n  const { t } = useTranslation();\r\n\r\n  const { isDarkTheme, smallLanguage, language, theme } = pageView;\r\n\r\n  useEffect(() => {\r\n    setReloading(true);\r\n\r\n    setTimeout(() => setReloading(false), 500);\r\n  }, [theme, language]);\r\n\r\n  if (reloading) {\r\n    return <div className=\"flex-center full-height\">{t(\"Loading\")} ...</div>;\r\n  }\r\n\r\n  return (\r\n    <LibEditor\r\n      {...props}\r\n      apiKey={config.tinyApiKey}\r\n      init={{\r\n        skin: isDarkTheme ? \"oxide-dark\" : undefined,\r\n        content_css: isDarkTheme ? \"dark\" : undefined,\r\n        language: smallLanguage,\r\n        ...EDITOR_INIT_OPTIONS,\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default observer(Editor);\r\n","export const LANGUAGES_LIST = [\r\n  \"javascript\",\r\n  \"typescript\",\r\n  \"html\",\r\n  \"css\",\r\n  \"cpp\",\r\n  \"dart\",\r\n  \"csharp\",\r\n  \"java\",\r\n  \"kotlin\",\r\n  \"php\",\r\n  \"python\",\r\n  \"xml\",\r\n];\r\n","import styled from \"styled-components\";\r\n\r\nexport const Header = styled.div`\r\n  height: 40px;\r\n  border-top: 1px solid var(--rs-divider-border);\r\n  border-bottom: 1px solid var(--rs-divider-border);\r\n  padding: 0px 10px;\r\n`;\r\n\r\nexport const EditorContainer = styled.div`\r\n  height: calc(100% - 40px);\r\n`;\r\n","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg stroke=\"currentColor\" className={(styles[\"icon-svg\"] || \"icon-svg\") + \" \" + (styles[\"rs-icon\"] || \"rs-icon\")} fill=\"currentColor\" strokeWidth=\"0\" viewBox=\"0 0 24 24\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><g stroke=\"none\"><path fill=\"none\" d=\"M0 0h24v24H0z\" /><path d=\"M18 19h1V6.828L17.172 5H16v4H7V5H5v14h1v-7h12v7zM4 3h14l2.707 2.707a1 1 0 01.293.707V20a1 1 0 01-1 1H4a1 1 0 01-1-1V4a1 1 0 011-1zm4 11v5h8v-5H8z\" /></g></svg>);","import Editor from \"@monaco-editor/react\";\r\nimport { Theme } from \"enums/page-view\";\r\nimport { observer } from \"mobx-react\";\r\nimport { FC, useCallback, useMemo, useState } from \"react\";\r\nimport { FlexboxGrid, IconButton, SelectPicker } from \"rsuite\";\r\nimport { debounce } from \"lodash-es\";\r\n\r\nimport { pageView } from \"store\";\r\nimport { LANGUAGES_LIST } from \"./constants\";\r\n\r\nimport { Header, EditorContainer } from \"./styled\";\r\n\r\nimport SaveIcon from \"icons/save.svg\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\ninterface CodeEditorProps {\r\n  content: string;\r\n  onSave: (value: string) => void;\r\n}\r\n\r\nconst CodeEditor: FC<CodeEditorProps> = ({ content, onSave }) => {\r\n  const [value, setValue] = useState(content);\r\n  const [language, setLanguage] = useState(\"javascript\");\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const { theme } = pageView;\r\n\r\n  const localTheme = useMemo(\r\n    () => ({ [Theme.Light]: \"light\", [Theme.Dark]: \"vs-dark\" }[theme]),\r\n    [theme]\r\n  );\r\n\r\n  const languagesOptions = useMemo(\r\n    () =>\r\n      LANGUAGES_LIST.map((lang) => ({\r\n        value: lang,\r\n        label: lang,\r\n      })),\r\n    []\r\n  );\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  const onSaveContent = useCallback(\r\n    debounce((val: string) => onSave(val), 1000),\r\n    [onSave]\r\n  );\r\n\r\n  const onChangeValue = useCallback(\r\n    (value) => {\r\n      setValue(value);\r\n      onSaveContent(value);\r\n    },\r\n    [setValue, onSaveContent]\r\n  );\r\n  const onChangeLanguage = useCallback(\r\n    (language) => setLanguage(language),\r\n    [setLanguage]\r\n  );\r\n\r\n  return (\r\n    <div className=\"full-height\">\r\n      <Header>\r\n        <FlexboxGrid\r\n          align=\"middle\"\r\n          justify=\"space-between\"\r\n          className=\"full-height\"\r\n        >\r\n          <FlexboxGrid.Item>\r\n            <SelectPicker\r\n              size=\"xs\"\r\n              data={languagesOptions}\r\n              cleanable={false}\r\n              searchable={false}\r\n              value={language}\r\n              onChange={onChangeLanguage}\r\n            />\r\n          </FlexboxGrid.Item>\r\n          <FlexboxGrid.Item>\r\n            <IconButton\r\n              icon={<SaveIcon />}\r\n              size=\"xs\"\r\n              onClick={() => onSaveContent(value)}\r\n            >\r\n              {t(\"Save\")}\r\n            </IconButton>\r\n          </FlexboxGrid.Item>\r\n        </FlexboxGrid>\r\n      </Header>\r\n      <EditorContainer>\r\n        <Editor\r\n          height=\"100%\"\r\n          value={value}\r\n          theme={localTheme}\r\n          onChange={onChangeValue}\r\n          language={language}\r\n        />\r\n      </EditorContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default observer(CodeEditor);\r\n","import { SubType } from \"enums/notes\";\r\n\r\nexport const SUB_TYPE_OPTIONS = [\r\n  { label: \"Rich\", value: SubType.Rich },\r\n  { label: \"Code\", value: SubType.Code },\r\n];\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { FC, useCallback, useMemo } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { format } from \"date-fns\";\r\nimport {\r\n  ButtonToolbar,\r\n  Dropdown,\r\n  FlexboxGrid,\r\n  IconButton,\r\n  SelectPicker,\r\n} from \"rsuite\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nimport Editor from \"components/editor\";\r\nimport EditableTitle from \"components/editable-title\";\r\nimport CodeEditor from \"components/code-editor\";\r\n\r\nimport { notes, pageView } from \"store\";\r\n\r\nimport { NoteType, SubType } from \"enums/notes\";\r\n\r\nimport { NotesFilter, NotesFilterHandler } from \"../types\";\r\nimport { SUB_TYPE_OPTIONS } from \"../utils/constants\";\r\n\r\nimport MoreIcon from \"@rsuite/icons/More\";\r\n\r\nconst TitleContainer = styled.div`\r\n  height: 55px;\r\n  padding: 0px 10px;\r\n`;\r\n\r\nconst EditorContainer = styled.div`\r\n  height: calc(100% - 55px);\r\n`;\r\n\r\nconst Title = styled(EditableTitle)`\r\n  font-size: 22px !important;\r\n  color: var(--rs-primary-700);\r\n`;\r\n\r\ninterface NotesContentProps {\r\n  filter: NotesFilter;\r\n  changeFilter: NotesFilterHandler;\r\n}\r\n\r\nconst NotesContent: FC<NotesContentProps> = ({\r\n  filter: { active },\r\n  changeFilter,\r\n}) => {\r\n  const { items } = notes;\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const currentItem = useMemo(\r\n    () => items.find(({ id }) => id === active),\r\n    [active, items]\r\n  );\r\n\r\n  const onSaveEditorContent = useCallback(\r\n    (event) => {\r\n      const { id, title } = currentItem!;\r\n      const content = event.target.getContent();\r\n\r\n      notes.updateNote(id, { content, title });\r\n    },\r\n    [currentItem]\r\n  );\r\n\r\n  const onSaveCodeEditorContent = useCallback(\r\n    (content) => {\r\n      const { id, title } = currentItem!;\r\n\r\n      notes.updateNote(id, { content, title });\r\n    },\r\n    [currentItem]\r\n  );\r\n\r\n  const onChangeSubType = useCallback(\r\n    (nextType) => {\r\n      const { id } = currentItem!;\r\n\r\n      notes.updateNote(id, { subType: nextType });\r\n    },\r\n    [currentItem]\r\n  );\r\n\r\n  const onSaveTitle = useCallback(\r\n    (title) => {\r\n      const { id } = currentItem!;\r\n\r\n      notes.updateNote(id, { title });\r\n    },\r\n    [currentItem]\r\n  );\r\n\r\n  const onDeleteItem = useCallback(() => {\r\n    changeFilter({ active: null });\r\n\r\n    notes.deleteNote(currentItem!.id);\r\n  }, [currentItem, changeFilter]);\r\n\r\n  const onChangePriority = useCallback(\r\n    () => notes.changePriority(currentItem!.id),\r\n    [currentItem]\r\n  );\r\n\r\n  if (!currentItem) {\r\n    return (\r\n      <div className=\"full-height flex-center\">\r\n        <h4>{t(\"Note not selected\")}</h4>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const {\r\n    content = \"\",\r\n    title,\r\n    dateCreated,\r\n    priority,\r\n    type,\r\n    subType,\r\n  } = currentItem;\r\n\r\n  const isRichEditor = subType === SubType.Rich;\r\n\r\n  return (\r\n    <div className=\"full-height\">\r\n      <TitleContainer>\r\n        <FlexboxGrid\r\n          align=\"middle\"\r\n          justify=\"space-between\"\r\n          className=\"full-height\"\r\n        >\r\n          <FlexboxGrid.Item>\r\n            <Title onSave={onSaveTitle} readOnly={type === NoteType.time}>\r\n              {title!}\r\n            </Title>\r\n          </FlexboxGrid.Item>\r\n          <FlexboxGrid.Item>\r\n            <FlexboxGrid\r\n              className=\"full-height w-300\"\r\n              align=\"middle\"\r\n              justify=\"space-between\"\r\n            >\r\n              <FlexboxGrid.Item>\r\n                <time>\r\n                  {format(\r\n                    new Date(dateCreated),\r\n                    `'${t(\"created at\")}' d MMM yyyy '${t(\"in\")}' HH:mm`,\r\n                    pageView.formatOptions\r\n                  )}\r\n                </time>\r\n              </FlexboxGrid.Item>\r\n              <FlexboxGrid.Item>\r\n                <ButtonToolbar>\r\n                  <SelectPicker\r\n                    size=\"sm\"\r\n                    searchable={false}\r\n                    cleanable={false}\r\n                    placement=\"bottomEnd\"\r\n                    data={SUB_TYPE_OPTIONS}\r\n                    onChange={onChangeSubType}\r\n                    value={subType}\r\n                  />\r\n                  <Dropdown\r\n                    renderToggle={(props, ref) => (\r\n                      <IconButton\r\n                        ref={ref}\r\n                        {...props}\r\n                        icon={<MoreIcon />}\r\n                        size=\"sm\"\r\n                      />\r\n                    )}\r\n                    placement=\"bottomEnd\"\r\n                  >\r\n                    <Dropdown.Item onClick={onChangePriority}>\r\n                      {priority ? t(\"Remove\") : t(\"Add to\")} {t(\"priority\")}\r\n                    </Dropdown.Item>\r\n                    <Dropdown.Item\r\n                      onClick={onDeleteItem}\r\n                      className=\"delete-button\"\r\n                    >\r\n                      {t(\"Delete note\")}\r\n                    </Dropdown.Item>\r\n                  </Dropdown>\r\n                </ButtonToolbar>\r\n              </FlexboxGrid.Item>\r\n            </FlexboxGrid>\r\n          </FlexboxGrid.Item>\r\n        </FlexboxGrid>\r\n      </TitleContainer>\r\n      <EditorContainer>\r\n        {isRichEditor ? (\r\n          <Editor\r\n            initialValue={content}\r\n            onSaveContent={onSaveEditorContent}\r\n            onBlur={onSaveEditorContent}\r\n          />\r\n        ) : (\r\n          <CodeEditor content={content} onSave={onSaveCodeEditorContent} />\r\n        )}\r\n      </EditorContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default observer(NotesContent);\r\n","import { observer } from \"mobx-react\";\r\nimport { FC, useCallback, useEffect, useMemo } from \"react\";\r\nimport { SelectPicker } from \"rsuite\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { List, ListItem } from \"components/list\";\r\nimport ContextMenu from \"components/context-menu\";\r\n\r\nimport { notes, user } from \"store\";\r\n\r\nimport { NoteType } from \"enums/notes\";\r\n\r\nimport { NotesFilter } from \"../types\";\r\n\r\nimport Star from \"icons/Star\";\r\nimport TrashIcon from \"@rsuite/icons/Trash\";\r\nimport TextImageIcon from \"@rsuite/icons/TextImage\";\r\n\r\nconst StyledList = styled(List)`\r\n  & + .add-control {\r\n    border-radius: 0;\r\n    background: transparent;\r\n    border-top: 1px solid var(--rs-divider-border);\r\n  }\r\n`;\r\n\r\ninterface NotesNavigationProps {\r\n  changeFilter: (newFilter: Partial<NotesFilter>) => void;\r\n  filter: NotesFilter;\r\n}\r\n\r\nconst NotesNavigation: FC<NotesNavigationProps> = ({\r\n  changeFilter,\r\n  filter: { active },\r\n}) => {\r\n  const { sortedItems, todayItem, timeItems } = notes;\r\n  const { t } = useTranslation();\r\n\r\n  const onAddNote = useCallback(\r\n    (title: string) => {\r\n      notes\r\n        .addNote({ title, userId: user.userId, type: NoteType.base })\r\n        .then(\r\n          (addedNote) => addedNote && changeFilter({ active: addedNote.id })\r\n        );\r\n\r\n      return true;\r\n    },\r\n    [changeFilter]\r\n  );\r\n\r\n  const onActiveNote = useCallback(\r\n    (noteId: number) => () => changeFilter({ active: noteId }),\r\n    [changeFilter]\r\n  );\r\n\r\n  const onDeleteNote = useCallback(\r\n    (key) => {\r\n      const noteId = Number(key);\r\n\r\n      if (active === noteId) {\r\n        changeFilter({ active: sortedItems?.[0]?.id });\r\n      }\r\n\r\n      notes.deleteNote(noteId);\r\n    },\r\n    [changeFilter, active, sortedItems]\r\n  );\r\n\r\n  const contextMenuItems = useMemo(\r\n    () => [\r\n      {\r\n        label: t(\"Delete note\"),\r\n        handler: onDeleteNote,\r\n        icon: <TrashIcon />,\r\n        className: \"delete-button\",\r\n      },\r\n    ],\r\n    [onDeleteNote, t]\r\n  );\r\n\r\n  const onChangeItem = useCallback(\r\n    (item) => changeFilter({ active: item }),\r\n    [changeFilter]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!active) {\r\n      changeFilter({ active: todayItem?.id });\r\n    }\r\n  }, [todayItem, changeFilter, active]);\r\n\r\n  return (\r\n    <div className=\"screen-height\">\r\n      <ContextMenu items={contextMenuItems} id=\"notes-context\" />\r\n      <StyledList\r\n        onAddItem={onAddNote}\r\n        addPlaceholder={t(\"Add note\")}\r\n        className=\"p-10\"\r\n        empty={!sortedItems.length}\r\n        emptyPlaceholder={`${t(\"No entries note\")} [+]`}\r\n        title={\r\n          <SelectPicker\r\n            data={timeItems}\r\n            style={{ width: \"100%\" }}\r\n            appearance=\"subtle\"\r\n            cleanable={false}\r\n            value={active!}\r\n            placeholder={t(\"Everyday note\")}\r\n            onChange={onChangeItem}\r\n          />\r\n        }\r\n      >\r\n        {sortedItems.map(({ title, id, priority }) => (\r\n          <ListItem\r\n            key={id}\r\n            onClick={onActiveNote(id)}\r\n            contextMenuId=\"notes-context\"\r\n            contextMenuUId={id}\r\n            active={id === active}\r\n            icon={<TextImageIcon />}\r\n            postfix={\r\n              <Star\r\n                filled={priority}\r\n                onClick={() => notes.changePriority(id)}\r\n              />\r\n            }\r\n          >\r\n            {title}\r\n          </ListItem>\r\n        ))}\r\n      </StyledList>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default observer(NotesNavigation);\r\n","import { useCallback, useMemo } from \"react\";\r\nimport { parse, stringify } from \"query-string\";\r\nimport { useHistory, useLocation } from \"react-router\";\r\n\r\nimport { NotesFilter, NotesFilterHandler } from \"../types\";\r\n\r\nconst useNotesFilter = (): [NotesFilter, NotesFilterHandler] => {\r\n  const { search } = useLocation();\r\n  const history = useHistory();\r\n\r\n  const filter = useMemo(() => {\r\n    const { active = 0 } = parse(search, { parseNumbers: true });\r\n\r\n    return {\r\n      active,\r\n    } as NotesFilter;\r\n  }, [search]);\r\n\r\n  const changeFilter = useCallback(\r\n    (newValue: Partial<NotesFilter>) =>\r\n      history.replace({ search: stringify({ ...filter, ...newValue }) }),\r\n    [filter, history]\r\n  );\r\n\r\n  return [filter, changeFilter];\r\n};\r\n\r\nexport default useNotesFilter;\r\n","import { observer } from \"mobx-react\";\r\n\r\nimport PageContent from \"components/page-content\";\r\n\r\nimport NotesContent from \"../components/NotesContent\";\r\nimport NotesNavigation from \"../components/NotesNavigation\";\r\nimport useNotesFilter from \"../utils/useNotesFilter\";\r\n\r\nconst Notes = () => {\r\n  const [filter, changeFilter] = useNotesFilter();\r\n\r\n  return (\r\n    <PageContent\r\n      navigation={\r\n        <NotesNavigation filter={filter} changeFilter={changeFilter} />\r\n      }\r\n    >\r\n      <NotesContent filter={filter} changeFilter={changeFilter} />\r\n    </PageContent>\r\n  );\r\n};\r\n\r\nexport default observer(Notes);\r\n","const Passwords = () => {\r\n  return <div>12</div>;\r\n};\r\n\r\nexport default Passwords;\r\n","import { SearchGroup } from \"../types\";\r\nimport { i18n } from \"store\";\r\n\r\nexport const SEARCH_GROUP_OPTIONS = [\r\n  { label: i18n.t(\"Todo\"), value: SearchGroup.Todo },\r\n  { label: i18n.t(\"Notes\"), value: SearchGroup.Notes },\r\n  { label: i18n.t(\"Passwords\"), value: SearchGroup.Passwords },\r\n];\r\n","import styled from \"styled-components\";\r\n\r\nexport const SearchHeaderContainer = styled.div`\r\n  padding: 20px;\r\n`;\r\n\r\n\r\nexport const SearchControl = styled.div``;","import { FC, useCallback } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { FlexboxGrid, Input, TagPicker } from \"rsuite\";\r\n\r\nimport { SearchFilter, UseSearchChange } from \"../types\";\r\nimport { SEARCH_GROUP_OPTIONS } from \"../utils/constants\";\r\n\r\nimport { SearchHeaderContainer, SearchControl } from \"./styled\";\r\n\r\ninterface SearchHeaderProps {\r\n  search: SearchFilter;\r\n  changeSearch: UseSearchChange;\r\n}\r\n\r\nconst SearchHeader: FC<SearchHeaderProps> = ({ search, changeSearch }) => {\r\n  const { t } = useTranslation();\r\n\r\n  const onChangeQuery = useCallback(\r\n    (query) => changeSearch({ query }),\r\n    [changeSearch]\r\n  );\r\n\r\n  const onChangeGroups = useCallback(\r\n    (groups) => changeSearch({ groups }),\r\n    [changeSearch]\r\n  );\r\n\r\n  return (\r\n    <SearchHeaderContainer>\r\n      <FlexboxGrid align=\"middle\" justify=\"space-between\" className=\"m-b-20\">\r\n        <FlexboxGrid.Item>\r\n          <h4>{t(\"Global search\")}</h4>\r\n        </FlexboxGrid.Item>\r\n        <FlexboxGrid.Item className=\"w-300\">\r\n          <TagPicker\r\n            data={SEARCH_GROUP_OPTIONS}\r\n            searchable={false}\r\n            cleanable={false}\r\n            block\r\n            value={search.groups}\r\n            onChange={onChangeGroups}\r\n          />\r\n        </FlexboxGrid.Item>\r\n      </FlexboxGrid>\r\n\r\n      <SearchControl>\r\n        <Input\r\n          size=\"lg\"\r\n          placeholder={\"Начните вводить для поиска\"}\r\n          value={search.query}\r\n          onChange={onChangeQuery}\r\n        />\r\n      </SearchControl>\r\n    </SearchHeaderContainer>\r\n  );\r\n};\r\n\r\nexport default SearchHeader;\r\n","import { useCallback, useMemo } from \"react\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport { parse, stringify } from \"query-string\";\r\n\r\nimport { UseSearchResult, SearchFilter } from \"../types\";\r\n\r\nconst useSearch = (): UseSearchResult => {\r\n  const history = useHistory();\r\n  const { search } = useLocation();\r\n\r\n  const filter = useMemo<SearchFilter>(() => {\r\n    const { query, groups = [] } = parse(search, {\r\n      parseNumbers: true,\r\n      arrayFormat: \"index\",\r\n    });\r\n\r\n    return {\r\n      query,\r\n      groups,\r\n    } as SearchFilter;\r\n  }, [search]);\r\n\r\n  const change = useCallback(\r\n    (value) => {\r\n      history.replace({\r\n        search: stringify(Object.assign(filter, value), {\r\n          arrayFormat: \"index\",\r\n        }),\r\n      });\r\n    },\r\n    [history, filter]\r\n  );\r\n\r\n  return [filter, change];\r\n};\r\n\r\nexport default useSearch;\r\n","import { Content, Header } from \"rsuite\";\r\n\r\nimport { SearchHeader } from \"../components\";\r\nimport { useSearch } from \"../utils\";\r\n\r\nconst Search = () => {\r\n  const [search, changeSearch] = useSearch();\r\n\r\n  return (\r\n    <>\r\n      <Header>\r\n        <SearchHeader search={search} changeSearch={changeSearch} />\r\n      </Header>\r\n      <Content>content</Content>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import { List } from \"rsuite\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const StyledList = styled(List)`\r\n  border: none;\r\n  box-shadow: none;\r\n  padding: 4px;\r\n`;\r\n\r\nexport const StyledListItem = styled(List.Item)`\r\n  padding: 10px 13px;\r\n  border-radius: 5px;\r\n  background-color: transparent;\r\n  transition: 200ms;\r\n  cursor: pointer;\r\n\r\n  &[data-active=\"true\"] {\r\n    background-color: var(--rs-primary-700);\r\n    box-shadow: var(--rs-state-focus-shadow);\r\n  }\r\n\r\n  &[data-active=\"false\"]:hover {\r\n    transition: 200ms;\r\n    background-color: var(--rs-list-bg);\r\n  }\r\n\r\n  &:not(:last-of-type) {\r\n    margin-bottom: 6px;\r\n  }\r\n`;\r\n\r\nexport const Section = styled.section`\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nexport const ErrorMessage = styled.p`\r\n  color: var(--rs-red-700);\r\n  height: 20px;\r\n`;\r\n","import { createUsernameSymbols } from \"helpers/user\";\r\nimport { FC } from \"react\";\r\nimport { Avatar } from \"rsuite\";\r\n\r\nimport { User } from \"types/user\";\r\n\r\nimport { StyledList, StyledListItem } from \"./styles\";\r\n\r\ninterface UserListProps {\r\n  users: User[];\r\n  active: number;\r\n  onSelect: (userId: number) => void;\r\n}\r\n\r\nconst UserList: FC<UserListProps> = ({ users, active, onSelect }) => (\r\n  <StyledList>\r\n    {users.map(({ username, id }) => (\r\n      <StyledListItem\r\n        key={id}\r\n        data-active={id === active}\r\n        onClick={() => onSelect(id)}\r\n      >\r\n        <Avatar size=\"xs\">{createUsernameSymbols(username)}</Avatar> {username}\r\n      </StyledListItem>\r\n    ))}\r\n  </StyledList>\r\n);\r\n\r\nexport default UserList;\r\n","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg className={(styles[\"icon-svg\"] || \"icon-svg\") + \" \" + (styles[\"rs-icon\"] || \"rs-icon\")} stroke=\"currentColor\" fill=\"currentColor\" strokeWidth=\"0\" viewBox=\"0 0 24 24\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><g stroke=\"none\"><path fill=\"none\" d=\"M0 0h24v24H0z\" /><path d=\"M3.741 1.408l18.462 10.154a.5.5 0 010 .876L3.741 22.592A.5.5 0 013 22.154V1.846a.5.5 0 01.741-.438zM5 13v6.617L18.85 12 5 4.383V11h5v2H5z\" /></g></svg>);","import { FC, useCallback, useRef } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Button, Form, Input, InputGroup } from \"rsuite\";\r\n\r\nimport SendIcon from \"icons/send.svg\";\r\n\r\ninterface PasswordFormProps {\r\n  onSubmit: (password: string) => void;\r\n}\r\n\r\nconst DEFAULT_VALUE = { password: \"\" };\r\n\r\nconst PasswordForm: FC<PasswordFormProps> = ({ onSubmit }) => {\r\n  const ref = useRef<HTMLButtonElement>(null);\r\n  const { t } = useTranslation();\r\n\r\n  const onSubmitHandler = useCallback(\r\n    async (_valid, event) => {\r\n      await onSubmit(event.target.password.value);\r\n\r\n      ref.current?.click();\r\n    },\r\n    [onSubmit]\r\n  );\r\n\r\n  return (\r\n    <Form formDefaultValue={DEFAULT_VALUE} onSubmit={onSubmitHandler}>\r\n      <button type=\"reset\" ref={ref} className=\"not-visible\" />\r\n      <InputGroup>\r\n        <Form.Control<typeof Input>\r\n          name=\"password\"\r\n          placeholder={t(\"Password\")}\r\n          type=\"password\"\r\n          autoFocus\r\n        />\r\n        <InputGroup.Button as={Button} type=\"submit\">\r\n          <SendIcon />\r\n        </InputGroup.Button>\r\n      </InputGroup>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default PasswordForm;\r\n","import { FC, useCallback } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Button, ButtonToolbar, Form, Input, Schema } from \"rsuite\";\r\nimport { i18n } from \"store\";\r\nimport { DEFAULT_USERNAME } from \"store/user/constants\";\r\n\r\nconst { Model, Types } = Schema;\r\n\r\ninterface RegistrationFormProps {\r\n  onSubmit: (values: RegistrationFormValue) => void;\r\n}\r\n\r\nexport interface RegistrationFormValue {\r\n  username: string;\r\n  password: string;\r\n  confirmPassword: string;\r\n  secretKey: string;\r\n}\r\n\r\nconst DEFAULT_VALUE = {\r\n  username: DEFAULT_USERNAME,\r\n  password: \"\",\r\n  confirmPassword: \"\",\r\n  secretKey: \"\",\r\n};\r\n\r\nconst model = Model({\r\n  username: Types.StringType().isRequired(i18n.t(\"Username is required field\")),\r\n  password: Types.StringType()\r\n    .isRequiredOrEmpty()\r\n    .addRule(\r\n      (current) => !(current && current.length < 8),\r\n      i18n.t(\"Password must have minimum 8 chars\")\r\n    ),\r\n  confirmPassword: Types.StringType()\r\n    .isRequiredOrEmpty()\r\n    .addRule(\r\n      (current, { password }) => !(password && password !== current),\r\n      i18n.t(\"Password mismatch\")\r\n    ),\r\n  secretKey: Types.StringType()\r\n    .isRequired(i18n.t(\"Secret key is required field\"))\r\n    .minLength(10, i18n.t(\"Secret key must have minimum 10 chars\")),\r\n});\r\n\r\nconst RegistrationForm: FC<RegistrationFormProps> = ({ onSubmit }) => {\r\n  const { t } = useTranslation();\r\n\r\n  const onSubmitHandler = useCallback(\r\n    (valid, event) => {\r\n      if (valid) {\r\n        const formData = new FormData(event.target);\r\n\r\n        onSubmit({\r\n          username: formData.get(\"username\"),\r\n          password: formData.get(\"password\"),\r\n          confirmPassword: formData.get(\"confirmPassword\"),\r\n          secretKey: formData.get(\"secretKey\"),\r\n        } as RegistrationFormValue);\r\n      }\r\n    },\r\n    [onSubmit]\r\n  );\r\n\r\n  return (\r\n    <Form\r\n      formDefaultValue={DEFAULT_VALUE}\r\n      onSubmit={onSubmitHandler}\r\n      model={model}\r\n      checkTrigger=\"blur\"\r\n      fluid\r\n    >\r\n      <Form.Group>\r\n        <Form.ControlLabel>{t(\"Username\")}</Form.ControlLabel>\r\n        <Form.Control<typeof Input>\r\n          name=\"username\"\r\n          placeholder={DEFAULT_USERNAME}\r\n        />\r\n      </Form.Group>\r\n\r\n      <Form.Group>\r\n        <Form.ControlLabel>{t(\"Password\")}</Form.ControlLabel>\r\n        <Form.Control<typeof Input>\r\n          name=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"*******\"\r\n        />\r\n      </Form.Group>\r\n\r\n      <Form.Group>\r\n        <Form.ControlLabel>{t(\"Confirm password\")}</Form.ControlLabel>\r\n        <Form.Control<typeof Input>\r\n          name=\"confirmPassword\"\r\n          type=\"password\"\r\n          placeholder=\"*******\"\r\n        />\r\n      </Form.Group>\r\n\r\n      <Form.Group>\r\n        <Form.ControlLabel>{t(\"Secret key\")}</Form.ControlLabel>\r\n        <Form.Control<typeof Input>\r\n          name=\"secretKey\"\r\n          type=\"password\"\r\n          placeholder=\"*******\"\r\n        />\r\n      </Form.Group>\r\n\r\n      <Form.Group>\r\n        <ButtonToolbar>\r\n          <Button block type=\"submit\" appearance=\"primary\">\r\n            {t(\"Create profile\")}\r\n          </Button>\r\n        </ButtonToolbar>\r\n      </Form.Group>\r\n\r\n      <Form.Group className=\"warning-color\">{t(\"All data encoded\")}</Form.Group>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default RegistrationForm;\r\n","import { format } from \"date-fns\";\r\nimport { createUsernameSymbols } from \"helpers/user\";\r\nimport { FC, useCallback, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Avatar, Button, Panel } from \"rsuite\";\r\n\r\nimport { User } from \"types/user\";\r\n\r\nimport { pageView, user as userStore } from \"store\";\r\n\r\nimport { PasswordForm } from \"../forms\";\r\n\r\nimport { Section, ErrorMessage } from \"./styles\";\r\n\r\ninterface CurrentUserProps {\r\n  user: User;\r\n  onClosePage: () => void;\r\n}\r\n\r\nconst CurrentUser: FC<CurrentUserProps> = ({ user, onClosePage }) => {\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const { username, hasPassword, lastLogin, id } = user;\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const onSubmitForm = useCallback(\r\n    async (password) => {\r\n      const result = await userStore.login(id, password);\r\n\r\n      if (!result) {\r\n        setError(t(\"Login failed\"));\r\n\r\n        return false;\r\n      }\r\n\r\n      onClosePage();\r\n\r\n      return true;\r\n    },\r\n    [onClosePage, id, t]\r\n  );\r\n\r\n  const onLoginButton = useCallback(() => onSubmitForm(\"\"), [onSubmitForm]);\r\n\r\n  return (\r\n    <Panel>\r\n      <div className=\"flex-center\">\r\n        <Section>\r\n          <Avatar circle size=\"lg\">\r\n            {createUsernameSymbols(username)}\r\n          </Avatar>\r\n        </Section>\r\n        <Section>\r\n          <h3 className=\"align-center\">{username}</h3>\r\n        </Section>\r\n        {lastLogin && (\r\n          <time className=\"align-center\">\r\n            {format(\r\n              lastLogin,\r\n              `'${t(\"last login\")}' dd MMM yyyy '${t(\"in\")}' hh:MM`,\r\n              pageView.formatOptions\r\n            )}\r\n          </time>\r\n        )}\r\n        <Section>\r\n          {hasPassword ? (\r\n            <PasswordForm onSubmit={onSubmitForm} />\r\n          ) : (\r\n            <Button className=\"w-100\" onClick={onLoginButton} autoFocus>\r\n              {t(\"Login\")}\r\n            </Button>\r\n          )}\r\n        </Section>\r\n        <Section>\r\n          <ErrorMessage>{error}</ErrorMessage>\r\n        </Section>\r\n      </div>\r\n    </Panel>\r\n  );\r\n};\r\n\r\nexport default CurrentUser;\r\n","import { FC, useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport { RouteComponentProps, Link } from \"react-router-dom\";\r\nimport { Drawer, FlexboxGrid } from \"rsuite\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nimport { goBackOrDefault, routes } from \"helpers/router\";\r\n\r\nimport { pageView, user } from \"store\";\r\n\r\nimport UserList from \"../components/user-list\";\r\nimport CurrentUser from \"../components/active-user\";\r\n\r\nconst ChangeUser: FC<RouteComponentProps> = ({ history }) => {\r\n  const { profiles, isEmptyProfiles } = user;\r\n  const { currentUserId } = pageView;\r\n\r\n  const [active, setActive] = useState(currentUserId);\r\n  const [open, setOpen] = useState(true);\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const activeUser = useMemo(\r\n    () => profiles.find(({ id }) => id === active)!,\r\n    [profiles, active]\r\n  );\r\n\r\n  const onClose = useCallback(() => {\r\n    if (!user.data) {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  }, []);\r\n\r\n  const onExited = useCallback(() => goBackOrDefault(history), [history]);\r\n\r\n  useEffect(() => {\r\n    setActive(currentUserId);\r\n  }, [currentUserId]);\r\n\r\n  useEffect(() => {\r\n    if (isEmptyProfiles) {\r\n      history.replace(routes.REGISTRATION);\r\n    }\r\n  }, [isEmptyProfiles, history]);\r\n\r\n  return (\r\n    <Drawer\r\n      open={open}\r\n      onClose={onClose}\r\n      placement=\"top\"\r\n      full\r\n      onExited={onExited}\r\n    >\r\n      <Drawer.Body>\r\n        <FlexboxGrid className=\"full-height\">\r\n          <FlexboxGrid.Item colspan={6} className=\"full-height\">\r\n            <FlexboxGrid className=\"full-height\" align=\"bottom\">\r\n              <FlexboxGrid.Item>\r\n                <UserList\r\n                  users={profiles}\r\n                  active={active}\r\n                  onSelect={setActive}\r\n                />\r\n              </FlexboxGrid.Item>\r\n            </FlexboxGrid>\r\n          </FlexboxGrid.Item>\r\n          <FlexboxGrid.Item colspan={12} className=\"full-height\">\r\n            <FlexboxGrid\r\n              className=\"full-height\"\r\n              align=\"middle\"\r\n              justify=\"center\"\r\n            >\r\n              <FlexboxGrid.Item>\r\n                {activeUser && (\r\n                  <CurrentUser user={activeUser} onClosePage={onClose} />\r\n                )}\r\n              </FlexboxGrid.Item>\r\n            </FlexboxGrid>\r\n          </FlexboxGrid.Item>\r\n          <FlexboxGrid.Item colspan={6} className=\"full-height\">\r\n            <FlexboxGrid justify=\"end\" align=\"bottom\" className=\"full-height\">\r\n              <FlexboxGrid.Item className=\"m-b-10\">\r\n                <Link replace to={routes.REGISTRATION}>\r\n                  {t(\"Add profile\")}\r\n                </Link>\r\n              </FlexboxGrid.Item>\r\n            </FlexboxGrid>\r\n          </FlexboxGrid.Item>\r\n        </FlexboxGrid>\r\n      </Drawer.Body>\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nexport default observer(ChangeUser);\r\n","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg className={(styles[\"icon-svg\"] || \"icon-svg\") + \" \" + (styles[\"rs-icon\"] || \"rs-icon\")} stroke=\"currentColor\" fill=\"currentColor\" strokeWidth=\"0\" viewBox=\"0 0 24 24\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><g stroke=\"none\"><path fill=\"none\" d=\"M0 0h24v24H0z\" /><path d=\"M14 14.252v2.09A6 6 0 006 22l-2-.001a8 8 0 0110-7.748zM12 13c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6zm0-2c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm6 6v-3h2v3h3v2h-3v3h-2v-3h-3v-2h3z\" /></g></svg>);","import { FC, useCallback, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Drawer, FlexboxGrid } from \"rsuite\";\r\n\r\nimport { routes } from \"helpers/router\";\r\nimport { RegistrationForm } from \"../forms\";\r\n\r\nimport AddUserIcon from \"icons/add-user.svg\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { user, pageView } from \"store\";\r\n\r\nconst Registration: FC<RouteComponentProps> = ({ history }) => {\r\n  const [open, setOpen] = useState(true);\r\n  const { t } = useTranslation();\r\n\r\n  const onClose = useCallback(() => {\r\n    if (!user.profiles.length) {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  }, []);\r\n\r\n  const onExited = useCallback(\r\n    () => history.replace(routes.CHANGE_USER),\r\n    [history]\r\n  );\r\n\r\n  const onSubmit = useCallback(\r\n    async (values) => {\r\n      const result = await user.addUser(values);\r\n\r\n      if (result) {\r\n        pageView.changeCurrentUser(result.id);\r\n        onClose();\r\n      }\r\n    },\r\n    [onClose]\r\n  );\r\n\r\n  return (\r\n    <Drawer\r\n      open={open}\r\n      onClose={onClose}\r\n      placement=\"top\"\r\n      full\r\n      onExited={onExited}\r\n    >\r\n      <Drawer.Body>\r\n        <FlexboxGrid align=\"middle\" justify=\"center\" className=\"full-height\">\r\n          <FlexboxGrid.Item>\r\n            <h3 className=\"m-b-20\">\r\n              <FlexboxGrid align=\"middle\">\r\n                <FlexboxGrid.Item className=\"contents\">\r\n                  <AddUserIcon />\r\n                </FlexboxGrid.Item>\r\n                <FlexboxGrid.Item className=\"m-l-10\">\r\n                  {t(\"Create new profile\")}\r\n                </FlexboxGrid.Item>\r\n              </FlexboxGrid>\r\n            </h3>\r\n            <RegistrationForm onSubmit={onSubmit} />\r\n          </FlexboxGrid.Item>\r\n        </FlexboxGrid>\r\n      </Drawer.Body>\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nexport default Registration;\r\n","import { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport { FC } from \"react\";\r\n\r\nimport { routes } from \"../helpers/router\";\r\n\r\nimport { Error404 } from \"./service\";\r\n\r\nimport { TodoList } from \"./todo-list\";\r\nimport { Notes } from \"./notes\";\r\nimport { Passwords } from \"./passwords\";\r\nimport { Search } from \"./search\";\r\nimport { ChangeUser, Registration } from \"./user\";\r\n\r\ninterface RouterProps {\r\n  authorized: boolean;\r\n}\r\n\r\nconst Routes: FC<RouterProps> = ({ authorized }) => (\r\n  <Switch>\r\n    <Route exact path={routes.CHANGE_USER} component={ChangeUser} />\r\n\r\n    <Route exact path={routes.REGISTRATION} component={Registration} />\r\n\r\n    {authorized ? (\r\n      [\r\n        <Route exact path={routes.ROOT}>\r\n          <Redirect to={routes.TODO_LIST} />\r\n        </Route>,\r\n\r\n        <Route exact path={routes.TODO_LIST} component={TodoList} />,\r\n\r\n        <Route exact path={routes.NOTES} component={Notes} />,\r\n\r\n        <Route exact path={routes.PASSWORDS} component={Passwords} />,\r\n\r\n        <Route exact path={routes.SEARCH} component={Search} />,\r\n\r\n        <Route path=\"*\" component={Error404} />,\r\n      ]\r\n    ) : (\r\n      <Route path=\"*\">\r\n        <Redirect to={routes.CHANGE_USER} />\r\n      </Route>\r\n    )}\r\n  </Switch>\r\n);\r\n\r\nexport default Routes;\r\n","import { Avatar, IconButton, Sidebar } from \"rsuite\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const LogoContainer = styled.div`\r\n  padding: 15px;\r\n\r\n  & svg[data-expanded=\"false\"] {\r\n    width: 20px;\r\n  }\r\n`;\r\n\r\nexport const LogoTitle = styled.span`\r\n  font-size: 20px;\r\n  margin-left: 10px;\r\n  transition: display 1s linear;\r\n\r\n  &[data-expanded=\"false\"] {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const StyledSidebar = styled(Sidebar)`\r\n  position: relative;\r\n  border-right: 1px solid var(--rs-divider-border);\r\n`;\r\n\r\nexport const TogglerButton = styled(IconButton)`\r\n  position: absolute;\r\n  right: -12px;\r\n  bottom: 80px;\r\n  z-index: 5;\r\n`;\r\n\r\nexport const UserAvatar = styled(Avatar)`\r\n  margin-right: 20px;\r\n  position: absolute;\r\n  left: 18px;\r\n  top: 15px;\r\n`;\r\n\r\nexport const UserTitle = styled.p`\r\n  font-size: 16px;\r\n  color: var(--rs-primary-700);\r\n`;\r\n","const Moon = () => (\r\n  <svg\r\n    className=\"rs-dropdown-item-menu-icon rs-icon\"\r\n    viewBox=\"0 0 1024 1024\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"1em\"\r\n    height=\"1em\"\r\n    aria-hidden=\"true\"\r\n    focusable=\"false\"\r\n    fill=\"currentColor\"\r\n  >\r\n    <defs>\r\n      <style></style>\r\n    </defs>\r\n    <path d=\"M888.16 678.96c-127.793 31.948-261.975-12.78-357.82-102.235-127.793-127.792-153.351-325.871-57.507-479.223 31.948-44.727-12.78-108.623-70.286-95.844-95.844 19.169-185.3 70.286-255.585 140.572C51.117 238.075 0 372.257 0 506.44c0 134.182 51.117 268.364 153.351 364.209C249.196 972.883 376.99 1024 517.561 1024c140.572 0 268.364-51.117 364.21-153.351 25.558-25.559 51.116-57.507 76.675-95.845 25.558-44.727-12.78-108.624-70.286-95.844z\"></path>\r\n    <path d=\"M1003.173 238.075c25.559-25.559 25.559-63.897 0-89.455-25.558-25.559-63.896-25.559-89.455 0-19.169 19.168-83.065 19.168-102.234 0-25.559-25.559-63.896-25.559-89.455 0-25.558 25.558-25.558 63.896 0 89.455 19.169 19.168 19.169 83.065 0 102.234-25.558 25.558-25.558 63.896 0 89.455 25.559 25.558 63.896 25.558 89.455 0 19.169-19.17 83.065-19.17 102.234 0 25.559 25.558 63.897 25.558 89.455 0 25.559-25.559 25.559-63.897 0-89.455-19.169-19.17-19.169-83.066 0-102.234z\"></path>\r\n  </svg>\r\n);\r\n\r\nexport default Moon;\r\n","const Sun = () => (\r\n  <svg\r\n    className=\"rs-dropdown-item-menu-icon rs-icon\"\r\n    viewBox=\"0 0 1024 1024\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"1em\"\r\n    height=\"1em\"\r\n    aria-hidden=\"true\"\r\n    focusable=\"false\"\r\n    fill=\"currentColor\"\r\n  >\r\n    <defs>\r\n      <style></style>\r\n    </defs>\r\n    <path d=\"M512 204.8c-169.7 0-307.2 137.603-307.2 307.2 0 169.7 137.5 307.2 307.2 307.2S819.2 681.7 819.2 512c0-169.597-137.5-307.2-307.2-307.2zM477.804 0h68.3v136.5h-68.3zm0 887.5h68.3V1024h-68.3zM270.598 222.414l-48.299 48.298-96.5-96.5 48.298-48.299zm-48.293 530.995l48.298 48.299-96.495 96.5-48.298-48.298zM0 477.901h136.5v68.3H0zm887.5 0H1024v68.3H887.5zm10.702 372.002l-48.3 48.299-96.596-96.598 48.298-48.298zM753.402 222.4l48.299 48.3 96.603-96.502L850 125.901z\"></path>\r\n  </svg>\r\n);\r\n\r\nexport default Sun;\r\n","const Language = () => (\r\n  <svg\r\n    className=\"rs-icon\"\r\n    viewBox=\"0 0 1024 1024\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"1em\"\r\n    height=\"1em\"\r\n    aria-hidden=\"true\"\r\n    focusable=\"false\"\r\n    fill=\"currentColor\"\r\n  >\r\n    <defs>\r\n      <style></style>\r\n    </defs>\r\n    <path d=\"M371.2 98.8c-10.4 3.8-17.2 9-22.6 17.2-6.8 9.8-8.6 18.8-8.6 42.4v21.4l-121.4.6c-114.2.6-122 .8-128.6 4.4-16.8 8.8-24.8 22-24.8 40.2 0 17.8 8 31.2 23.8 39.6l8 4.4 202.6.6 202.6.4-1.4 4.6c-5.6 18.6-26.8 68-45.8 106.4-19.6 40-55.8 103-59 103-1.6 0-30.2-40.8-47.6-68-8.8-13.8-22.4-37.4-30.4-52.6-16.2-30.8-22.6-37.4-39.6-41.2-24.8-5.2-47 9.6-52.6 35-2 8.8-1.8 12 1.2 21.8 8 25 53.4 99.8 92.8 152.6 17.6 23.6 18.4 25 15.4 29.2-5.8 9-66.6 68.6-91.2 89.4-30 25.4-59.6 47.6-81.2 60.8-19.8 12.2-24.2 16-29.4 26-5.8 11-5.8 29 0 40 8.4 15.8 21.6 23.8 39.6 23.8 13.6 0 20-2.8 47-20.6 46.6-30.6 94.2-70.2 143.2-119.4l34-34.2 22 21.2c28 27.4 51.6 47.4 61.8 52.8 10.4 5.4 29 5.8 39 .6 16.6-8.8 24.8-22 24.8-40.2 0-17-5.2-25.6-25.2-42.2-22.2-18.2-64-60.2-63.2-63.2.4-1.4 9.2-15.6 19.8-31.6 10.6-16 25-38.8 32-51 27.8-48.6 62.6-126.4 82.2-183.4l6.6-19.4 38-.6c34.4-.6 38.8-1 46-5 15.8-8.4 23.8-21.8 23.8-39.6 0-18.2-8-31.4-24.8-40.2-6.6-3.6-14.4-3.8-128.4-4.4l-121.2-.6-.8-25.4c-.8-26.6-2.6-33.4-12.4-44-10.4-11.6-31.6-16.8-46-11.6zm352 308c-9.4 3.6-16.6 8.6-21.8 15.6-4.8 6.4-186.8 447-188.4 456.4-4.8 25.2 18.4 51.4 45.2 51.2 8 0 22.8-6.4 29.4-12.6 6.4-5.8 10.6-14.6 30.4-63l16.6-40.4h204.8l18.8 45.2c20.2 49.4 23.6 55.4 33.6 62.2 30.2 20.4 69.2-.2 69-36.4-.2-11.2-6.2-26.6-88.6-226-99-239.4-96.8-234.2-102.8-240.6-10.8-11.6-31.8-16.8-46.2-11.6zM769 643c17.2 41.8 31.8 77.2 32.4 78.4.8 2-12.8 2.6-64.4 2.6-36 0-65-.8-64.6-1.8 6-15.4 64.6-156 64.8-155.6.2.2 14.4 34.6 31.8 76.4z\"></path>\r\n  </svg>\r\n);\r\n\r\nexport default Language;\r\n","import { useCallback, useMemo } from \"react\";\r\nimport {\r\n  Container,\r\n  Nav,\r\n  Sidenav,\r\n  CustomProvider,\r\n  FlexboxGrid,\r\n  Dropdown,\r\n} from \"rsuite\";\r\nimport { ruRU, enUS } from \"rsuite/locales\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nimport UserInfoIcon from \"@rsuite/icons/UserInfo\";\r\nimport SettingIcon from \"@rsuite/icons/Setting\";\r\nimport UserChangeIcon from \"@rsuite/icons/UserChange\";\r\n\r\nimport TodoListIcon from \"icons/todolist.svg\";\r\nimport NotesIcon from \"icons/notes.svg\";\r\nimport PasswordsIcon from \"icons/passwords.svg\";\r\nimport SearchIcon from \"icons/search.svg\";\r\n\r\nimport { routes } from \"helpers/router\";\r\n\r\nimport { Language, Theme } from \"enums/page-view\";\r\n\r\nimport { pageView, user } from \"store\";\r\nimport Routes from \"pages\";\r\n\r\nimport {\r\n  LogoContainer,\r\n  LogoTitle,\r\n  StyledSidebar,\r\n  UserAvatar,\r\n  UserTitle,\r\n} from \"./appStyles\";\r\nimport Moon from \"icons/Moon\";\r\nimport Sun from \"icons/Sun\";\r\nimport LanguageIcon from \"icons/Language\";\r\n\r\nimport \"rsuite/dist/rsuite.min.css\";\r\nimport \"./styles.css\";\r\n\r\nconst App = () => {\r\n  const { language, theme } = pageView;\r\n  const { authorized } = user;\r\n\r\n  const { pathname } = useLocation();\r\n  const { t } = useTranslation();\r\n\r\n  const onSelectOption = useCallback((key?: string) => {\r\n    if (!key) {\r\n      return;\r\n    }\r\n\r\n    if ([Theme.Light, Theme.Dark].includes(key as Theme)) {\r\n      pageView.changeTheme(key as Theme);\r\n    }\r\n\r\n    if ([Language.Ru, Language.EnUS].includes(key as Language)) {\r\n      pageView.changeLanguage(key as Language);\r\n    }\r\n  }, []);\r\n\r\n  const locale = useMemo(\r\n    () => (language === Language.Ru ? ruRU : enUS),\r\n    [language]\r\n  );\r\n\r\n  return (\r\n    <CustomProvider theme={theme} locale={locale}>\r\n      <Container>\r\n        <StyledSidebar\r\n          // width={pageView.expandedSideBar ? 220 : 56}\r\n          width={56}\r\n          collapsible\r\n          className=\"flex-column\"\r\n        >\r\n          <Sidenav.Header>\r\n            <LogoContainer>\r\n              <FlexboxGrid align=\"middle\">\r\n                <FlexboxGrid.Item>\r\n                  <div className=\"logo\">\r\n                    <span>YM</span>\r\n                  </div>\r\n                </FlexboxGrid.Item>\r\n                <FlexboxGrid.Item>\r\n                  <LogoTitle data-expanded={pageView.expandedSideBar}>\r\n                    You manager\r\n                  </LogoTitle>\r\n                </FlexboxGrid.Item>\r\n              </FlexboxGrid>\r\n            </LogoContainer>\r\n          </Sidenav.Header>\r\n          <Sidenav\r\n            className=\"flex-column flex-auto\"\r\n            expanded={pageView.expandedSideBar}\r\n            appearance=\"subtle\"\r\n          >\r\n            <Sidenav.Body className=\"flex-column flex-auto\">\r\n              <Nav className=\"flex-auto\" activeKey={pathname}>\r\n                <Nav.Item\r\n                  eventKey={routes.SEARCH}\r\n                  icon={<SearchIcon />}\r\n                  as={Link}\r\n                  to={routes.SEARCH}\r\n                >\r\n                  {t(\"Search\")}\r\n                </Nav.Item>\r\n\r\n                <Nav.Item\r\n                  eventKey={routes.TODO_LIST}\r\n                  icon={<TodoListIcon />}\r\n                  as={Link}\r\n                  to={routes.TODO_LIST}\r\n                >\r\n                  {t(\"Todo\")}\r\n                </Nav.Item>\r\n\r\n                <Nav.Item\r\n                  eventKey={routes.NOTES}\r\n                  icon={<NotesIcon />}\r\n                  as={Link}\r\n                  to={routes.NOTES}\r\n                >\r\n                  {t(\"Notes\")}\r\n                </Nav.Item>\r\n\r\n                <Nav.Item\r\n                  eventKey={routes.PASSWORDS}\r\n                  icon={<PasswordsIcon />}\r\n                  as={Link}\r\n                  to={routes.PASSWORDS}\r\n                >\r\n                  {t(\"Passwords\")}\r\n                </Nav.Item>\r\n              </Nav>\r\n              <Nav activeKey={pathname}>\r\n                <Dropdown\r\n                  placement=\"rightEnd\"\r\n                  activeKey={pathname}\r\n                  onSelect={onSelectOption}\r\n                  title={<UserTitle>{user.username}</UserTitle>}\r\n                  icon={\r\n                    <UserAvatar size=\"xs\">{user.usernameSymbols}</UserAvatar>\r\n                  }\r\n                >\r\n                  <Dropdown.Item icon={<UserInfoIcon />}>\r\n                    {t(\"Profile\")}\r\n                  </Dropdown.Item>\r\n                  <Dropdown.Item\r\n                    eventKey={routes.SETTINGS}\r\n                    as={Link}\r\n                    to={routes.SETTINGS}\r\n                    icon={<SettingIcon />}\r\n                  >\r\n                    {t(\"Settings\")}\r\n                  </Dropdown.Item>\r\n\r\n                  <Dropdown.Item divider />\r\n\r\n                  <Dropdown.Menu\r\n                    title={t(\"Language\")}\r\n                    icon={<LanguageIcon />}\r\n                    activeKey={language}\r\n                  >\r\n                    <Dropdown.Item eventKey={Language.Ru}>\r\n                      Русский\r\n                    </Dropdown.Item>\r\n                    <Dropdown.Item eventKey={Language.EnUS}>\r\n                      English\r\n                    </Dropdown.Item>\r\n                  </Dropdown.Menu>\r\n\r\n                  <Dropdown.Menu\r\n                    title={t(\"Theme\")}\r\n                    icon={theme === Theme.Light ? <Sun /> : <Moon />}\r\n                    activeKey={theme}\r\n                  >\r\n                    <Dropdown.Item eventKey={Theme.Light}>\r\n                      {t(\"Light\")}\r\n                    </Dropdown.Item>\r\n                    <Dropdown.Item eventKey={Theme.Dark}>\r\n                      {t(\"Dark\")}\r\n                    </Dropdown.Item>\r\n                  </Dropdown.Menu>\r\n\r\n                  <Dropdown.Item divider />\r\n\r\n                  <Dropdown.Item\r\n                    eventKey={routes.CHANGE_USER}\r\n                    as={Link}\r\n                    to={routes.CHANGE_USER}\r\n                    icon={<UserChangeIcon />}\r\n                  >\r\n                    {t(\"Change user\")}\r\n                  </Dropdown.Item>\r\n                </Dropdown>\r\n              </Nav>\r\n            </Sidenav.Body>\r\n          </Sidenav>\r\n        </StyledSidebar>\r\n\r\n        <Container>\r\n          <Routes authorized={authorized} />\r\n        </Container>\r\n      </Container>\r\n    </CustomProvider>\r\n  );\r\n};\r\n\r\nexport default observer(App);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { HashRouter } from \"react-router-dom\";\r\n\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </HashRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}