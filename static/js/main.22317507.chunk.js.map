{"version":3,"sources":["helpers/router/index.ts","pages/service/error404/index.tsx","components/page-content/index.tsx","store/user/constants.ts","store/user/index.ts","helpers/user/index.ts","models/index.ts","helpers/database/index.ts","helpers/mappers/index.ts","models/note/NoteModel.ts","enums/todo-list/index.ts","store/notes/index.ts","store/passwords/index.ts","models/todo/TodoIteModel.ts","models/todo/TodoGroupModel.ts","store/todo-list/index.ts","store/page-view/index.ts","models/user/UserModel.ts","store/index.ts","pages/todo-list/types.ts","icons/Star.tsx","components/todo-list/styles.ts","components/todo-list/AddListItem.tsx","components/todo-list/List.tsx","components/todo-list/ListItem.tsx","pages/todo-list/components/TodoGroupControl.tsx","types/todo-list/index.ts","components/editable-title/index.tsx","components/todo-list/ItemIcon.tsx","components/textarea/index.tsx","pages/todo-list/components/DescriptionTextarea.tsx","pages/todo-list/components/RightSide.tsx","pages/todo-list/components/TodoListContent.tsx","pages/todo-list/views/main.tsx","pages/todo-list/utils/useTodoListFilter.ts","hooks/useResizeWindow.ts","components/editor/constants.ts","components/editor/index.tsx","pages/notes/components/NotesContent.tsx","pages/notes/components/NotesNavigation.tsx","pages/notes/utils/useNotesFilter.ts","pages/notes/views/main.tsx","pages/index.tsx","App.tsx","index.tsx"],"names":["routes","Error404","PageContent","navigation","children","Content","FlexboxGrid","className","Item","colspan","DEFAULT_USERNAME","UserStore","data","makeAutoObservable","this","Boolean","id","username","parsed","split","length","toUpperCase","slice","join","createUsernameSymbols","config","db","name","version","displayName","size","window","openDatabase","Error","sqlQuery","query","args","Promise","resolve","reject","transaction","tx","executeSql","result","error","createQueryHandler","modelInitRunner","model","a","MODEL_NAME","rows","init","mapSqlResultToArray","Array","from","fill","map","_","index","item","NoteModel","userId","noteId","title","Date","getTime","insertId","selectById","content","lastUpdate","rowsAffected","TodoDefaultListGroup","NotesStore","items","loadItems","selectAllByUserId","note","add","addedNote","push","update","findIndex","PasswordStore","TodoItemModel","description","state","type","groupId","steps","orderIndex","JSON","stringify","itemId","priority","rest","parse","TodoGroupModel","getById","removeByGroupId","TodoListStore","groups","loadData","reduce","acc","Object","assign","itemsGroupMap","concat","All","Priority","filter","Today","dateCreate","isToday","itemsMapForGroups","selectAllForUserId","group","addedGroup","removeById","addedItem","value","updatedItem","PageViewStore","expandedSideBar","currentUserId","toggleExpanded","savedSettingsJson","localStorage","getItem","addEventListener","setItem","savedSettings","key","UserModel","password","privateKey","settings","then","initial","pageView","user","notes","todoList","reaction","selectUserById","loadedUser","ItemsFilter","Star","filled","restProps","stroke","viewBox","height","width","xmlns","d","Container","styled","div","TodoListElement","List","LIST_ITEM_STYLE","css","ListItem","AddItemContainer","ItemIcon","ItemContent","AddListItem","onAddItem","placeholder","useState","focused","setFocused","setValue","onRemoveFocused","useCallback","onPressEnterHandler","event","isShowInput","onClick","align","justify","Input","autoFocus","onChange","onPressEnter","onBlur","TodoList","addPlaceholder","TodoListItem","icon","postfix","active","contextMenuId","contextMenuUId","NavContainer","ListTasksContainer","TopListTasksContainer","StyledTodoList","CountItemsContainer","StyledListItem","observer","activeKey","changeActiveGroup","onAddGroup","addGroup","onDeleteGroup","_target","_data","context","Number","parentElement","dataset","uid","removeGroup","Dropdown","Menu","countItemsInGroup","Divider","TodoState","span","EditableTitle","onSave","onSaveHandler","useEffect","val","StyledSvg","svg","Empty","Success","FilledSuccess","TodoIcon","InProgress","hovered","Done","Textarea","style","props","ref","useRef","autosize","current","as","resize","DescriptionTextarea","onEdit","currentValue","setCurrentValue","ScrollContainer","TitleContainer","ListContainer","RightSide","selectedId","onClose","onChangeState","todoMap","useMemo","lastChanged","onUpdateTitle","updateItem","onAddStep","onRemoveStep","stepId","onEditStepTitle","newSteps","onEditStepState","isDone","IconButton","appearance","formatDistance","includeSeconds","removeItem","StyledContent","Title","h3","StepsState","changeFilter","setSelectedId","itemsMap","onCloseRightSide","center","right","addItem","todoId","newState","onRemoveItem","onChangeItemsFilter","zIndex","ButtonToolbar","ButtonGroup","Button","stopPropagation","newValue","completedCount","search","useLocation","history","useHistory","String","replace","useTodoListFilter","useResizeWindow","screen","setSize","onResize","removeEventListener","EDITOR_INIT_OPTIONS","skin","content_css","autosave_interval","plugins","menubar","toolbar","Editor","apiKey","tinyApiKey","currentItem","find","onSaveContent","target","getContent","updateNote","initialValue","onAddNote","addNote","onActiveNote","useNotesFilter","parseNumbers","Routes","exact","path","component","to","Notes","LogoContainer","LogoTitle","StyledSidebar","Sidebar","TogglerButton","UserAvatar","Avatar","ExpandedToggler","expanded","circle","pathname","CustomProvider","theme","collapsible","Sidenav","Header","Body","Nav","eventKey","Link","placement","usernameSymbols","divider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.22317507.chunk.js","sourcesContent":["export const routes = {\r\n  ROOT: \"/\",\r\n  LOGIN: \"/login\",\r\n  REGISTRATION: \"/registration\",\r\n  TODO_LIST: \"/todo-list\",\r\n  NOTES: \"/notes\",\r\n  PASSWORDS: \"/passwords\",\r\n  SETTINGS: \"/settings\",\r\n};\r\n","const Error404 = () => (\r\n  <div>\r\n    <h2>Error 404!</h2>\r\n    <h5>Page not found!</h5>\r\n  </div>\r\n);\r\n\r\nexport default Error404;\r\n","import { FC, ReactNode } from \"react\";\r\nimport { Content, FlexboxGrid } from \"rsuite\";\r\n\r\ninterface PageContentProps {\r\n  navigation?: ReactNode;\r\n  children: ReactNode;\r\n}\r\n\r\nconst PageContent: FC<PageContentProps> = ({ navigation, children }) => (\r\n  <Content>\r\n    {navigation ? (\r\n      <FlexboxGrid className=\"full-height\">\r\n        <FlexboxGrid.Item className=\"full-height b-right\" colspan={4}>\r\n          {navigation}\r\n        </FlexboxGrid.Item>\r\n        <FlexboxGrid.Item colspan={20}>{children}</FlexboxGrid.Item>\r\n      </FlexboxGrid>\r\n    ) : (\r\n      children\r\n    )}\r\n  </Content>\r\n);\r\n\r\nexport default PageContent;\r\n","export const DEFAULT_USER_ID = 1;\r\n\r\nexport const DEFAULT_USERNAME = \"Yerzhan\";\r\n","import { makeAutoObservable } from \"mobx\";\r\n\r\nimport { createUsernameSymbols } from \"../../helpers/user\";\r\nimport { User } from \"../../types/user\";\r\nimport { DEFAULT_USERNAME, DEFAULT_USER_ID } from \"./constants\";\r\n\r\nclass UserStore {\r\n  public data: User | null = null;\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  public get authorized(): boolean {\r\n    return Boolean(this.data);\r\n  }\r\n\r\n  public get userId() {\r\n    return this.data?.id || DEFAULT_USER_ID;\r\n  }\r\n\r\n  public get usernameSymbols() {\r\n    return createUsernameSymbols(this.username);\r\n  }\r\n\r\n  public get username() {\r\n    return this.data?.username || DEFAULT_USERNAME;\r\n  }\r\n}\r\n\r\nexport default UserStore;\r\n","export const createUsernameSymbols = (username: string) => {\r\n  const parsed = username.split(\" \");\r\n\r\n  if (parsed.length === 1) {\r\n    return (username[0] + username[1]).toUpperCase();\r\n  }\r\n\r\n  return parsed.slice(0, 2).join(\"\").toUpperCase();\r\n};\r\n","import config from \"../config.json\";\r\nimport { createQueryHandler } from \"../helpers/database\";\r\nimport { SQLQueryResult } from \"../types/database\";\r\n\r\nconst {\r\n  db: { name, version, displayName, size },\r\n} = config;\r\n\r\nconst db = window.openDatabase(name, version, displayName, size);\r\n\r\nif (db === null) {\r\n  throw Error(\"Database not connected!\");\r\n}\r\n\r\nconst sqlQuery = createQueryHandler(db);\r\n\r\nconst modelInitRunner = async (model: {\r\n  MODEL_NAME: string;\r\n  init: () => Promise<SQLQueryResult>;\r\n}) => {\r\n  const {\r\n    result: { rows },\r\n  } = await sqlQuery(\r\n    `SELECT * FROM sqlite_master WHERE type='table' AND name=?`,\r\n    [model.MODEL_NAME]\r\n  );\r\n\r\n  if (!rows.length) {\r\n    await model.init();\r\n\r\n    return Promise.resolve(true);\r\n  }\r\n\r\n  return Promise.resolve(false);\r\n};\r\n\r\nexport { db, sqlQuery, modelInitRunner };\r\n","import { SQLQueryResult } from \"../../types/database\";\r\n\r\nexport const createQueryHandler =\r\n  (db: Database) =>\r\n  (query: string, args: ObjectArray = []) =>\r\n    new Promise<SQLQueryResult>((resolve, reject) =>\r\n      db.transaction((tx) =>\r\n        tx.executeSql(\r\n          query,\r\n          args,\r\n          (tx, result) => resolve({ tx, result }),\r\n          (tx, error) => {\r\n            reject({ tx, error });\r\n\r\n            return true;\r\n          }\r\n        )\r\n      )\r\n    );\r\n","export const mapSqlResultToArray = ({ rows }: SQLResultSet) =>\r\n  Array.from({ length: rows.length })\r\n    .fill(0)\r\n    .map((_, index) => rows.item(index));\r\n","import { modelInitRunner, sqlQuery } from \"..\";\r\nimport { mapSqlResultToArray } from \"../../helpers/mappers\";\r\nimport { Note } from \"../../types/notes\";\r\n\r\nclass NoteModel {\r\n  public static MODEL_NAME = \"note_model\";\r\n\r\n  public static init() {\r\n    return sqlQuery(\r\n      `CREATE TABLE ${this.MODEL_NAME} (\r\n            id INTEGER PRIMARY KEY, \r\n            title TEXT,\r\n            userId INTEGER,\r\n            content TEXT,\r\n            dateCreated REAL,\r\n            lastUpdate REAL\r\n        )`\r\n    );\r\n  }\r\n\r\n  public static async selectAllByUserId(userId: number) {\r\n    const { result } = await sqlQuery(\r\n      `SELECT * FROM ${this.MODEL_NAME} WHERE userId = ?`,\r\n      [userId]\r\n    );\r\n\r\n    return mapSqlResultToArray(result);\r\n  }\r\n\r\n  public static async selectById(noteId: number) {\r\n    const { result } = await sqlQuery(\r\n      `SELECT * FROM ${this.MODEL_NAME} WHERE id = ?`,\r\n      [noteId]\r\n    );\r\n\r\n    if (!result.rows.length) {\r\n      return null;\r\n    }\r\n\r\n    return result.rows.item(0);\r\n  }\r\n\r\n  public static async add({ title, userId }: Pick<Note, \"title\" | \"userId\">) {\r\n    const { result } = await sqlQuery(\r\n      `INSERT INTO ${this.MODEL_NAME} (title, content, userId, dateCreated) values(?, ?, ?, ?)`,\r\n      [title, \"\", userId, new Date().getTime()]\r\n    );\r\n\r\n    if (!result.insertId) {\r\n      return null;\r\n    }\r\n\r\n    return NoteModel.selectById(result.insertId);\r\n  }\r\n\r\n  public static async update(\r\n    noteId: number,\r\n    {\r\n      content,\r\n      title,\r\n      lastUpdate = new Date().getTime(),\r\n    }: Partial<Omit<Note, \"id\" | \"userId\" | \"dateCreated\">>\r\n  ) {\r\n    const { result } = await sqlQuery(\r\n      `UPDATE ${this.MODEL_NAME} SET title = ?, content = ?, lastUpdate = ? WHERE id = ?`,\r\n      [title, content, lastUpdate, noteId]\r\n    );\r\n\r\n    if (!result.rowsAffected) {\r\n      return null;\r\n    }\r\n\r\n    return NoteModel.selectById(noteId);\r\n  }\r\n}\r\n\r\nmodelInitRunner(NoteModel);\r\n\r\nexport default NoteModel;\r\n","export enum TodoDefaultListGroup {\r\n  All = -1,\r\n  Today = -2,\r\n  Priority = -3,\r\n}\r\n","import { makeAutoObservable } from \"mobx\";\r\nimport NoteModel from \"../../models/note/NoteModel\";\r\nimport { Note } from \"../../types/notes\";\r\n\r\nclass NotesStore {\r\n  public items: Note[] = [];\r\n\r\n  constructor(userId: number) {\r\n    makeAutoObservable(this);\r\n\r\n    this.loadItems(userId);\r\n  }\r\n\r\n  public async loadItems(userId: number) {\r\n    this.items = await NoteModel.selectAllByUserId(userId);\r\n  }\r\n\r\n  public async addNote(note: Pick<Note, \"title\" | \"userId\">) {\r\n    const addedNote = await NoteModel.add(note);\r\n\r\n    if (addedNote) {\r\n      this.items.push(addedNote);\r\n    }\r\n\r\n    return addedNote;\r\n  }\r\n\r\n  public async updateNote(\r\n    noteId: number,\r\n    note: Partial<Omit<Note, \"id\" | \"userId\" | \"dateCreated\">>\r\n  ) {\r\n    const item = await NoteModel.update(noteId, note);\r\n\r\n    if (item) {\r\n      const index = this.items.findIndex(({ id }) => id === noteId);\r\n\r\n      this.items[index] = item;\r\n    }\r\n  }\r\n}\r\n\r\nexport default NotesStore;\r\n","import { makeAutoObservable } from \"mobx\";\r\n\r\nclass PasswordStore {\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n  }\r\n}\r\n\r\nexport default PasswordStore;\r\n","import { modelInitRunner, sqlQuery } from \"..\";\r\nimport { mapSqlResultToArray } from \"../../helpers/mappers\";\r\nimport { TodoItem } from \"../../types/todo-list\";\r\n\r\nclass TodoItemModel {\r\n  public static MODEL_NAME = \"todo_item_model\";\r\n\r\n  public static init() {\r\n    return sqlQuery(\r\n      `CREATE TABLE ${this.MODEL_NAME} (\r\n          id INTEGER PRIMARY KEY, \r\n          title TEXT, \r\n          description TEXT, \r\n          state INTEGER,\r\n          type INTEGER,\r\n          groupId INTEGER, \r\n          userId INTEGER, \r\n          orderIndex INTEGER, \r\n          steps TEXT, \r\n          dateCreate REAL, \r\n          priority BOOL, \r\n          lastChanged REAL\r\n        )`\r\n    );\r\n  }\r\n\r\n  public static async add({\r\n    title,\r\n    description,\r\n    state,\r\n    type,\r\n    groupId,\r\n    userId,\r\n    steps,\r\n    orderIndex,\r\n  }: Omit<TodoItem, \"id\" | \"lastChanged\" | \"dateCreate\" | \"priority\">) {\r\n    const { result } = await sqlQuery(\r\n      `INSERT INTO ${this.MODEL_NAME} (title, description, state, type, groupId, userId, orderIndex, steps, dateCreate, priority) values(?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`,\r\n      [\r\n        title,\r\n        description,\r\n        state,\r\n        type,\r\n        groupId,\r\n        userId,\r\n        orderIndex,\r\n        JSON.stringify(steps),\r\n        new Date().getTime(),\r\n        false,\r\n      ]\r\n    );\r\n\r\n    if (result.insertId) {\r\n      return TodoItemModel.selectById(result.insertId);\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  public static async selectById(itemId: number) {\r\n    const { result } = await sqlQuery(\r\n      `SELECT * FROM ${this.MODEL_NAME} WHERE id = ?`,\r\n      [itemId]\r\n    );\r\n\r\n    if (!result.rows.length) {\r\n      return null;\r\n    }\r\n\r\n    const { steps, priority, ...rest } = result.rows.item(0);\r\n\r\n    return { steps: JSON.parse(steps), priority: priority === \"true\", ...rest };\r\n  }\r\n\r\n  public static async selectAllForUserId(userId: number): Promise<TodoItem[]> {\r\n    const { result } = await sqlQuery(\r\n      `SELECT * FROM ${this.MODEL_NAME} WHERE userId = ?`,\r\n      [userId]\r\n    );\r\n\r\n    return mapSqlResultToArray(result).map(\r\n      ({ steps = \"[]\", priority, ...rest }) => ({\r\n        steps: JSON.parse(steps),\r\n        priority: priority === \"true\",\r\n        ...rest,\r\n      })\r\n    );\r\n  }\r\n\r\n  public static async update({\r\n    id,\r\n    steps,\r\n    title,\r\n    description,\r\n    state,\r\n    type,\r\n    groupId,\r\n    userId,\r\n    orderIndex,\r\n    priority,\r\n  }: TodoItem) {\r\n    const { result } = await sqlQuery(\r\n      `UPDATE ${this.MODEL_NAME} SET title = ?, description = ?, state = ?, type = ?, groupId = ?, userId = ?, orderIndex = ?, steps = ?, priority = ?, lastChanged = ? WHERE id = ?`,\r\n      [\r\n        title,\r\n        description,\r\n        state,\r\n        type,\r\n        groupId,\r\n        userId,\r\n        orderIndex,\r\n        JSON.stringify(steps),\r\n        priority,\r\n        new Date().getTime(),\r\n        id,\r\n      ]\r\n    );\r\n\r\n    if (result.rowsAffected === 1) {\r\n      return TodoItemModel.selectById(id);\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  public static async removeByGroupId(groupId: number): Promise<boolean> {\r\n    await sqlQuery(`DELETE FROM ${this.MODEL_NAME} WHERE groupId = ?`, [\r\n      groupId,\r\n    ]);\r\n\r\n    return true;\r\n  }\r\n\r\n  public static async removeById(id: number) {\r\n    const { result } = await sqlQuery(\r\n      `DELETE FROM ${this.MODEL_NAME} WHERE id = ?`,\r\n      [id]\r\n    );\r\n\r\n    return result.rowsAffected > 0;\r\n  }\r\n}\r\n\r\nmodelInitRunner(TodoItemModel);\r\n\r\nexport default TodoItemModel;\r\n","import { modelInitRunner, sqlQuery } from \"..\";\r\nimport { mapSqlResultToArray } from \"../../helpers/mappers\";\r\nimport { TodoGroup } from \"../../types/todo-list\";\r\nimport TodoItemModel from \"./TodoIteModel\";\r\n\r\nclass TodoGroupModel {\r\n  public static MODEL_NAME = \"todo_group_model\";\r\n\r\n  public static init() {\r\n    return sqlQuery(\r\n      `CREATE TABLE ${this.MODEL_NAME} (\r\n          id INTEGER PRIMARY KEY, \r\n          title TEXT,\r\n          orderIndex INTEGER,\r\n          userId INTEGER\r\n        )`\r\n    );\r\n  }\r\n\r\n  public static async getById(groupId: number) {\r\n    const { result } = await sqlQuery(\r\n      `SELECT * FROM ${this.MODEL_NAME} WHERE id = ?`,\r\n      [groupId]\r\n    );\r\n\r\n    if (result.rows.length) {\r\n      return result.rows.item(0);\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  public static async add({\r\n    title,\r\n    orderIndex,\r\n    userId,\r\n  }: Partial<Omit<TodoGroup, \"id\">>) {\r\n    const { result } = await sqlQuery(\r\n      `INSERT INTO ${this.MODEL_NAME} (title, orderIndex, userId) values(?, ?, ?)`,\r\n      [title, orderIndex, userId]\r\n    );\r\n\r\n    if (result.insertId) {\r\n      return await TodoGroupModel.getById(result.insertId);\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  public static async selectAllForUserId(userId: number): Promise<TodoGroup[]> {\r\n    const { result } = await sqlQuery(\r\n      `SELECT * FROM ${this.MODEL_NAME} WHERE userId = ?`,\r\n      [userId]\r\n    );\r\n\r\n    return mapSqlResultToArray(result);\r\n  }\r\n\r\n  public static async removeById(groupId: number): Promise<boolean> {\r\n    const { result } = await sqlQuery(\r\n      `DELETE FROM ${this.MODEL_NAME} WHERE id = ?`,\r\n      [groupId]\r\n    );\r\n\r\n    return (\r\n      result.rowsAffected === 1 &&\r\n      (await TodoItemModel.removeByGroupId(groupId))\r\n    );\r\n  }\r\n}\r\n\r\nmodelInitRunner(TodoGroupModel);\r\n\r\nexport default TodoGroupModel;\r\n","import { isToday } from \"date-fns\";\r\nimport { makeAutoObservable } from \"mobx\";\r\nimport { TodoDefaultListGroup } from \"../../enums/todo-list\";\r\nimport TodoGroupModel from \"../../models/todo/TodoGroupModel\";\r\nimport TodoItemModel from \"../../models/todo/TodoIteModel\";\r\nimport { TodoGroup, TodoItem } from \"../../types/todo-list\";\r\n\r\ninterface ItemsMap {\r\n  [key: string | number]: TodoItem[];\r\n}\r\n\r\nclass TodoListStore {\r\n  public groups: TodoGroup[] = [];\r\n  public items: TodoItem[] = [];\r\n\r\n  constructor(userId: number) {\r\n    makeAutoObservable(this);\r\n\r\n    this.loadData(userId);\r\n  }\r\n\r\n  public get todoMap(): Record<number, TodoItem> {\r\n    return this.items.reduce(\r\n      (acc, item) => Object.assign(acc, { [item.id]: item }),\r\n      {}\r\n    );\r\n  }\r\n\r\n  public get itemsMapForGroups(): ItemsMap {\r\n    const itemsGroupMap = this.items.reduce(\r\n      (acc, item) =>\r\n        Object.assign(acc, {\r\n          [item.groupId]: (acc[item.groupId] || []).concat(item),\r\n        }),\r\n      {} as ItemsMap\r\n    );\r\n\r\n    return {\r\n      ...itemsGroupMap,\r\n      [TodoDefaultListGroup.All]: this.items,\r\n      [TodoDefaultListGroup.Priority]: this.items.filter(\r\n        ({ priority }) => priority\r\n      ),\r\n      [TodoDefaultListGroup.Today]: this.items.filter(({ dateCreate }) =>\r\n        isToday(dateCreate)\r\n      ),\r\n    };\r\n  }\r\n\r\n  public countItemsInGroup(groupId: number | TodoDefaultListGroup) {\r\n    return this.itemsMapForGroups[groupId]?.length || 0;\r\n  }\r\n\r\n  public async loadData(userId: number) {\r\n    this.groups = await TodoGroupModel.selectAllForUserId(userId);\r\n    this.items = await TodoItemModel.selectAllForUserId(userId);\r\n  }\r\n\r\n  public async addGroup(group: Partial<Omit<TodoGroup, \"id\">>) {\r\n    const addedGroup = await TodoGroupModel.add(group);\r\n\r\n    this.groups.push(addedGroup);\r\n  }\r\n\r\n  public async removeGroup(groupId: number) {\r\n    const removeSuccess = await TodoGroupModel.removeById(groupId);\r\n\r\n    if (removeSuccess) {\r\n      this.groups = this.groups.filter(({ id }) => id !== groupId);\r\n      this.items = this.items.filter(\r\n        ({ groupId: _groupId }) => _groupId !== groupId\r\n      );\r\n    }\r\n  }\r\n\r\n  public async removeItem(itemId: number) {\r\n    const removeSuccess = await TodoItemModel.removeById(itemId);\r\n\r\n    if (removeSuccess) {\r\n      this.items = this.items.filter(({ id }) => id !== itemId);\r\n    }\r\n  }\r\n\r\n  public async addItem(\r\n    item: Omit<TodoItem, \"id\" | \"lastChanged\" | \"dateCreate\" | \"priority\">\r\n  ) {\r\n    const addedItem = await TodoItemModel.add(item);\r\n\r\n    this.items.push(addedItem);\r\n\r\n    return addedItem;\r\n  }\r\n\r\n  public async updateItem(id: number, value: Partial<TodoItem>) {\r\n    const index = this.items.findIndex(({ id: _id }) => _id === id)!;\r\n    const updatedItem = await TodoItemModel.update({\r\n      ...this.items[index],\r\n      ...value,\r\n    });\r\n\r\n    this.items[index] = updatedItem;\r\n  }\r\n}\r\n\r\nexport default TodoListStore;\r\n","import { makeAutoObservable } from \"mobx\";\r\nimport { DEFAULT_USER_ID } from \"../user/constants\";\r\n\r\nclass PageViewStore {\r\n  public expandedSideBar = true;\r\n  public currentUserId = DEFAULT_USER_ID;\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n\r\n    const savedSettingsJson = localStorage.getItem(\"page-settings\");\r\n\r\n    window.addEventListener(\"unload\", () => {\r\n      localStorage.setItem(\"page-settings\", JSON.stringify(this));\r\n    });\r\n\r\n    if (savedSettingsJson === null) {\r\n      return;\r\n    }\r\n\r\n    const savedSettings = JSON.parse(savedSettingsJson);\r\n\r\n    for (const key in savedSettings) {\r\n      if (key in this) {\r\n        (this as any)[key] = savedSettings[key];\r\n      }\r\n    }\r\n  }\r\n\r\n  public toggleExpanded = () => {\r\n    this.expandedSideBar = !this.expandedSideBar;\r\n  };\r\n}\r\n\r\nexport default PageViewStore;\r\n","import { modelInitRunner, sqlQuery } from \"..\";\r\nimport { DEFAULT_USERNAME } from \"../../store/user/constants\";\r\nimport { SQLQueryResult } from \"../../types/database\";\r\nimport { User, UserFull } from \"../../types/user\";\r\n\r\nclass UserModel {\r\n  public static MODEL_NAME = \"user\";\r\n\r\n  public static init(): Promise<SQLQueryResult> {\r\n    return sqlQuery(\r\n      `CREATE TABLE ${this.MODEL_NAME} (id INTEGER PRIMARY KEY, username TEXT, settings TEXT, password TEXT, privateKey TEXT, lastLogin REAL)`\r\n    );\r\n  }\r\n\r\n  public static add({\r\n    username = DEFAULT_USERNAME,\r\n    password = null,\r\n    privateKey = null,\r\n    settings = \"{}\",\r\n  }: Partial<Omit<UserFull, \"id\">>) {\r\n    return sqlQuery(\r\n      `INSERT INTO ${this.MODEL_NAME} (username, settings, password, privateKey) values(?, ?, ?, ?)`,\r\n      [username, settings, password, privateKey]\r\n    );\r\n  }\r\n\r\n  public static async selectUserById(userId: number): Promise<User> {\r\n    const { result } = await sqlQuery(\r\n      \"SELECT id, username, settings, lastLogin FROM ? WHERE id = ?\",\r\n      [this.MODEL_NAME, userId]\r\n    );\r\n\r\n    return result.rows.item(0);\r\n  }\r\n}\r\n\r\nmodelInitRunner(UserModel).then((initial) => {\r\n  if (initial) {\r\n    UserModel.add({});\r\n  }\r\n});\r\n\r\nexport default UserModel;\r\n","import UserStore from \"./user\";\r\nimport NotesStore from \"./notes\";\r\nimport PasswordStore from \"./passwords\";\r\nimport TodoListStore from \"./todo-list\";\r\nimport PageViewStore from \"./page-view\";\r\nimport { reaction } from \"mobx\";\r\nimport UserModel from \"../models/user/UserModel\";\r\n\r\nexport const pageView = new PageViewStore();\r\nexport const user = new UserStore();\r\nexport const notes = new NotesStore(pageView.currentUserId);\r\nexport const passwords = new PasswordStore();\r\nexport const todoList = new TodoListStore(pageView.currentUserId);\r\n\r\nreaction(\r\n  () => pageView.currentUserId,\r\n  async (userId) => {\r\n    const loadedUser = await UserModel.selectUserById(userId);\r\n\r\n    todoList.loadData(userId);\r\n\r\n    user.data = loadedUser;\r\n  }\r\n);\r\n","import { TodoDefaultListGroup } from \"../../enums/todo-list\";\r\n\r\nexport enum ItemsFilter {\r\n  All,\r\n  Done,\r\n  InProgress,\r\n}\r\n\r\nexport interface TodoListFilter {\r\n  group: string | number | TodoDefaultListGroup;\r\n  filter: ItemsFilter;\r\n}\r\n","import { FC } from \"react\";\r\n\r\ninterface StarProps extends React.SVGProps<SVGSVGElement> {\r\n  filled?: boolean;\r\n}\r\n\r\nconst Star: FC<StarProps> = ({ filled, ...restProps }) => (\r\n  <svg\r\n    stroke=\"currentColor\"\r\n    fill=\"currentColor\"\r\n    stroke-width=\"0\"\r\n    viewBox=\"0 0 24 24\"\r\n    height=\"1em\"\r\n    width=\"1em\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    {...restProps}\r\n  >\r\n    <g>\r\n      <path fill=\"none\" d=\"M0 0h24v24H0z\"></path>\r\n      {filled ? (\r\n        <path d=\"M12 17l-5.878 3.59 1.598-6.7-5.23-4.48 6.865-.55L12 2.5l2.645 6.36 6.866.55-5.231 4.48 1.598 6.7z\"></path>\r\n      ) : (\r\n        <path d=\"M12 18.26l-7.053 3.948 1.575-7.928L.587 8.792l8.027-.952L12 .5l3.386 7.34 8.027.952-5.935 5.488 1.575 7.928L12 18.26zm0-2.292l4.247 2.377-.949-4.773 3.573-3.305-4.833-.573L12 5.275l-2.038 4.42-4.833.572 3.573 3.305-.949 4.773L12 15.968z\"></path>\r\n      )}\r\n    </g>\r\n  </svg>\r\n);\r\n\r\nexport default Star;\r\n","import { List } from \"rsuite\";\r\nimport styled, { css } from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  max-height: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nexport const TodoListElement = styled(List)`\r\n  box-shadow: none;\r\n  height: 100%;\r\n\r\n  &[data-hasAdded=\"true\"] {\r\n    height: calc(100% - 56px);\r\n  }\r\n\r\n  /* background-image: url('data:image/svg+xml,<svg viewBox=\"0 0 1000 40\" xmlns=\"http://www.w3.org/2000/svg\"><line x1=\"0\" y1=\"0\" x2=\"1000\" y2=\"0\" stroke=\"currentColor\" /></svg>'); */\r\n`;\r\n\r\nconst LIST_ITEM_STYLE = css`\r\n  border-radius: 4px;\r\n  background: var(--rs-gray-800);\r\n\r\n  & svg {\r\n    display: flex;\r\n    height: 16px;\r\n    width: auto;\r\n  }\r\n\r\n  &:hover {\r\n    background: var(--rs-gray-800);\r\n  }\r\n`;\r\n\r\nexport const ListItem = styled(List.Item)`\r\n  ${LIST_ITEM_STYLE}\r\n  box-shadow: none;\r\n  cursor: pointer;\r\n  padding: 0px;\r\n\r\n  & > div {\r\n    padding: 10px 14px;\r\n  }\r\n\r\n  &:not(:last-child) {\r\n    margin-bottom: 5px;\r\n  }\r\n\r\n  & > div .content {\r\n    font-size: 15px;\r\n    word-break: break-all;\r\n  }\r\n\r\n  &[data-active=\"true\"] {\r\n    background: var(--rs-gray-800);\r\n    color: var(--rs-primary-700);\r\n    font-weight: bold;\r\n  }\r\n`;\r\n\r\nexport const AddItemContainer = styled.div`\r\n  ${LIST_ITEM_STYLE}\r\n  margin-top: 8px;\r\n  cursor: text;\r\n  padding: 10px 14px;\r\n\r\n  & > div > div:last-child {\r\n    flex: auto;\r\n    margin-left: 15px;\r\n  }\r\n\r\n  & p {\r\n    font-size: 16px;\r\n    margin: 3px 0px;\r\n    display: inline-block;\r\n    margin-left: 5px;\r\n  }\r\n\r\n  & input {\r\n    margin-left: -5px;\r\n    background: transparent;\r\n  }\r\n\r\n  & input,\r\n  input:focus {\r\n    border: none;\r\n    box-shadow: none;\r\n  }\r\n`;\r\n\r\nexport const ItemIcon = styled.div`\r\n  width: 30px;\r\n`;\r\n\r\nexport const ItemContent = styled.div`\r\n  width: calc(100% - 30px);\r\n`;\r\n","import { FC, useCallback, useState } from \"react\";\r\nimport { FlexboxGrid, Input } from \"rsuite\";\r\n\r\nimport { AddItemContainer } from \"./styles\";\r\n\r\nimport PlusIcon from \"@rsuite/icons/Plus\";\r\nimport AddOutlineIcon from \"@rsuite/icons/AddOutline\";\r\n\r\ninterface AddListItemProps {\r\n  onAddItem: (title: string) => boolean;\r\n  placeholder?: string;\r\n}\r\n\r\nconst AddListItem: FC<AddListItemProps> = ({\r\n  onAddItem,\r\n  placeholder = \"Add task\",\r\n}) => {\r\n  const [focused, setFocused] = useState(false);\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const onRemoveFocused = useCallback(() => setFocused(false), [setFocused]);\r\n\r\n  const onPressEnterHandler = useCallback(\r\n    (event) => {\r\n      if (onAddItem(value)) {\r\n        setValue(\"\");\r\n      }\r\n    },\r\n    [onAddItem, value]\r\n  );\r\n\r\n  const isShowInput = Boolean(value || focused);\r\n\r\n  return (\r\n    <AddItemContainer onClick={() => setFocused(true)} data-focused={focused} className=\"add-control\">\r\n      <FlexboxGrid align=\"middle\" justify=\"space-between\">\r\n        <FlexboxGrid.Item>\r\n          {isShowInput ? <AddOutlineIcon /> : <PlusIcon />}\r\n        </FlexboxGrid.Item>\r\n        <FlexboxGrid.Item>\r\n          {isShowInput ? (\r\n            <Input\r\n              size=\"sm\"\r\n              autoFocus\r\n              value={value}\r\n              onChange={(value) => setValue(value as string)}\r\n              onPressEnter={onPressEnterHandler}\r\n              placeholder=\"Typing todo title...\"\r\n              onBlur={onRemoveFocused}\r\n            />\r\n          ) : (\r\n            <p>{placeholder}</p>\r\n          )}\r\n        </FlexboxGrid.Item>\r\n      </FlexboxGrid>\r\n    </AddItemContainer>\r\n  );\r\n};\r\n\r\nexport default AddListItem;\r\n","import React, { FC } from \"react\";\r\nimport { ListProps } from \"rsuite\";\r\nimport AddListItem from \"./AddListItem\";\r\nimport { Container, TodoListElement } from \"./styles\";\r\n\r\ninterface TodoListProps extends ListProps {\r\n  children: React.ReactNode;\r\n  onAddItem?: (title: string) => boolean;\r\n  addPlaceholder?: string;\r\n}\r\n\r\nconst TodoList: FC<TodoListProps> = ({\r\n  children,\r\n  onAddItem,\r\n  addPlaceholder,\r\n  ...restProps\r\n}) => (\r\n  <Container>\r\n    <TodoListElement {...restProps} data-hasAdded={Boolean(onAddItem)}>\r\n      {children}\r\n    </TodoListElement>\r\n    {onAddItem && (\r\n      <AddListItem onAddItem={onAddItem} placeholder={addPlaceholder} />\r\n    )}\r\n  </Container>\r\n);\r\n\r\nexport default TodoList;\r\n","import React, { FC } from \"react\";\r\nimport { FlexboxGrid, ListItemProps } from \"rsuite\";\r\nimport { ItemContent, ItemIcon, ListItem } from \"./styles\";\r\nimport { ContextMenuTrigger } from \"react-contextmenu\";\r\n\r\ninterface TodoListItemProps extends ListItemProps {\r\n  icon?: React.ReactNode;\r\n  postfix?: React.ReactNode;\r\n  active?: boolean;\r\n  contextMenuId?: string;\r\n  contextMenuUId?: string | number;\r\n}\r\n\r\nconst TodoListItem: FC<TodoListItemProps> = ({\r\n  children,\r\n  icon,\r\n  postfix,\r\n  active = false,\r\n  contextMenuId,\r\n  contextMenuUId,\r\n  ...restProps\r\n}) => {\r\n  const content = (\r\n    <FlexboxGrid align=\"middle\" justify=\"space-between\">\r\n      <FlexboxGrid.Item\r\n        className=\"content flex-block flex-align-center\"\r\n        colspan={22}\r\n      >\r\n        <ItemIcon>{icon}</ItemIcon>\r\n        <ItemContent>{children}</ItemContent>\r\n      </FlexboxGrid.Item>\r\n      <FlexboxGrid.Item className=\"align-right\" colspan={2}>\r\n        {postfix}\r\n      </FlexboxGrid.Item>\r\n    </FlexboxGrid>\r\n  );\r\n\r\n  return (\r\n    <ListItem {...restProps} data-active={active} data-uid={contextMenuUId}>\r\n      {contextMenuId ? (\r\n        <ContextMenuTrigger id={contextMenuId}>{content}</ContextMenuTrigger>\r\n      ) : (\r\n        <div>{content}</div>\r\n      )}\r\n    </ListItem>\r\n  );\r\n};\r\n\r\nexport default TodoListItem;\r\n","import { FC, useCallback } from \"react\";\r\nimport { Divider, Dropdown } from \"rsuite\";\r\nimport { observer } from \"mobx-react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport TimeIcon from \"@rsuite/icons/Time\";\r\nimport TrashIcon from \"@rsuite/icons/Trash\";\r\nimport AttachmentIcon from \"@rsuite/icons/Attachment\";\r\nimport ListIcon from \"@rsuite/icons/List\";\r\n\r\nimport { todoList, user } from \"../../../store\";\r\nimport { TodoDefaultListGroup } from \"../../../enums/todo-list\";\r\nimport Star from \"../../../icons/Star\";\r\n\r\nimport {\r\n  List as TodoList,\r\n  ListItem as TodoListItem,\r\n} from \"../../../components/todo-list\";\r\nimport { ContextMenu, MenuItem } from \"react-contextmenu\";\r\n\r\nconst NavContainer = styled.div`\r\n  height: 100vh;\r\n  width: 100%;\r\n  border-right: 1px solid var(--rs-divider-border);\r\n`;\r\n\r\nconst ListTasksContainer = styled.div`\r\n  height: calc(100vh - 145px);\r\n`;\r\n\r\nconst TopListTasksContainer = styled.div`\r\n  height: 145px;\r\n`;\r\n\r\nconst StyledTodoList = styled(TodoList)`\r\n  & + .add-control {\r\n    border-radius: 0;\r\n    background: transparent;\r\n    border-top: 1px solid var(--rs-divider-border);\r\n  }\r\n`;\r\n\r\nconst CountItemsContainer = styled.div`\r\n  color: var(--rs-gray-500);\r\n  font-size: 13px;\r\n`;\r\n\r\nconst StyledListItem = styled(TodoListItem)`\r\n  background: transparent;\r\n  margin: 5px;\r\n\r\n  svg {\r\n    height: 16px;\r\n    width: auto;\r\n  }\r\n`;\r\n\r\ninterface TodoGroupControlProps {\r\n  activeKey: string | number;\r\n  changeActiveGroup: (activeGroupId: number | TodoDefaultListGroup) => void;\r\n}\r\n\r\nconst TodoGroupControl: FC<TodoGroupControlProps> = ({\r\n  activeKey,\r\n  changeActiveGroup,\r\n}) => {\r\n  const { groups } = todoList;\r\n\r\n  const onAddGroup = useCallback(\r\n    (title: string) => {\r\n      todoList.addGroup({\r\n        title,\r\n        orderIndex: groups.length + 1,\r\n        userId: user.userId,\r\n      });\r\n\r\n      return true;\r\n    },\r\n    [groups]\r\n  );\r\n\r\n  const onDeleteGroup = useCallback((_target, _data, context) => {\r\n    const groupId = Number(context.parentElement?.dataset?.uid);\r\n\r\n    todoList.removeGroup(groupId);\r\n  }, []);\r\n\r\n  return (\r\n    <NavContainer>\r\n      <ContextMenu id=\"group-context\">\r\n        <Dropdown.Menu>\r\n          <MenuItem onClick={onDeleteGroup}>\r\n            <Dropdown.Item icon={<TrashIcon />} className=\"delete-button\">\r\n              Delete group\r\n            </Dropdown.Item>\r\n          </MenuItem>\r\n        </Dropdown.Menu>\r\n      </ContextMenu>\r\n      <TopListTasksContainer>\r\n        <StyledTodoList>\r\n          <StyledListItem\r\n            icon={<ListIcon />}\r\n            postfix={\r\n              <CountItemsContainer>\r\n                {todoList.countItemsInGroup(TodoDefaultListGroup.All) || \"\"}\r\n              </CountItemsContainer>\r\n            }\r\n            active={TodoDefaultListGroup.All === activeKey}\r\n            onClick={() => changeActiveGroup(TodoDefaultListGroup.All)}\r\n          >\r\n            All\r\n          </StyledListItem>\r\n\r\n          <StyledListItem\r\n            icon={<TimeIcon />}\r\n            postfix={\r\n              <CountItemsContainer>\r\n                {todoList.countItemsInGroup(TodoDefaultListGroup.Today) || \"\"}\r\n              </CountItemsContainer>\r\n            }\r\n            active={TodoDefaultListGroup.Today === activeKey}\r\n            onClick={() => changeActiveGroup(TodoDefaultListGroup.Today)}\r\n          >\r\n            Today\r\n          </StyledListItem>\r\n\r\n          <StyledListItem\r\n            icon={<Star />}\r\n            postfix={\r\n              <CountItemsContainer>\r\n                {todoList.countItemsInGroup(TodoDefaultListGroup.Priority) ||\r\n                  \"\"}\r\n              </CountItemsContainer>\r\n            }\r\n            active={TodoDefaultListGroup.Priority === activeKey}\r\n            onClick={() => changeActiveGroup(TodoDefaultListGroup.Priority)}\r\n          >\r\n            Priority\r\n          </StyledListItem>\r\n        </StyledTodoList>\r\n      </TopListTasksContainer>\r\n\r\n      <Divider className=\"reset-margin\" />\r\n\r\n      <ListTasksContainer>\r\n        <StyledTodoList onAddItem={onAddGroup} addPlaceholder=\"Add task group\">\r\n          {groups.map(({ id, title }) => (\r\n            <StyledListItem\r\n              contextMenuId=\"group-context\"\r\n              contextMenuUId={id}\r\n              icon={<AttachmentIcon />}\r\n              active={activeKey === id}\r\n              key={id}\r\n              postfix={\r\n                <CountItemsContainer>\r\n                  {todoList.countItemsInGroup(id) || \"\"}\r\n                </CountItemsContainer>\r\n              }\r\n              onClick={() => changeActiveGroup(id)}\r\n            >\r\n              {title}\r\n            </StyledListItem>\r\n          ))}\r\n        </StyledTodoList>\r\n      </ListTasksContainer>\r\n    </NavContainer>\r\n  );\r\n};\r\n\r\nexport default observer(TodoGroupControl);\r\n","export interface TodoGroup {\r\n  id: number;\r\n  title: string;\r\n  orderIndex: number;\r\n  userId: number;\r\n}\r\n\r\nexport enum TodoState {\r\n  InProgress,\r\n  Done,\r\n}\r\n\r\nexport interface TodoStep {\r\n  id: number;\r\n  title: string;\r\n  priority: boolean;\r\n  state: TodoState;\r\n}\r\n\r\nexport interface TodoItem {\r\n  id: number;\r\n  title: string;\r\n  description: string;\r\n  state: TodoState;\r\n  type: number; // ???\r\n  groupId: number;\r\n  userId: number;\r\n  orderIndex: number | null;\r\n  steps: TodoStep[];\r\n  dateCreate: number;\r\n  priority: boolean;\r\n  lastChanged: number | null;\r\n}\r\n","import { FC, useCallback, useEffect, useState } from \"react\";\r\nimport { Input } from \"rsuite\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.span`\r\n  input,\r\n  input:focus {\r\n    padding: 0;\r\n    box-shadow: none;\r\n    border: none;\r\n    background: transparent;\r\n    font-size: inherit;\r\n  }\r\n`;\r\n\r\ninterface EditableTitleProps {\r\n  onSave: (title: string) => void;\r\n  children: string;\r\n}\r\n\r\nconst EditableTitle: FC<EditableTitleProps> = ({ children, onSave }) => {\r\n  const [value, setValue] = useState(children);\r\n\r\n  const onSaveHandler = useCallback(() => onSave(value), [onSave, value]);\r\n\r\n  useEffect(() => {\r\n    setValue(children);\r\n  }, [children]);\r\n\r\n  return (\r\n    <Container className=\"full-width\">\r\n      <Input\r\n        value={value}\r\n        onChange={(val) => setValue(val as string)}\r\n        onBlur={onSaveHandler}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default EditableTitle;\r\n","import { FC } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { TodoState } from \"../../types/todo-list\";\r\n\r\nconst StyledSvg = styled.svg`\r\n  & .success {\r\n    visibility: hidden;\r\n  }\r\n\r\n  &[data-hovered=\"true\"]:hover .success,\r\n  &[data-show=\"true\"] .success {\r\n    visibility: visible;\r\n  }\r\n`;\r\n\r\nconst Container = styled.span`\r\n  display: flex;\r\n\r\n  & > svg {\r\n    min-height: 20px;\r\n    width: auto;\r\n    display: none;\r\n  }\r\n\r\n  .empty {\r\n    display: flex;\r\n  }\r\n\r\n  &:hover .empty {\r\n    display: none;\r\n  }\r\n\r\n  &:hover .success {\r\n    display: flex;\r\n  }\r\n\r\n  &[data-done=\"true\"] {\r\n    .empty,\r\n    .success {\r\n      display: none;\r\n    }\r\n\r\n    .filled-success {\r\n      display: flex;\r\n    }\r\n  }\r\n`;\r\n\r\ninterface TodoIconProps {\r\n  state?: TodoState;\r\n  hovered?: boolean;\r\n}\r\n\r\nconst Empty = () => (\r\n  <StyledSvg\r\n    stroke=\"currentColor\"\r\n    fill=\"currentColor\"\r\n    stroke-width=\"0\"\r\n    viewBox=\"0 0 24 24\"\r\n    height=\"1em\"\r\n    width=\"1em\"\r\n    className=\"empty\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"></path>\r\n  </StyledSvg>\r\n);\r\n\r\nconst Success = () => (\r\n  <StyledSvg\r\n    stroke=\"currentColor\"\r\n    fill=\"currentColor\"\r\n    stroke-width=\"0\"\r\n    viewBox=\"0 0 24 24\"\r\n    height=\"1em\"\r\n    width=\"1em\"\r\n    className=\"success\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z\"></path>\r\n  </StyledSvg>\r\n);\r\n\r\nconst FilledSuccess = () => (\r\n  <StyledSvg\r\n    stroke=\"currentColor\"\r\n    fill=\"currentColor\"\r\n    stroke-width=\"0\"\r\n    viewBox=\"0 0 24 24\"\r\n    height=\"1em\"\r\n    width=\"1em\"\r\n    className=\"filled-success\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"></path>\r\n  </StyledSvg>\r\n);\r\n\r\nconst TodoIcon: FC<TodoIconProps> = ({\r\n  state = TodoState.InProgress,\r\n  hovered,\r\n}) => {\r\n  return (\r\n    <Container data-done={state === TodoState.Done} data-hovered={hovered}>\r\n      <Empty />\r\n      <Success />\r\n      <FilledSuccess />\r\n    </Container>\r\n  );\r\n};\r\nexport default TodoIcon;\r\n","import { FC, useEffect, useRef } from \"react\";\r\nimport { Input, InputProps } from \"rsuite\";\r\nimport autosize from \"autosize\";\r\n\r\ninterface TextareaProps extends InputProps {}\r\n\r\nconst Textarea: FC<TextareaProps> = ({ style, ...props }) => {\r\n  const ref = useRef<any>(null);\r\n\r\n  useEffect(() => {\r\n    autosize(ref.current);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    autosize.update(ref.current);\r\n  }, [props.value]);\r\n\r\n  return (\r\n    <Input\r\n      {...props}\r\n      as=\"textarea\"\r\n      ref={ref}\r\n      style={{ resize: \"none\", ...style }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Textarea;\r\n","import { FC, useEffect, useState } from \"react\";\r\nimport { InputProps } from \"rsuite\";\r\nimport Textarea from \"../../../components/textarea\";\r\n\r\ninterface DescriptionTextareaProps extends InputProps {\r\n  value: string;\r\n  onEdit: (value: string) => void;\r\n}\r\n\r\nconst DescriptionTextarea: FC<DescriptionTextareaProps> = ({\r\n  value,\r\n  onEdit,\r\n  ...rest\r\n}) => {\r\n  const [currentValue, setCurrentValue] = useState(value);\r\n\r\n  useEffect(() => {\r\n    setCurrentValue(value);\r\n  }, [value]);\r\n\r\n  return (\r\n    <Textarea\r\n      value={currentValue}\r\n      onChange={(value) => setCurrentValue(value as string)}\r\n      onBlur={() => onEdit(currentValue)}\r\n      {...rest}\r\n    />\r\n  );\r\n};\r\n\r\nexport default DescriptionTextarea;\r\n","import { FC, useCallback, useMemo } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport EditableTitle from \"../../../components/editable-title\";\r\nimport Star from \"../../../icons/Star\";\r\nimport { todoList } from \"../../../store\";\r\nimport TodoIcon from \"../../../components/todo-list/ItemIcon\";\r\nimport { List, ListItem } from \"../../../components/todo-list\";\r\nimport { TodoState } from \"../../../types/todo-list\";\r\nimport CloseIcon from \"@rsuite/icons/Close\";\r\nimport { FlexboxGrid, IconButton } from \"rsuite\";\r\nimport ArrowRightIcon from \"@rsuite/icons/ArrowRight\";\r\nimport TrashIcon from \"@rsuite/icons/Trash\";\r\nimport { formatDistance } from \"date-fns\";\r\nimport DescriptionTextarea from \"./DescriptionTextarea\";\r\n\r\nconst Container = styled.div`\r\n  height: 100vh;\r\n  border-left: 1px solid var(--rs-divider-border);\r\n`;\r\n\r\nconst ScrollContainer = styled.div`\r\n  height: calc(100vh - 56px);\r\n  overflow-y: auto;\r\n  padding: 15px;\r\n`;\r\n\r\nconst TitleContainer = styled.div`\r\n  margin-bottom: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  & h4 {\r\n    flex: auto;\r\n    font-weight: normal;\r\n    margin-left: 15px;\r\n  }\r\n\r\n  & svg {\r\n    height: 22px;\r\n    width: auto;\r\n  }\r\n\r\n  & span {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst ListContainer = styled.div`\r\n  height: fit-content;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\ninterface RightSideProps {\r\n  selectedId: number;\r\n  onClose: () => void;\r\n  onChangeState: (id: number, state: TodoState) => void;\r\n}\r\n\r\nconst RightSide: FC<RightSideProps> = ({\r\n  selectedId,\r\n  onClose,\r\n  onChangeState,\r\n}) => {\r\n  const { todoMap } = todoList;\r\n\r\n  const currentItem = useMemo(\r\n    () => (selectedId ? todoMap[selectedId] : null),\r\n    [selectedId, todoMap]\r\n  );\r\n\r\n  const { title, state, priority, steps, lastChanged, description } =\r\n    currentItem!;\r\n\r\n  const onUpdateTitle = useCallback(\r\n    (title) => {\r\n      todoList.updateItem(selectedId, { title });\r\n    },\r\n    [selectedId]\r\n  );\r\n\r\n  const onAddStep = useCallback(\r\n    (title) => {\r\n      todoList.updateItem(selectedId, {\r\n        steps: steps.concat({\r\n          id: steps.length + 1,\r\n          priority: false,\r\n          title,\r\n          state: TodoState.InProgress,\r\n        }),\r\n      });\r\n\r\n      return true;\r\n    },\r\n    [selectedId, steps]\r\n  );\r\n\r\n  const onRemoveStep = useCallback(\r\n    (stepId: number) => {\r\n      todoList.updateItem(selectedId, {\r\n        steps: steps.filter(({ id }) => id !== stepId),\r\n      });\r\n    },\r\n    [selectedId, steps]\r\n  );\r\n\r\n  const onEditStepTitle = useCallback(\r\n    (stepId) => (title: string) => {\r\n      const index = steps.findIndex(({ id }) => id === stepId);\r\n      const newSteps = [...steps];\r\n\r\n      if (newSteps[index].title === title) {\r\n        return;\r\n      }\r\n\r\n      newSteps[index].title = title;\r\n\r\n      todoList.updateItem(selectedId, {\r\n        steps: newSteps,\r\n      });\r\n    },\r\n    [steps, selectedId]\r\n  );\r\n\r\n  const onEditStepState = useCallback(\r\n    (stepId) => () => {\r\n      const index = steps.findIndex(({ id }) => id === stepId);\r\n      const newSteps = [...steps];\r\n      const state =\r\n        newSteps[index].state === TodoState.Done\r\n          ? TodoState.InProgress\r\n          : TodoState.Done;\r\n\r\n      if (newSteps[index].state === state) {\r\n        return;\r\n      }\r\n\r\n      newSteps[index].state = state;\r\n\r\n      todoList.updateItem(selectedId, {\r\n        steps: newSteps,\r\n      });\r\n    },\r\n    [selectedId, steps]\r\n  );\r\n\r\n  const isDone = state === TodoState.Done;\r\n\r\n  return (\r\n    <Container>\r\n      <ScrollContainer>\r\n        <TitleContainer>\r\n          <span\r\n            className=\"hover-icon flex-block\"\r\n            onClick={() =>\r\n              onChangeState(\r\n                selectedId,\r\n                isDone ? TodoState.InProgress : TodoState.Done\r\n              )\r\n            }\r\n          >\r\n            <TodoIcon state={state} hovered />\r\n          </span>\r\n          <h4>\r\n            <EditableTitle onSave={onUpdateTitle}>{title}</EditableTitle>\r\n          </h4>\r\n          <span\r\n            className=\"hover-icon flex-block\"\r\n            onClick={() =>\r\n              todoList.updateItem(selectedId, { priority: !priority })\r\n            }\r\n          >\r\n            <Star filled={priority} />\r\n          </span>\r\n        </TitleContainer>\r\n\r\n        <ListContainer>\r\n          <List addPlaceholder=\"Add step\" onAddItem={onAddStep}>\r\n            {steps.map(({ id, title, state }) => (\r\n              <ListItem\r\n                key={id}\r\n                icon={\r\n                  <span\r\n                    className=\"hover-icon\"\r\n                    title={\r\n                      state === TodoState.InProgress\r\n                        ? \"Mark as done\"\r\n                        : \"Move back to in progress\"\r\n                    }\r\n                    onClick={onEditStepState(id)}\r\n                  >\r\n                    <TodoIcon state={state} hovered />\r\n                  </span>\r\n                }\r\n                postfix={\r\n                  <span\r\n                    title=\"Remove step\"\r\n                    className=\"hover-icon centered-span\"\r\n                    onClick={() => onRemoveStep(id)}\r\n                  >\r\n                    <CloseIcon className=\"icon-14\" />\r\n                  </span>\r\n                }\r\n              >\r\n                <EditableTitle onSave={onEditStepTitle(id)}>\r\n                  {title}\r\n                </EditableTitle>\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        </ListContainer>\r\n\r\n        <DescriptionTextarea\r\n          placeholder=\"Add notes\"\r\n          onEdit={(description) =>\r\n            todoList.updateItem(selectedId, { description })\r\n          }\r\n          value={description}\r\n        />\r\n      </ScrollContainer>\r\n\r\n      <FlexboxGrid\r\n        className=\"full-width p-10 b-top\"\r\n        align=\"middle\"\r\n        justify=\"space-between\"\r\n      >\r\n        <FlexboxGrid.Item>\r\n          <IconButton\r\n            icon={<ArrowRightIcon />}\r\n            appearance=\"subtle\"\r\n            onClick={onClose}\r\n            title=\"Close frame\"\r\n          />\r\n        </FlexboxGrid.Item>\r\n        <FlexboxGrid.Item className=\"align-center\">\r\n          {lastChanged\r\n            ? `last changed ${formatDistance(lastChanged!, new Date(), {\r\n                includeSeconds: true,\r\n              })} ago`\r\n            : \"Not updated\"}\r\n        </FlexboxGrid.Item>\r\n        <FlexboxGrid.Item>\r\n          <IconButton\r\n            onClick={() => {\r\n              onClose();\r\n              todoList.removeItem(selectedId);\r\n            }}\r\n            className=\"delete-button\"\r\n            icon={<TrashIcon />}\r\n            appearance=\"subtle\"\r\n            title=\"Delete task\"\r\n          />\r\n        </FlexboxGrid.Item>\r\n      </FlexboxGrid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default RightSide;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { FC, useCallback, useMemo, useState } from \"react\";\r\nimport {\r\n  Button,\r\n  ButtonGroup,\r\n  ButtonToolbar,\r\n  Container,\r\n  Content,\r\n  Dropdown,\r\n  FlexboxGrid,\r\n  IconButton,\r\n} from \"rsuite\";\r\nimport styled from \"styled-components\";\r\n// import Picker from \"emoji-picker-react\";\r\nimport { ItemsFilter, TodoListFilter } from \"../types\";\r\nimport RightSide from \"./RightSide\";\r\n\r\nimport MoreIcon from \"@rsuite/icons/More\";\r\nimport {\r\n  List as TodoList,\r\n  ListItem as TodoListItem,\r\n} from \"../../../components/todo-list\";\r\nimport TodoIcon from \"../../../components/todo-list/ItemIcon\";\r\nimport { TodoState } from \"../../../types/todo-list\";\r\nimport Star from \"../../../icons/Star\";\r\nimport { pageView, todoList } from \"../../../store\";\r\nimport { ContextMenu, MenuItem } from \"react-contextmenu\";\r\nimport { ChangeTodoFilterHandler } from \"../utils/useTodoListFilter\";\r\n\r\nconst StyledContent = styled(Content)`\r\n  height: 100vh;\r\n  padding: 20px 30px;\r\n`;\r\n\r\nconst Title = styled.h3`\r\n  color: var(--rs-sidenav-subtle-selected-text);\r\n`;\r\n\r\nconst ListContainer = styled.div`\r\n  border-radius: 20px;\r\n  margin-top: 20px;\r\n  height: calc(100vh - 100px);\r\n`;\r\n\r\nconst StepsState = styled.div`\r\n  font-size: 10px;\r\n  color: var(--rs-gray-200);\r\n`;\r\n\r\ninterface TodoListContentProps {\r\n  filter: TodoListFilter;\r\n  changeFilter: ChangeTodoFilterHandler;\r\n}\r\n\r\nconst TodoListContent: FC<TodoListContentProps> = ({\r\n  filter: { group, filter },\r\n  changeFilter,\r\n}) => {\r\n  const [selectedId, setSelectedId] = useState<number | null>(null);\r\n\r\n  const { itemsMapForGroups } = todoList;\r\n\r\n  const itemsMap = useMemo(() => {\r\n    const items = itemsMapForGroups[group] || [];\r\n\r\n    return {\r\n      [ItemsFilter.Done]: items.filter(({ state }) => state === TodoState.Done),\r\n      [ItemsFilter.InProgress]: items.filter(\r\n        ({ state }) => state === TodoState.InProgress\r\n      ),\r\n      [ItemsFilter.All]: items,\r\n    };\r\n  }, [itemsMapForGroups, group]);\r\n\r\n  const onCloseRightSide = useCallback(\r\n    () => setSelectedId(null),\r\n    [setSelectedId]\r\n  );\r\n\r\n  const [center, right] = useMemo(\r\n    () => (selectedId ? [16, 8] : [24, 0]),\r\n    [selectedId]\r\n  );\r\n\r\n  const onAddItem = useCallback(\r\n    (title: string) => {\r\n      todoList\r\n        .addItem({\r\n          groupId: group as number,\r\n          description: \"\",\r\n          orderIndex: null,\r\n          state: TodoState.InProgress,\r\n          steps: [],\r\n          title,\r\n          type: 0,\r\n          userId: pageView.currentUserId,\r\n        })\r\n        .then(({ id }) => setSelectedId(id));\r\n\r\n      return true;\r\n    },\r\n    [group]\r\n  );\r\n\r\n  const onChangeState = useCallback((todoId: number, newState: TodoState) => {\r\n    todoList.updateItem(todoId, { state: newState });\r\n  }, []);\r\n\r\n  const onRemoveItem = useCallback(\r\n    (_target, _data, context) => {\r\n      const id = Number(context.parentElement?.dataset?.uid);\r\n\r\n      onCloseRightSide();\r\n      todoList.removeItem(id);\r\n    },\r\n    [onCloseRightSide]\r\n  );\r\n\r\n  const onChangeItemsFilter = useCallback(\r\n    (value) => () => changeFilter({ filter: value }),\r\n    [changeFilter]\r\n  );\r\n\r\n  return (\r\n    <Container>\r\n      <ContextMenu id=\"same_unique_identifier\" style={{ zIndex: 10 }}>\r\n        <Dropdown.Menu>\r\n          <MenuItem onClick={onRemoveItem}>\r\n            <Dropdown.Item className=\"delete-button\">Delete</Dropdown.Item>\r\n          </MenuItem>\r\n        </Dropdown.Menu>\r\n      </ContextMenu>\r\n\r\n      <FlexboxGrid>\r\n        <FlexboxGrid.Item colspan={center}>\r\n          <StyledContent>\r\n            <FlexboxGrid align=\"middle\" justify=\"space-between\">\r\n              <FlexboxGrid.Item>\r\n                <Title>title</Title>\r\n              </FlexboxGrid.Item>\r\n              <FlexboxGrid.Item>\r\n                <ButtonToolbar>\r\n                  <ButtonGroup size=\"sm\">\r\n                    <Button\r\n                      active={filter === ItemsFilter.All}\r\n                      onClick={onChangeItemsFilter(ItemsFilter.All)}\r\n                      appearance=\"subtle\"\r\n                    >\r\n                      All ({itemsMap[ItemsFilter.All].length})\r\n                    </Button>\r\n                    <Button\r\n                      active={filter === ItemsFilter.Done}\r\n                      onClick={onChangeItemsFilter(ItemsFilter.Done)}\r\n                      appearance=\"subtle\"\r\n                    >\r\n                      Done ({itemsMap[ItemsFilter.Done].length})\r\n                    </Button>\r\n                    <Button\r\n                      active={filter === ItemsFilter.InProgress}\r\n                      onClick={onChangeItemsFilter(ItemsFilter.InProgress)}\r\n                      appearance=\"subtle\"\r\n                    >\r\n                      In progress ({itemsMap[ItemsFilter.InProgress].length})\r\n                    </Button>\r\n                  </ButtonGroup>\r\n\r\n                  <IconButton icon={<MoreIcon />} size=\"sm\" />\r\n                </ButtonToolbar>\r\n              </FlexboxGrid.Item>\r\n            </FlexboxGrid>\r\n\r\n            <ListContainer>\r\n              <TodoList onAddItem={onAddItem}>\r\n                {itemsMap[filter].map(\r\n                  ({ id, priority, title, state, steps }) => (\r\n                    <TodoListItem\r\n                      active={selectedId === id}\r\n                      onClick={() => setSelectedId(id)}\r\n                      key={id}\r\n                      contextMenuUId={id}\r\n                      contextMenuId=\"same_unique_identifier\"\r\n                      icon={\r\n                        <span\r\n                          onClick={(event) => {\r\n                            event.stopPropagation();\r\n\r\n                            const newValue =\r\n                              state === TodoState.InProgress\r\n                                ? TodoState.Done\r\n                                : TodoState.InProgress;\r\n\r\n                            onChangeState(id, newValue);\r\n                          }}\r\n                          className=\"hover-icon centered-span\"\r\n                          title={\r\n                            state === TodoState.InProgress\r\n                              ? \"Mark as done\"\r\n                              : \"Move back to in progress\"\r\n                          }\r\n                        >\r\n                          <TodoIcon state={state} hovered />\r\n                        </span>\r\n                      }\r\n                      postfix={\r\n                        <span\r\n                          onClick={(event) => {\r\n                            event.stopPropagation();\r\n\r\n                            todoList.updateItem(id, {\r\n                              priority: !priority,\r\n                            });\r\n                          }}\r\n                          title=\"Mark as important\"\r\n                          className=\"hover-icon centered-span\"\r\n                        >\r\n                          <Star filled={priority} />\r\n                        </span>\r\n                      }\r\n                    >\r\n                      <div>{title}</div>\r\n                      {steps.length > 0 &&\r\n                        (() => {\r\n                          const completedCount = steps.filter(\r\n                            ({ state }) => state === TodoState.Done\r\n                          ).length;\r\n\r\n                          return (\r\n                            <StepsState>\r\n                              {completedCount === steps.length && (\r\n                                <span>&#10004; </span>\r\n                              )}\r\n                              {completedCount} of {steps.length}\r\n                            </StepsState>\r\n                          );\r\n                        })()}\r\n                    </TodoListItem>\r\n                  )\r\n                )}\r\n              </TodoList>\r\n            </ListContainer>\r\n          </StyledContent>\r\n        </FlexboxGrid.Item>\r\n        {selectedId && (\r\n          <FlexboxGrid.Item colspan={right}>\r\n            <RightSide\r\n              selectedId={selectedId}\r\n              onClose={onCloseRightSide}\r\n              onChangeState={onChangeState}\r\n            />\r\n          </FlexboxGrid.Item>\r\n        )}\r\n      </FlexboxGrid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default observer(TodoListContent);\r\n","import PageContent from \"../../../components/page-content\";\r\nimport TodoGroupControl from \"../components/TodoGroupControl\";\r\nimport TodoListContent from \"../components/TodoListContent\";\r\nimport { useTodoListFilter } from \"../utils/useTodoListFilter\";\r\n\r\nconst TodoList = () => {\r\n  const { filter, onChange } = useTodoListFilter();\r\n\r\n  return (\r\n    <PageContent\r\n      navigation={\r\n        <TodoGroupControl\r\n          activeKey={filter.group}\r\n          changeActiveGroup={(group) => onChange({ group })}\r\n        />\r\n      }\r\n    >\r\n      <TodoListContent filter={filter} changeFilter={onChange} />\r\n    </PageContent>\r\n  );\r\n};\r\n\r\nexport default TodoList;\r\n","import { parse, stringify } from \"query-string\";\r\nimport { useCallback, useMemo } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router\";\r\nimport { TodoDefaultListGroup } from \"../../../enums/todo-list\";\r\nimport { ItemsFilter, TodoListFilter } from \"../types\";\r\n\r\nexport type ChangeTodoFilterHandler = (values: Partial<TodoListFilter>) => void;\r\n\r\ninterface ReturnValue {\r\n  filter: TodoListFilter;\r\n  onChange: ChangeTodoFilterHandler;\r\n}\r\n\r\nexport const useTodoListFilter = (): ReturnValue => {\r\n  const { search } = useLocation();\r\n  const history = useHistory();\r\n\r\n  const filter = useMemo(() => {\r\n    const {\r\n      group = String(TodoDefaultListGroup.All),\r\n      filter = String(ItemsFilter.All),\r\n    } = parse(search);\r\n\r\n    return {\r\n      group: Number(group),\r\n      filter: Number(filter),\r\n    };\r\n  }, [search]);\r\n\r\n  const onChange = useCallback(\r\n    (newValue) =>\r\n      history.replace({ search: stringify({ ...filter, ...newValue }) }),\r\n    [filter, history]\r\n  );\r\n\r\n  return { filter, onChange };\r\n};\r\n","import { useCallback, useEffect, useState } from \"react\";\r\n\r\nconst useResizeWindow = () => {\r\n  const [size, setSize] = useState({\r\n    height: window.screen.height,\r\n    width: window.screen.width,\r\n  });\r\n\r\n  const onResize = useCallback(() => {\r\n    const { width, height } = window.screen;\r\n\r\n    setSize({ height, width });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", onResize);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", onResize);\r\n    };\r\n  }, [onResize]);\r\n\r\n  return size;\r\n};\r\n\r\nexport default useResizeWindow;\r\n","export const EDITOR_INIT_OPTIONS = {\r\n  skin: \"oxide-dark\",\r\n  content_css: \"dark\",\r\n  autosave_interval: '20s',\r\n  plugins:\r\n    \"autosave print preview paste importcss searchreplace autolink autosave save directionality code visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools textpattern noneditable help charmap quickbars emoticons\",\r\n  menubar: \"file edit view insert format tools table help\",\r\n  toolbar:\r\n    \"undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media template link anchor codesample | ltr rtl | table\",\r\n};\r\n","import { Editor as LibEditor, IAllProps } from \"@tinymce/tinymce-react\";\r\n\r\nimport { useResizeWindow } from \"../../hooks\";\r\nimport { EDITOR_INIT_OPTIONS } from \"./constants\";\r\n\r\nimport config from \"../../config.json\";\r\n\r\ninterface EditorProps extends IAllProps {}\r\n\r\nconst Editor = (props: EditorProps) => {\r\n  const { height } = useResizeWindow();\r\n\r\n  return (\r\n    <LibEditor\r\n      {...props}\r\n      apiKey={config.tinyApiKey}\r\n      init={{\r\n        height,\r\n        ...EDITOR_INIT_OPTIONS,\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Editor;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { FC, useCallback, useMemo } from \"react\";\r\nimport { notes } from \"../../../store\";\r\nimport { NotesFilter } from \"../types\";\r\nimport Editor from \"../../../components/editor\";\r\n\r\ninterface NotesContentProps {\r\n  filter: NotesFilter;\r\n}\r\n\r\nconst NotesContent: FC<NotesContentProps> = ({ filter: { active } }) => {\r\n  const { items } = notes;\r\n\r\n  const currentItem = useMemo(\r\n    () => items.find(({ id }) => id === active),\r\n    [active, items]\r\n  );\r\n\r\n  const onSaveContent = useCallback(\r\n    (event) => {\r\n      const { id, title } = currentItem!;\r\n      const content = event.target.getContent();\r\n\r\n      notes.updateNote(id, { content, title });\r\n    },\r\n    [currentItem]\r\n  );\r\n\r\n  if (!currentItem) {\r\n    return (\r\n      <div className=\"align-center\">\r\n        <h4>Note not selected</h4>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const { content = \"\" } = currentItem;\r\n\r\n  return (\r\n    <Editor\r\n      initialValue={content}\r\n      onSaveContent={onSaveContent}\r\n      onBlur={onSaveContent}\r\n    />\r\n  );\r\n};\r\n\r\nexport default observer(NotesContent);\r\n","import { observer } from \"mobx-react\";\r\nimport { FC, useCallback } from \"react\";\r\nimport { List, ListItem } from \"../../../components/todo-list\";\r\nimport { notes, user } from \"../../../store\";\r\nimport { NotesFilter } from \"../types\";\r\n\r\nimport TextImageIcon from \"@rsuite/icons/TextImage\";\r\n\r\ninterface NotesNavigationProps {\r\n  changeFilter: (newFilter: Partial<NotesFilter>) => void;\r\n  filter: NotesFilter;\r\n}\r\n\r\nconst NotesNavigation: FC<NotesNavigationProps> = ({\r\n  changeFilter,\r\n  filter: { active },\r\n}) => {\r\n  const onAddNote = useCallback((title: string) => {\r\n    notes.addNote({ title, userId: user.userId }).then((addedNote) => {\r\n      if (addedNote) {\r\n        changeFilter({ active: addedNote.id });\r\n      }\r\n    });\r\n\r\n    return true;\r\n  }, []);\r\n\r\n  const onActiveNote = useCallback(\r\n    (noteId: number) => () => changeFilter({ active: noteId }),\r\n    [changeFilter]\r\n  );\r\n\r\n  return (\r\n    <div className=\"screen-height\">\r\n      <List onAddItem={onAddNote} addPlaceholder=\"Add note\" className=\"p-10\">\r\n        {notes.items.map(({ title, id }) => (\r\n          <ListItem\r\n            key={id}\r\n            onClick={onActiveNote(id)}\r\n            active={id === active}\r\n            icon={<TextImageIcon />}\r\n          >\r\n            {title}\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default observer(NotesNavigation);\r\n","import { parse, stringify } from \"query-string\";\r\nimport { useCallback, useMemo } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router\";\r\nimport { NotesFilter } from \"../types\";\r\n\r\nconst useNotesFilter = (): [\r\n  NotesFilter,\r\n  (value: Partial<NotesFilter>) => void\r\n] => {\r\n  const { search } = useLocation();\r\n  const history = useHistory();\r\n\r\n  const filter = useMemo(() => {\r\n    const { active = 0 } = parse(search, { parseNumbers: true });\r\n\r\n    return {\r\n      active,\r\n    } as NotesFilter;\r\n  }, [search]);\r\n\r\n  const changeFilter = useCallback(\r\n    (newValue: Partial<NotesFilter>) =>\r\n      history.replace({ search: stringify({ ...filter, ...newValue }) }),\r\n    [filter, history]\r\n  );\r\n\r\n  return [filter, changeFilter];\r\n};\r\n\r\nexport default useNotesFilter;\r\n","import { observer } from \"mobx-react\";\r\nimport { useEffect } from \"react\";\r\nimport PageContent from \"../../../components/page-content\";\r\nimport { notes } from \"../../../store\";\r\nimport NotesContent from \"../components/NotesContent\";\r\nimport NotesNavigation from \"../components/NotesNavigation\";\r\nimport useNotesFilter from \"../utils/useNotesFilter\";\r\n\r\nconst Notes = () => {\r\n  const [filter, changeFilter] = useNotesFilter();\r\n\r\n  useEffect(() => {\r\n    if (notes.items.length) {\r\n      changeFilter({ active: notes.items[0].id });\r\n    }\r\n  }, [changeFilter]);\r\n\r\n  return (\r\n    <PageContent\r\n      navigation={\r\n        <NotesNavigation filter={filter} changeFilter={changeFilter} />\r\n      }\r\n    >\r\n      <NotesContent filter={filter} />\r\n    </PageContent>\r\n  );\r\n};\r\n\r\nexport default observer(Notes);\r\n","import { Switch, Route, Redirect } from \"react-router-dom\";\r\n\r\nimport { routes } from \"../helpers/router\";\r\n\r\nimport { Error404 } from \"./service\";\r\n\r\nimport { TodoList } from \"./todo-list\";\r\nimport { Notes } from \"./notes\";\r\n\r\nconst Routes = () => (\r\n  <Switch>\r\n    <Route\r\n      exact\r\n      path={routes.ROOT}\r\n      component={() => <Redirect to={routes.TODO_LIST} />}\r\n    />\r\n\r\n    <Route exact path={routes.LOGIN} component={() => <div>1</div>} />\r\n\r\n    <Route exact path={routes.REGISTRATION} component={() => <div>1</div>} />\r\n\r\n    <Route exact path={routes.TODO_LIST} component={TodoList} />\r\n\r\n    <Route exact path={routes.NOTES} component={Notes} />\r\n\r\n    <Route path=\"*\" component={Error404} />\r\n  </Switch>\r\n);\r\n\r\nexport default Routes;\r\n","import { FC } from \"react\";\nimport {\n  Container,\n  Nav,\n  Sidebar,\n  Sidenav,\n  CustomProvider,\n  FlexboxGrid,\n  IconButton,\n  IconButtonProps,\n  Avatar,\n  Dropdown,\n} from \"rsuite\";\nimport styled from \"styled-components\";\nimport { observer } from \"mobx-react-lite\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nimport TaskIcon from \"@rsuite/icons/Task\";\nimport ParagraphIcon from \"@rsuite/icons/Paragraph\";\nimport LogoIcon from \"@rsuite/icons/AppSelect\";\nimport CharacterLockIcon from \"@rsuite/icons/CharacterLock\";\nimport ArrowLeftIcon from \"@rsuite/icons/ArrowLeft\";\nimport ArrowRightIcon from \"@rsuite/icons/ArrowRight\";\n\nimport Routes from \"./pages\";\nimport { pageView, user } from \"./store\";\nimport { routes } from \"./helpers/router\";\n\nimport \"rsuite/dist/rsuite.min.css\";\nimport \"./styles.css\";\n\nconst LogoContainer = styled.div`\n  padding: 20px;\n\n  & svg {\n    width: 24px;\n    height: auto;\n  }\n\n  & svg[data-expanded=\"false\"] {\n    width: 20px;\n  }\n`;\n\nconst LogoTitle = styled.span`\n  font-size: 20px;\n  margin-left: 10px;\n  transition: display 1s linear;\n\n  &[data-expanded=\"false\"] {\n    display: none;\n  }\n`;\n\nconst StyledSidebar = styled(Sidebar)`\n  position: relative;\n  border-right: 1px solid var(--rs-divider-border);\n`;\n\nconst TogglerButton = styled(IconButton)`\n  position: absolute;\n  right: -12px;\n  bottom: 80px;\n  z-index: 10;\n`;\n\nconst UserAvatar = styled(Avatar)`\n  margin-right: 20px;\n  position: absolute;\n  left: 18px;\n  top: 15px;\n`;\n\nconst ExpandedToggler: FC<IconButtonProps & { expanded: boolean }> = ({\n  expanded,\n  onClick,\n}) => (\n  <TogglerButton\n    icon={expanded ? <ArrowLeftIcon /> : <ArrowRightIcon />}\n    size=\"xs\"\n    circle\n    onClick={onClick}\n    appearance=\"primary\"\n  />\n);\n\nconst App = () => {\n  const { pathname } = useLocation();\n\n  return (\n    <CustomProvider theme=\"dark\">\n      <Container>\n        <StyledSidebar\n          width={pageView.expandedSideBar ? 220 : 56}\n          collapsible\n          className=\"flex-column\"\n        >\n          <Sidenav.Header>\n            <LogoContainer>\n              <FlexboxGrid align=\"middle\">\n                <FlexboxGrid.Item>\n                  <LogoIcon data-expanded={pageView.expandedSideBar} />\n                </FlexboxGrid.Item>\n                <FlexboxGrid.Item>\n                  <LogoTitle data-expanded={pageView.expandedSideBar}>\n                    You manager\n                  </LogoTitle>\n                </FlexboxGrid.Item>\n              </FlexboxGrid>\n            </LogoContainer>\n          </Sidenav.Header>\n          <Sidenav\n            className=\"flex-column flex-auto\"\n            expanded={pageView.expandedSideBar}\n            appearance=\"subtle\"\n          >\n            <Sidenav.Body className=\"flex-column flex-auto\">\n              <Nav className=\"flex-auto\" activeKey={pathname}>\n                <Nav.Item\n                  eventKey={routes.TODO_LIST}\n                  icon={<TaskIcon />}\n                  as={Link}\n                  to={routes.TODO_LIST}\n                >\n                  Todo\n                </Nav.Item>\n\n                <Nav.Item\n                  eventKey={routes.NOTES}\n                  icon={<ParagraphIcon />}\n                  as={Link}\n                  to={routes.NOTES}\n                >\n                  Notes\n                </Nav.Item>\n\n                <Nav.Item\n                  eventKey={routes.PASSWORDS}\n                  icon={<CharacterLockIcon />}\n                  as={Link}\n                  to={routes.PASSWORDS}\n                >\n                  Passwords\n                </Nav.Item>\n              </Nav>\n              <Nav activeKey={pathname}>\n                <Dropdown\n                  placement=\"rightEnd\"\n                  activeKey={pathname}\n                  title={user.username}\n                  icon={\n                    <UserAvatar size=\"xs\">{user.usernameSymbols}</UserAvatar>\n                  }\n                >\n                  <Dropdown.Item>Profile</Dropdown.Item>\n                  <Dropdown.Item\n                    eventKey={routes.SETTINGS}\n                    as={Link}\n                    to={routes.SETTINGS}\n                  >\n                    Settings\n                  </Dropdown.Item>\n\n                  <Dropdown.Item divider />\n\n                  <Dropdown.Item\n                    eventKey={routes.SETTINGS}\n                    as={Link}\n                    to={routes.SETTINGS}\n                  >\n                    Change user\n                  </Dropdown.Item>\n                </Dropdown>\n              </Nav>\n            </Sidenav.Body>\n            <ExpandedToggler\n              expanded={pageView.expandedSideBar}\n              onClick={pageView.toggleExpanded}\n            />\n          </Sidenav>\n        </StyledSidebar>\n\n        <Container>\n          <Routes />\n        </Container>\n      </Container>\n    </CustomProvider>\n  );\n};\n\nexport default observer(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <HashRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}