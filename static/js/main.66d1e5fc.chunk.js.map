{"version":3,"sources":["enums/notes/index.ts","helpers/router/index.ts","pages/service/error404/index.tsx","components/page-content/index.tsx","store/user/constants.ts","store/user/index.ts","helpers/user/index.ts","models/index.ts","helpers/database/index.ts","helpers/mappers/index.ts","models/note/NoteModel.ts","enums/todo-list/index.ts","store/notes/index.ts","store/passwords/index.ts","models/todo/TodoIteModel.ts","models/todo/TodoGroupModel.ts","enums/page-view/index.ts","store/todo-list/index.ts","store/page-view/index.ts","models/user/UserModel.ts","store/index.ts","pages/todo-list/types.ts","icons/Star.tsx","components/context-menu/utils.ts","components/context-menu/index.tsx","components/list/styles.ts","components/list/AddListItem.tsx","components/list/List.tsx","components/list/ListItem.tsx","pages/todo-list/components/styles.ts","pages/todo-list/components/TodoGroupControl.tsx","types/todo-list/index.ts","components/editable-title/index.tsx","components/list/ItemIcon.tsx","components/textarea/index.tsx","pages/todo-list/components/DescriptionTextarea.tsx","pages/todo-list/components/RightSide.tsx","pages/todo-list/components/TodoListContent.tsx","pages/todo-list/views/main.tsx","pages/todo-list/utils/useTodoListFilter.ts","components/editor/constants.ts","components/editor/index.tsx","pages/notes/components/NotesContent.tsx","pages/notes/components/NotesNavigation.tsx","pages/notes/utils/useNotesFilter.ts","pages/notes/views/main.tsx","pages/index.tsx","appStyles.ts","icons/Moon.tsx","icons/Sun.tsx","icons/Language.tsx","App.tsx","index.tsx"],"names":["NoteType","routes","Error404","PageContent","navigation","children","Content","FlexboxGrid","className","Item","colspan","DEFAULT_USERNAME","UserStore","data","makeAutoObservable","this","Boolean","id","username","parsed","split","length","toUpperCase","slice","join","createUsernameSymbols","config","db","name","version","displayName","size","window","openDatabase","Error","sqlQuery","query","args","Promise","resolve","reject","transaction","tx","executeSql","result","error","createQueryHandler","modelInitRunner","model","a","MODEL_NAME","rows","init","mapSqlResultToArray","Array","from","fill","map","_","index","item","NoteModel","userId","priority","lastProps","noteId","resultItem","title","type","Date","getTime","insertId","selectById","content","lastUpdate","rowsAffected","TodoDefaultListGroup","NotesStore","rawItems","loadItems","todayItem","addNote","time","dateCreated","base","isToday","i18n","t","isYesterday","format","pageView","formatOptions","items","filter","sort","b","value","label","additional","find","reduce","acc","Object","assign","selectAllByUserId","note","add","addedNote","push","update","notesMap","findIndex","delete","updateNote","PasswordStore","TODO_DEFAULT_LIST_GROUP_VALUES","values","Number","isInteger","TodoItemModel","description","state","groupId","steps","orderIndex","JSON","stringify","itemId","rest","parse","TodoGroupModel","getById","removeByGroupId","Language","Theme","TodoListStore","groups","loadData","itemsGroupMap","concat","All","Priority","Today","dateCreate","itemsMapForGroups","selectAllForUserId","group","addedGroup","removeById","addedItem","updatedItem","PageViewStore","expandedSideBar","language","Ru","theme","Dark","currentUserId","toggleExpanded","changeTheme","newTheme","changeLanguage","lang","savedSettingsJson","localStorage","getItem","addEventListener","setItem","savedSettings","key","locale","ru","enUS","UserModel","password","privateKey","settings","then","initial","user","notes","todoList","use","initReactI18next","resources","EnUS","translation","lng","fallbackLng","interpolation","escapeValue","reaction","selectUserById","loadedUser","ItemsFilter","Star","filled","restProps","stroke","strokeWidth","viewBox","height","width","xmlns","d","handlerBuilder","handler","event","target","parentElement","dataset","uid","ContextMenu","Dropdown","Menu","icon","onClick","Container","styled","div","ListTitle","TodoListElement","List","LIST_ITEM_STYLE","css","ListItem","AddItemContainer","ItemIcon","ItemContent","AddListItem","onAddItem","placeholder","useState","focused","setFocused","setValue","onRemoveFocused","useCallback","onPressEnterHandler","isShowInput","align","justify","Input","autoFocus","onChange","onPressEnter","onBlur","TodoList","addPlaceholder","emptyPlaceholder","empty","TodoListItem","postfix","active","contextMenuId","contextMenuUId","NavContainer","ListTasksContainer","TopListTasksContainer","StyledTodoList","CountItemsContainer","StyledListItem","StyledContent","Title","h3","ListContainer","StepsState","observer","activeKey","changeActiveGroup","useTranslation","onAddGroup","addGroup","onDeleteGroup","removeGroup","contextMenuItems","useMemo","countItemsInGroup","Divider","TodoState","span","EditableTitle","onSave","onSaveHandler","useEffect","val","StyledSvg","svg","Empty","Success","FilledSuccess","TodoIcon","InProgress","hovered","Done","Textarea","style","props","ref","useRef","autosize","current","as","resize","DescriptionTextarea","onEdit","currentValue","setCurrentValue","ScrollContainer","TitleContainer","RightSide","selectedId","onClose","onChangeState","todoMap","lastChanged","onUpdateTitle","updateItem","onAddStep","onRemoveStep","stepId","onEditStepTitle","newSteps","onEditStepState","isDone","IconButton","appearance","formatDistance","includeSeconds","removeItem","changeFilter","setSelectedId","itemsMap","onCloseRightSide","center","right","addItem","todoId","newState","onRemoveItem","onChangeItemsFilter","onSaveTitle","console","log","currentGroup","disabledRemove","includes","readOnly","ButtonToolbar","ButtonGroup","Button","placement","renderToggle","disabled","stopPropagation","newValue","completedCount","search","useLocation","history","useHistory","String","replace","useTodoListFilter","EDITOR_INIT_OPTIONS","autoresize_top_margin","autoresize_on_init","plugins","menubar","toolbar","reloading","setReloading","isDarkTheme","smallLanguage","setTimeout","apiKey","tinyApiKey","skin","undefined","content_css","EditorContainer","currentItem","onSaveContent","getContent","onDeleteItem","deleteNote","onChangePriority","changePriority","initialValue","StyledList","sortedItems","timeItems","onAddNote","onActiveNote","onDeleteNote","onChangeItem","SelectPicker","cleanable","useNotesFilter","parseNumbers","Routes","exact","path","component","to","Notes","LogoContainer","LogoTitle","StyledSidebar","Sidebar","UserAvatar","Avatar","UserTitle","p","Moon","focusable","Sun","pathname","onSelectOption","Light","ruRU","CustomProvider","collapsible","Sidenav","Header","expanded","Body","Nav","eventKey","Link","onSelect","usernameSymbols","divider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.66d1e5fc.chunk.js","sourcesContent":["export enum NoteType {\r\n  base,\r\n  time,\r\n}\r\n","export const routes = {\r\n  ROOT: \"/\",\r\n  LOGIN: \"/login\",\r\n  REGISTRATION: \"/registration\",\r\n  TODO_LIST: \"/todo-list\",\r\n  NOTES: \"/notes\",\r\n  PASSWORDS: \"/passwords\",\r\n  SETTINGS: \"/settings\",\r\n  CHANGE_USER: '/change-user'\r\n};\r\n","const Error404 = () => (\r\n  <div>\r\n    <h2>Error 404!</h2>\r\n    <h5>Page not found!</h5>\r\n  </div>\r\n);\r\n\r\nexport default Error404;\r\n","import { FC, ReactNode } from \"react\";\r\nimport { Content, FlexboxGrid } from \"rsuite\";\r\n\r\ninterface PageContentProps {\r\n  navigation?: ReactNode;\r\n  children: ReactNode;\r\n}\r\n\r\nconst PageContent: FC<PageContentProps> = ({ navigation, children }) => (\r\n  <Content>\r\n    {navigation ? (\r\n      <FlexboxGrid className=\"full-height\">\r\n        <FlexboxGrid.Item className=\"full-height b-right\" colspan={4}>\r\n          {navigation}\r\n        </FlexboxGrid.Item>\r\n        <FlexboxGrid.Item colspan={20} className=\"full-height\">{children}</FlexboxGrid.Item>\r\n      </FlexboxGrid>\r\n    ) : (\r\n      children\r\n    )}\r\n  </Content>\r\n);\r\n\r\nexport default PageContent;\r\n","export const DEFAULT_USER_ID = 1;\r\n\r\nexport const DEFAULT_USERNAME = \"Yerzhan\";\r\n","import { makeAutoObservable } from \"mobx\";\r\n\r\nimport { createUsernameSymbols } from \"../../helpers/user\";\r\nimport { User } from \"../../types/user\";\r\nimport { DEFAULT_USERNAME, DEFAULT_USER_ID } from \"./constants\";\r\n\r\nclass UserStore {\r\n  public data: User | null = null;\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  public get authorized(): boolean {\r\n    return Boolean(this.data);\r\n  }\r\n\r\n  public get userId() {\r\n    return this.data?.id || DEFAULT_USER_ID;\r\n  }\r\n\r\n  public get usernameSymbols() {\r\n    return createUsernameSymbols(this.username);\r\n  }\r\n\r\n  public get username() {\r\n    return this.data?.username || DEFAULT_USERNAME;\r\n  }\r\n}\r\n\r\nexport default UserStore;\r\n","export const createUsernameSymbols = (username: string) => {\r\n  const parsed = username.split(\" \");\r\n\r\n  if (parsed.length === 1) {\r\n    return (username[0] + username[1]).toUpperCase();\r\n  }\r\n\r\n  return parsed.slice(0, 2).join(\"\").toUpperCase();\r\n};\r\n","import config from \"../config.json\";\r\nimport { createQueryHandler } from \"../helpers/database\";\r\nimport { SQLQueryResult } from \"../types/database\";\r\n\r\nconst {\r\n  db: { name, version, displayName, size },\r\n} = config;\r\n\r\nconst db = window.openDatabase(name, version, displayName, size);\r\n\r\nif (db === null) {\r\n  throw Error(\"Database not connected!\");\r\n}\r\n\r\nconst sqlQuery = createQueryHandler(db);\r\n\r\nconst modelInitRunner = async (model: {\r\n  MODEL_NAME: string;\r\n  init: () => Promise<SQLQueryResult>;\r\n}) => {\r\n  const {\r\n    result: { rows },\r\n  } = await sqlQuery(\r\n    `SELECT * FROM sqlite_master WHERE type='table' AND name=?`,\r\n    [model.MODEL_NAME]\r\n  );\r\n\r\n  if (!rows.length) {\r\n    await model.init();\r\n\r\n    return Promise.resolve(true);\r\n  }\r\n\r\n  return Promise.resolve(false);\r\n};\r\n\r\nexport { db, sqlQuery, modelInitRunner };\r\n","import { SQLQueryResult } from \"../../types/database\";\r\n\r\nexport const createQueryHandler =\r\n  (db: Database) =>\r\n  (query: string, args: ObjectArray = []) =>\r\n    new Promise<SQLQueryResult>((resolve, reject) =>\r\n      db.transaction((tx) =>\r\n        tx.executeSql(\r\n          query,\r\n          args,\r\n          (tx, result) => resolve({ tx, result }),\r\n          (tx, error) => {\r\n            reject({ tx, error });\r\n\r\n            return true;\r\n          }\r\n        )\r\n      )\r\n    );\r\n","export const mapSqlResultToArray = ({ rows }: SQLResultSet) =>\r\n  Array.from({ length: rows.length })\r\n    .fill(0)\r\n    .map((_, index) => rows.item(index));\r\n","import { modelInitRunner, sqlQuery } from \"..\";\r\nimport { mapSqlResultToArray } from \"../../helpers/mappers\";\r\nimport { Note } from \"../../types/notes\";\r\n\r\nclass NoteModel {\r\n  public static MODEL_NAME = \"note_model\";\r\n\r\n  public static init() {\r\n    return sqlQuery(\r\n      `CREATE TABLE ${this.MODEL_NAME} (\r\n            id INTEGER PRIMARY KEY, \r\n            title TEXT,\r\n            userId INTEGER,\r\n            content TEXT,\r\n            type INTEGER,\r\n            priority BOOL,\r\n            dateCreated REAL,\r\n            lastUpdate REAL\r\n        )`\r\n    );\r\n  }\r\n\r\n  public static async selectAllByUserId(userId: number) {\r\n    const { result } = await sqlQuery(\r\n      `SELECT * FROM ${this.MODEL_NAME} WHERE userId = ?`,\r\n      [userId]\r\n    );\r\n\r\n    return mapSqlResultToArray(result).map(({ priority, ...lastProps }) => ({\r\n      priority: priority === \"true\",\r\n      ...lastProps,\r\n    }));\r\n  }\r\n\r\n  public static async selectById(noteId: number) {\r\n    const { result } = await sqlQuery(\r\n      `SELECT * FROM ${this.MODEL_NAME} WHERE id = ?`,\r\n      [noteId]\r\n    );\r\n\r\n    if (!result.rows.length) {\r\n      return null;\r\n    }\r\n\r\n    const resultItem = result.rows.item(0);\r\n\r\n    return { ...resultItem, priority: resultItem.priority === \"true\" };\r\n  }\r\n\r\n  public static async add({\r\n    title,\r\n    userId,\r\n    type,\r\n  }: Pick<Note, \"title\" | \"userId\" | \"type\">) {\r\n    const { result } = await sqlQuery(\r\n      `INSERT INTO ${this.MODEL_NAME} (title, content, userId, dateCreated, priority, type) values(?, ?, ?, ?, ?, ?)`,\r\n      [title, \"\", userId, new Date().getTime(), false, type]\r\n    );\r\n\r\n    if (!result.insertId) {\r\n      return null;\r\n    }\r\n\r\n    return NoteModel.selectById(result.insertId);\r\n  }\r\n\r\n  public static async update(\r\n    noteId: number,\r\n    {\r\n      content,\r\n      title,\r\n      lastUpdate = new Date().getTime(),\r\n      priority = false,\r\n    }: Partial<Omit<Note, \"id\" | \"userId\" | \"dateCreated\">>\r\n  ) {\r\n    const { result } = await sqlQuery(\r\n      `UPDATE ${this.MODEL_NAME} SET title = ?, content = ?, lastUpdate = ?, priority = ? WHERE id = ?`,\r\n      [title, content, lastUpdate, priority, noteId]\r\n    );\r\n\r\n    if (!result.rowsAffected) {\r\n      return null;\r\n    }\r\n\r\n    return NoteModel.selectById(noteId);\r\n  }\r\n\r\n  public static async delete(noteId: number) {\r\n    const { result } = await sqlQuery(\r\n      `DELETE FROM ${this.MODEL_NAME} WHERE id = ?`,\r\n      [noteId]\r\n    );\r\n\r\n    return result.rowsAffected > 0;\r\n  }\r\n}\r\n\r\nmodelInitRunner(NoteModel);\r\n\r\nexport default NoteModel;\r\n","export enum TodoDefaultListGroup {\r\n  All = -1,\r\n  Today = -2,\r\n  Priority = -3,\r\n}\r\n\r\nexport const TODO_DEFAULT_LIST_GROUP_VALUES = Object.values(\r\n  TodoDefaultListGroup\r\n).filter(Number.isInteger);\r\n","import { format, isToday, isYesterday } from \"date-fns\";\r\nimport { makeAutoObservable } from \"mobx\";\r\nimport { i18n, pageView } from \"..\";\r\nimport { NoteType } from \"../../enums/notes\";\r\nimport NoteModel from \"../../models/note/NoteModel\";\r\nimport { Note } from \"../../types/notes\";\r\n\r\nclass NotesStore {\r\n  public rawItems: Note[] = [];\r\n\r\n  constructor(userId: number) {\r\n    makeAutoObservable(this);\r\n\r\n    this.init(userId);\r\n  }\r\n\r\n  private async init(userId: number) {\r\n    await this.loadItems(userId);\r\n\r\n    if (this.todayItem) {\r\n      return;\r\n    }\r\n\r\n    this.addNote({ userId, title: null, type: NoteType.time });\r\n  }\r\n\r\n  public get items(): Note[] {\r\n    return this.rawItems.map((item) => {\r\n      const { type, dateCreated } = item;\r\n\r\n      switch (type) {\r\n        case NoteType.base:\r\n          return item;\r\n\r\n        case NoteType.time:\r\n          const title = isToday(dateCreated)\r\n            ? i18n.t(\"Today\")\r\n            : isYesterday(dateCreated)\r\n            ? i18n.t(\"Yesterday\")\r\n            : format(dateCreated, \"dd.MM.yyyy\", pageView.formatOptions);\r\n\r\n          return { ...item, title };\r\n\r\n        default:\r\n          return item;\r\n      }\r\n    });\r\n  }\r\n\r\n  public get sortedItems() {\r\n    return [...this.items]\r\n      .filter(({ type }) => type !== NoteType.time)\r\n      .sort((a, b) => (!a.priority && b.priority ? 1 : -1));\r\n  }\r\n\r\n  public get timeItems() {\r\n    return [...this.items]\r\n      .filter(({ type }) => type === NoteType.time)\r\n      .map(({ id, title, ...additional }) => ({\r\n        value: id,\r\n        label: title,\r\n        additional,\r\n      }));\r\n  }\r\n\r\n  public get todayItem(): Note | null {\r\n    const item = this.rawItems.find(\r\n      ({ dateCreated, type }) => isToday(dateCreated) && type === NoteType.time\r\n    );\r\n\r\n    return item || null;\r\n  }\r\n\r\n  public get notesMap(): Record<number, Note> {\r\n    return this.items.reduce(\r\n      (acc, item) => Object.assign(acc, { [item.id]: item }),\r\n      {}\r\n    );\r\n  }\r\n\r\n  public async loadItems(userId: number) {\r\n    this.rawItems = await NoteModel.selectAllByUserId(userId);\r\n  }\r\n\r\n  public async addNote(note: Pick<Note, \"title\" | \"userId\" | \"type\">) {\r\n    const addedNote = await NoteModel.add(note);\r\n\r\n    if (addedNote) {\r\n      this.rawItems.push(addedNote);\r\n    }\r\n\r\n    return addedNote;\r\n  }\r\n\r\n  public async updateNote(\r\n    noteId: number,\r\n    note: Partial<Omit<Note, \"id\" | \"userId\" | \"dateCreated\">>\r\n  ) {\r\n    const item = await NoteModel.update(\r\n      noteId,\r\n      Object.assign(this.notesMap[noteId], note)\r\n    );\r\n\r\n    if (item) {\r\n      const index = this.rawItems.findIndex(({ id }) => id === noteId);\r\n\r\n      this.rawItems[index] = item;\r\n    }\r\n  }\r\n\r\n  public async deleteNote(noteId: number) {\r\n    const isDeleted = await NoteModel.delete(noteId);\r\n\r\n    if (isDeleted) {\r\n      this.rawItems = this.rawItems.filter(({ id }) => id !== noteId);\r\n    }\r\n  }\r\n\r\n  public async changePriority(noteId: number) {\r\n    this.updateNote(noteId, { priority: !this.notesMap[noteId].priority });\r\n  }\r\n}\r\n\r\nexport default NotesStore;\r\n","import { makeAutoObservable } from \"mobx\";\r\n\r\nclass PasswordStore {\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n  }\r\n}\r\n\r\nexport default PasswordStore;\r\n","import { modelInitRunner, sqlQuery } from \"..\";\r\nimport { mapSqlResultToArray } from \"../../helpers/mappers\";\r\nimport { TodoItem } from \"../../types/todo-list\";\r\n\r\nclass TodoItemModel {\r\n  public static MODEL_NAME = \"todo_item_model\";\r\n\r\n  public static init() {\r\n    return sqlQuery(\r\n      `CREATE TABLE ${this.MODEL_NAME} (\r\n          id INTEGER PRIMARY KEY, \r\n          title TEXT, \r\n          description TEXT, \r\n          state INTEGER,\r\n          type INTEGER,\r\n          groupId INTEGER, \r\n          userId INTEGER, \r\n          orderIndex INTEGER, \r\n          steps TEXT, \r\n          dateCreate REAL, \r\n          priority BOOL, \r\n          lastChanged REAL\r\n        )`\r\n    );\r\n  }\r\n\r\n  public static async add({\r\n    title,\r\n    description,\r\n    state,\r\n    type,\r\n    groupId,\r\n    userId,\r\n    steps,\r\n    orderIndex,\r\n  }: Omit<TodoItem, \"id\" | \"lastChanged\" | \"dateCreate\" | \"priority\">) {\r\n    const { result } = await sqlQuery(\r\n      `INSERT INTO ${this.MODEL_NAME} (title, description, state, type, groupId, userId, orderIndex, steps, dateCreate, priority) values(?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`,\r\n      [\r\n        title,\r\n        description,\r\n        state,\r\n        type,\r\n        groupId,\r\n        userId,\r\n        orderIndex,\r\n        JSON.stringify(steps),\r\n        new Date().getTime(),\r\n        false,\r\n      ]\r\n    );\r\n\r\n    if (result.insertId) {\r\n      return TodoItemModel.selectById(result.insertId);\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  public static async selectById(itemId: number) {\r\n    const { result } = await sqlQuery(\r\n      `SELECT * FROM ${this.MODEL_NAME} WHERE id = ?`,\r\n      [itemId]\r\n    );\r\n\r\n    if (!result.rows.length) {\r\n      return null;\r\n    }\r\n\r\n    const { steps, priority, ...rest } = result.rows.item(0);\r\n\r\n    return { steps: JSON.parse(steps), priority: priority === \"true\", ...rest };\r\n  }\r\n\r\n  public static async selectAllForUserId(userId: number): Promise<TodoItem[]> {\r\n    const { result } = await sqlQuery(\r\n      `SELECT * FROM ${this.MODEL_NAME} WHERE userId = ?`,\r\n      [userId]\r\n    );\r\n\r\n    return mapSqlResultToArray(result).map(\r\n      ({ steps = \"[]\", priority, ...rest }) => ({\r\n        steps: JSON.parse(steps),\r\n        priority: priority === \"true\",\r\n        ...rest,\r\n      })\r\n    );\r\n  }\r\n\r\n  public static async update({\r\n    id,\r\n    steps,\r\n    title,\r\n    description,\r\n    state,\r\n    type,\r\n    groupId,\r\n    userId,\r\n    orderIndex,\r\n    priority,\r\n  }: TodoItem) {\r\n    const { result } = await sqlQuery(\r\n      `UPDATE ${this.MODEL_NAME} SET title = ?, description = ?, state = ?, type = ?, groupId = ?, userId = ?, orderIndex = ?, steps = ?, priority = ?, lastChanged = ? WHERE id = ?`,\r\n      [\r\n        title,\r\n        description,\r\n        state,\r\n        type,\r\n        groupId,\r\n        userId,\r\n        orderIndex,\r\n        JSON.stringify(steps),\r\n        priority,\r\n        new Date().getTime(),\r\n        id,\r\n      ]\r\n    );\r\n\r\n    if (result.rowsAffected === 1) {\r\n      return TodoItemModel.selectById(id);\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  public static async removeByGroupId(groupId: number): Promise<boolean> {\r\n    await sqlQuery(`DELETE FROM ${this.MODEL_NAME} WHERE groupId = ?`, [\r\n      groupId,\r\n    ]);\r\n\r\n    return true;\r\n  }\r\n\r\n  public static async removeById(id: number) {\r\n    const { result } = await sqlQuery(\r\n      `DELETE FROM ${this.MODEL_NAME} WHERE id = ?`,\r\n      [id]\r\n    );\r\n\r\n    return result.rowsAffected > 0;\r\n  }\r\n}\r\n\r\nmodelInitRunner(TodoItemModel);\r\n\r\nexport default TodoItemModel;\r\n","import { modelInitRunner, sqlQuery } from \"..\";\r\nimport { mapSqlResultToArray } from \"../../helpers/mappers\";\r\nimport { TodoGroup } from \"../../types/todo-list\";\r\nimport TodoItemModel from \"./TodoIteModel\";\r\n\r\nclass TodoGroupModel {\r\n  public static MODEL_NAME = \"todo_group_model\";\r\n\r\n  public static init() {\r\n    return sqlQuery(\r\n      `CREATE TABLE ${this.MODEL_NAME} (\r\n          id INTEGER PRIMARY KEY, \r\n          title TEXT,\r\n          orderIndex INTEGER,\r\n          userId INTEGER\r\n        )`\r\n    );\r\n  }\r\n\r\n  public static async getById(groupId: number) {\r\n    const { result } = await sqlQuery(\r\n      `SELECT * FROM ${this.MODEL_NAME} WHERE id = ?`,\r\n      [groupId]\r\n    );\r\n\r\n    if (result.rows.length) {\r\n      return result.rows.item(0);\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  public static async add({\r\n    title,\r\n    orderIndex,\r\n    userId,\r\n  }: Partial<Omit<TodoGroup, \"id\">>) {\r\n    const { result } = await sqlQuery(\r\n      `INSERT INTO ${this.MODEL_NAME} (title, orderIndex, userId) values(?, ?, ?)`,\r\n      [title, orderIndex, userId]\r\n    );\r\n\r\n    if (result.insertId) {\r\n      return await TodoGroupModel.getById(result.insertId);\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  public static async selectAllForUserId(userId: number): Promise<TodoGroup[]> {\r\n    const { result } = await sqlQuery(\r\n      `SELECT * FROM ${this.MODEL_NAME} WHERE userId = ?`,\r\n      [userId]\r\n    );\r\n\r\n    return mapSqlResultToArray(result);\r\n  }\r\n\r\n  public static async removeById(groupId: number): Promise<boolean> {\r\n    const { result } = await sqlQuery(\r\n      `DELETE FROM ${this.MODEL_NAME} WHERE id = ?`,\r\n      [groupId]\r\n    );\r\n\r\n    return (\r\n      result.rowsAffected === 1 &&\r\n      (await TodoItemModel.removeByGroupId(groupId))\r\n    );\r\n  }\r\n}\r\n\r\nmodelInitRunner(TodoGroupModel);\r\n\r\nexport default TodoGroupModel;\r\n","export enum Language {\r\n  Ru = \"ru_RU\",\r\n  EnUS = \"en_EN\",\r\n}\r\n\r\nexport enum Theme {\r\n  Light = \"light\",\r\n  Dark = \"dark\",\r\n}\r\n","import { isToday } from \"date-fns\";\r\nimport { makeAutoObservable } from \"mobx\";\r\nimport { TodoDefaultListGroup } from \"../../enums/todo-list\";\r\nimport TodoGroupModel from \"../../models/todo/TodoGroupModel\";\r\nimport TodoItemModel from \"../../models/todo/TodoIteModel\";\r\nimport { TodoGroup, TodoItem } from \"../../types/todo-list\";\r\n\r\ninterface ItemsMap {\r\n  [key: string | number]: TodoItem[];\r\n}\r\n\r\nclass TodoListStore {\r\n  public groups: TodoGroup[] = [];\r\n  public items: TodoItem[] = [];\r\n\r\n  constructor(userId: number) {\r\n    makeAutoObservable(this);\r\n\r\n    this.loadData(userId);\r\n  }\r\n\r\n  public get todoMap(): Record<number, TodoItem> {\r\n    return this.items.reduce(\r\n      (acc, item) => Object.assign(acc, { [item.id]: item }),\r\n      {}\r\n    );\r\n  }\r\n\r\n  public get itemsMapForGroups(): ItemsMap {\r\n    const itemsGroupMap = this.items.reduce(\r\n      (acc, item) =>\r\n        Object.assign(acc, {\r\n          [item.groupId]: (acc[item.groupId] || []).concat(item),\r\n        }),\r\n      {} as ItemsMap\r\n    );\r\n\r\n    return {\r\n      ...itemsGroupMap,\r\n      [TodoDefaultListGroup.All]: this.items,\r\n      [TodoDefaultListGroup.Priority]: this.items.filter(\r\n        ({ priority }) => priority\r\n      ),\r\n      [TodoDefaultListGroup.Today]: this.items.filter(({ dateCreate }) =>\r\n        isToday(dateCreate)\r\n      ),\r\n    };\r\n  }\r\n\r\n  public countItemsInGroup(groupId: number | TodoDefaultListGroup) {\r\n    return this.itemsMapForGroups[groupId]?.length || 0;\r\n  }\r\n\r\n  public async loadData(userId: number) {\r\n    this.groups = await TodoGroupModel.selectAllForUserId(userId);\r\n    this.items = await TodoItemModel.selectAllForUserId(userId);\r\n  }\r\n\r\n  public async addGroup(group: Partial<Omit<TodoGroup, \"id\">>) {\r\n    const addedGroup = await TodoGroupModel.add(group);\r\n\r\n    this.groups.push(addedGroup);\r\n  }\r\n\r\n  public async removeGroup(groupId: number) {\r\n    const removeSuccess = await TodoGroupModel.removeById(groupId);\r\n\r\n    if (removeSuccess) {\r\n      this.groups = this.groups.filter(({ id }) => id !== groupId);\r\n      this.items = this.items.filter(\r\n        ({ groupId: _groupId }) => _groupId !== groupId\r\n      );\r\n    }\r\n  }\r\n\r\n  public async removeItem(itemId: number) {\r\n    const removeSuccess = await TodoItemModel.removeById(itemId);\r\n\r\n    if (removeSuccess) {\r\n      this.items = this.items.filter(({ id }) => id !== itemId);\r\n    }\r\n  }\r\n\r\n  public async addItem(\r\n    item: Omit<TodoItem, \"id\" | \"lastChanged\" | \"dateCreate\" | \"priority\">\r\n  ) {\r\n    const addedItem = await TodoItemModel.add(item);\r\n\r\n    this.items.push(addedItem);\r\n\r\n    return addedItem;\r\n  }\r\n\r\n  public async updateItem(id: number, value: Partial<TodoItem>) {\r\n    const index = this.items.findIndex(({ id: _id }) => _id === id)!;\r\n    const updatedItem = await TodoItemModel.update({\r\n      ...this.items[index],\r\n      ...value,\r\n    });\r\n\r\n    this.items[index] = updatedItem;\r\n  }\r\n}\r\n\r\nexport default TodoListStore;\r\n","import { ru, enUS } from \"date-fns/locale\";\r\nimport { makeAutoObservable } from \"mobx\";\r\nimport { Language, Theme } from \"../../enums/page-view\";\r\nimport { DEFAULT_USER_ID } from \"../user/constants\";\r\n\r\nclass PageViewStore {\r\n  public expandedSideBar = false;\r\n  public language = Language.Ru;\r\n  public theme = Theme.Dark;\r\n  public currentUserId = DEFAULT_USER_ID;\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n\r\n    const savedSettingsJson = localStorage.getItem(\"page-settings\");\r\n\r\n    window.addEventListener(\"unload\", () => {\r\n      localStorage.setItem(\"page-settings\", JSON.stringify(this));\r\n    });\r\n\r\n    if (savedSettingsJson === null) {\r\n      return;\r\n    }\r\n\r\n    const savedSettings = JSON.parse(savedSettingsJson);\r\n\r\n    for (const key in savedSettings) {\r\n      if (key in this) {\r\n        (this as any)[key] = savedSettings[key];\r\n      }\r\n    }\r\n  }\r\n\r\n  public get isDarkTheme() {\r\n    return this.theme === Theme.Dark;\r\n  }\r\n\r\n  public get smallLanguage(): string {\r\n    return this.language.split(\"_\")[0];\r\n  }\r\n\r\n  public get formatOptions() {\r\n    return {\r\n      locale: this.language === Language.Ru ? ru : enUS,\r\n    };\r\n  }\r\n\r\n  public toggleExpanded = () => {\r\n    this.expandedSideBar = !this.expandedSideBar;\r\n  };\r\n\r\n  public changeTheme = (newTheme: Theme) => {\r\n    this.theme = newTheme;\r\n  };\r\n\r\n  public changeLanguage = (lang: Language) => {\r\n    this.language = lang;\r\n  };\r\n}\r\n\r\nexport default PageViewStore;\r\n","import { modelInitRunner, sqlQuery } from \"..\";\r\nimport { DEFAULT_USERNAME } from \"../../store/user/constants\";\r\nimport { SQLQueryResult } from \"../../types/database\";\r\nimport { User, UserFull } from \"../../types/user\";\r\n\r\nclass UserModel {\r\n  public static MODEL_NAME = \"user\";\r\n\r\n  public static init(): Promise<SQLQueryResult> {\r\n    return sqlQuery(\r\n      `CREATE TABLE ${this.MODEL_NAME} (id INTEGER PRIMARY KEY, username TEXT, settings TEXT, password TEXT, privateKey TEXT, lastLogin REAL)`\r\n    );\r\n  }\r\n\r\n  public static add({\r\n    username = DEFAULT_USERNAME,\r\n    password = null,\r\n    privateKey = null,\r\n    settings = \"{}\",\r\n  }: Partial<Omit<UserFull, \"id\">>) {\r\n    return sqlQuery(\r\n      `INSERT INTO ${this.MODEL_NAME} (username, settings, password, privateKey) values(?, ?, ?, ?)`,\r\n      [username, settings, password, privateKey]\r\n    );\r\n  }\r\n\r\n  public static async selectUserById(userId: number): Promise<User> {\r\n    const { result } = await sqlQuery(\r\n      \"SELECT id, username, settings, lastLogin FROM ? WHERE id = ?\",\r\n      [this.MODEL_NAME, userId]\r\n    );\r\n\r\n    return result.rows.item(0);\r\n  }\r\n}\r\n\r\nmodelInitRunner(UserModel).then((initial) => {\r\n  if (initial) {\r\n    UserModel.add({});\r\n  }\r\n});\r\n\r\nexport default UserModel;\r\n","import i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\n\r\nimport UserStore from \"./user\";\r\nimport NotesStore from \"./notes\";\r\nimport PasswordStore from \"./passwords\";\r\nimport TodoListStore from \"./todo-list\";\r\nimport PageViewStore from \"./page-view\";\r\nimport { reaction } from \"mobx\";\r\nimport UserModel from \"../models/user/UserModel\";\r\nimport { Language } from \"../enums/page-view\";\r\nimport ru from \"../glossary/ru.json\";\r\nimport enUS from \"../glossary/enUS.json\";\r\n\r\nexport const pageView = new PageViewStore();\r\nexport const user = new UserStore();\r\nexport const notes = new NotesStore(pageView.currentUserId);\r\nexport const passwords = new PasswordStore();\r\nexport const todoList = new TodoListStore(pageView.currentUserId);\r\n\r\ni18n.use(initReactI18next).init({\r\n  resources: {\r\n    [Language.EnUS]: {\r\n      translation: enUS,\r\n    },\r\n    [Language.Ru]: {\r\n      translation: ru,\r\n    },\r\n  },\r\n  lng: pageView.language,\r\n  fallbackLng: Language.EnUS,\r\n  interpolation: {\r\n    escapeValue: false,\r\n  },\r\n});\r\n\r\nreaction(\r\n  () => pageView.currentUserId,\r\n  async (userId) => {\r\n    const loadedUser = await UserModel.selectUserById(userId);\r\n\r\n    todoList.loadData(userId);\r\n\r\n    user.data = loadedUser;\r\n  }\r\n);\r\n\r\nreaction(\r\n  () => pageView.language,\r\n  (lang) => i18n.changeLanguage(lang)\r\n);\r\n\r\nexport { i18n };\r\n","import { TodoDefaultListGroup } from \"../../enums/todo-list\";\r\n\r\nexport enum ItemsFilter {\r\n  All,\r\n  Done,\r\n  InProgress,\r\n}\r\n\r\nexport interface TodoListFilter {\r\n  group: string | number | TodoDefaultListGroup;\r\n  filter: ItemsFilter;\r\n}\r\n","import { FC } from \"react\";\r\n\r\ninterface StarProps extends React.SVGProps<SVGSVGElement> {\r\n  filled?: boolean;\r\n}\r\n\r\nconst Star: FC<StarProps> = ({ filled, ...restProps }) => (\r\n  <svg\r\n    stroke=\"currentColor\"\r\n    fill=\"currentColor\"\r\n    strokeWidth=\"0\"\r\n    viewBox=\"0 0 24 24\"\r\n    height=\"1em\"\r\n    width=\"1em\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    {...restProps}\r\n  >\r\n    <g>\r\n      <path fill=\"none\" d=\"M0 0h24v24H0z\"></path>\r\n      {filled ? (\r\n        <path d=\"M12 17l-5.878 3.59 1.598-6.7-5.23-4.48 6.865-.55L12 2.5l2.645 6.36 6.866.55-5.231 4.48 1.598 6.7z\"></path>\r\n      ) : (\r\n        <path d=\"M12 18.26l-7.053 3.948 1.575-7.928L.587 8.792l8.027-.952L12 .5l3.386 7.34 8.027.952-5.935 5.488 1.575 7.928L12 18.26zm0-2.292l4.247 2.377-.949-4.773 3.573-3.305-4.833-.573L12 5.275l-2.038 4.42-4.833.572 3.573 3.305-.949 4.773L12 15.968z\"></path>\r\n      )}\r\n    </g>\r\n  </svg>\r\n);\r\n\r\nexport default Star;\r\n","import { ContextMenuItemHandler } from \"./types\";\r\n\r\nexport const handlerBuilder =\r\n  (handler: ContextMenuItemHandler) =>\r\n  (\r\n    event: React.TouchEvent<HTMLDivElement> | React.MouseEvent<HTMLDivElement>,\r\n    data: Object,\r\n    target: HTMLElement\r\n  ) =>\r\n    handler(target.parentElement?.dataset?.uid as string, event, data, target);\r\n","import { FC } from \"react\";\r\nimport { Dropdown } from \"rsuite\";\r\nimport { ContextMenu as ContextMenuLib, MenuItem } from \"react-contextmenu\";\r\n\r\nimport { ContextMenuItem } from \"./types\";\r\nimport { handlerBuilder } from \"./utils\";\r\n\r\ninterface ContextMenuProps {\r\n  items: ContextMenuItem[];\r\n  id: string;\r\n}\r\n\r\nconst ContextMenu: FC<ContextMenuProps> = ({ id, items }) => (\r\n  <ContextMenuLib id={id}>\r\n    <Dropdown.Menu>\r\n      {items.map(({ handler, label, icon, className }, index) => (\r\n        <MenuItem onClick={handlerBuilder(handler)} key={index}>\r\n          <Dropdown.Item icon={icon} className={className}>\r\n            {label}\r\n          </Dropdown.Item>\r\n        </MenuItem>\r\n      ))}\r\n    </Dropdown.Menu>\r\n  </ContextMenuLib>\r\n);\r\n\r\nexport default ContextMenu;\r\n","import { List } from \"rsuite\";\r\nimport styled, { css } from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  max-height: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nexport const ListTitle = styled.div`\r\n  height: 56px;\r\n  padding: 10px;\r\n  border-bottom: 1px solid var(--rs-divider-border);\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nexport const TodoListElement = styled(List)`\r\n  box-shadow: none;\r\n  height: 100%;\r\n\r\n  &[data-added=\"true\"][data-title=\"true\"] {\r\n    height: calc(100% - 112px);\r\n  }\r\n\r\n  &[data-added=\"true\"],\r\n  &[data-title=\"true\"] {\r\n    height: calc(100% - 56px);\r\n  }\r\n`;\r\n\r\nconst LIST_ITEM_STYLE = css`\r\n  border-radius: 4px;\r\n  background: var(--ym-list-bg);\r\n\r\n  & svg {\r\n    display: flex;\r\n    height: 16px;\r\n    width: auto;\r\n  }\r\n\r\n  &:hover {\r\n    background: var(--ym-list-bg-hover);\r\n  }\r\n`;\r\n\r\nexport const ListItem = styled(List.Item)`\r\n  ${LIST_ITEM_STYLE}\r\n  box-shadow: none;\r\n  cursor: pointer;\r\n  padding: 0px;\r\n\r\n  & > div {\r\n    padding: 10px 14px;\r\n  }\r\n\r\n  &:not(:last-child) {\r\n    margin-bottom: 5px;\r\n  }\r\n\r\n  & > div .content {\r\n    font-size: 15px;\r\n    word-break: break-all;\r\n  }\r\n\r\n  &[data-active=\"true\"] {\r\n    background: var(--ym-list-bg-active);\r\n    color: var(--rs-primary-700);\r\n    font-weight: bold;\r\n  }\r\n`;\r\n\r\nexport const AddItemContainer = styled.div`\r\n  ${LIST_ITEM_STYLE}\r\n  margin-top: 8px;\r\n  cursor: text;\r\n  padding: 10px 14px;\r\n\r\n  & p {\r\n    font-size: 14px;\r\n    margin: 3px 0px;\r\n    display: inline-block;\r\n    padding-left: 12px;\r\n  }\r\n\r\n  & input {\r\n    background: transparent;\r\n  }\r\n\r\n  & input,\r\n  input:focus {\r\n    border: none;\r\n    box-shadow: none;\r\n  }\r\n\r\n  & > div > div:first-child {\r\n    width: 20px;\r\n    text-align: center;\r\n  }\r\n\r\n  & > div > div:last-child {\r\n    width: calc(100% - 20px);\r\n  }\r\n`;\r\n\r\nexport const ItemIcon = styled.div`\r\n  width: 30px;\r\n`;\r\n\r\nexport const ItemContent = styled.div`\r\n  width: calc(100% - 30px);\r\n`;\r\n","import { FC, useCallback, useState } from \"react\";\r\nimport { FlexboxGrid, Input } from \"rsuite\";\r\n\r\nimport { AddItemContainer } from \"./styles\";\r\n\r\nimport PlusIcon from \"@rsuite/icons/Plus\";\r\nimport AddOutlineIcon from \"@rsuite/icons/AddOutline\";\r\n\r\ninterface AddListItemProps {\r\n  onAddItem: (title: string) => boolean;\r\n  placeholder?: string;\r\n}\r\n\r\nconst AddListItem: FC<AddListItemProps> = ({\r\n  onAddItem,\r\n  placeholder = \"Add task\",\r\n}) => {\r\n  const [focused, setFocused] = useState(false);\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const onRemoveFocused = useCallback(() => setFocused(false), [setFocused]);\r\n\r\n  const onPressEnterHandler = useCallback(\r\n    (event) => {\r\n      if (onAddItem(value)) {\r\n        setValue(\"\");\r\n      }\r\n    },\r\n    [onAddItem, value]\r\n  );\r\n\r\n  const isShowInput = Boolean(value || focused);\r\n\r\n  return (\r\n    <AddItemContainer\r\n      onClick={() => setFocused(true)}\r\n      data-focused={focused}\r\n      className=\"add-control\"\r\n    >\r\n      <FlexboxGrid align=\"middle\" justify=\"space-between\">\r\n        <FlexboxGrid.Item>\r\n          {isShowInput ? <AddOutlineIcon /> : <PlusIcon />}\r\n        </FlexboxGrid.Item>\r\n        <FlexboxGrid.Item>\r\n          {isShowInput ? (\r\n            <Input\r\n              size=\"sm\"\r\n              autoFocus\r\n              value={value}\r\n              onChange={(value) => setValue(value as string)}\r\n              onPressEnter={onPressEnterHandler}\r\n              placeholder=\"Typing todo title...\"\r\n              onBlur={onRemoveFocused}\r\n            />\r\n          ) : (\r\n            <p>{placeholder}</p>\r\n          )}\r\n        </FlexboxGrid.Item>\r\n      </FlexboxGrid>\r\n    </AddItemContainer>\r\n  );\r\n};\r\n\r\nexport default AddListItem;\r\n","import React, { FC } from \"react\";\r\nimport { ListProps } from \"rsuite\";\r\nimport AddListItem from \"./AddListItem\";\r\nimport { Container, TodoListElement, ListTitle } from \"./styles\";\r\n\r\ninterface TodoListProps extends ListProps {\r\n  children: React.ReactNode;\r\n  onAddItem?: (title: string) => boolean;\r\n  addPlaceholder?: string;\r\n  title?: React.ReactNode;\r\n  emptyPlaceholder?: React.ReactNode;\r\n  empty?: boolean;\r\n}\r\n\r\nconst TodoList: FC<TodoListProps> = ({\r\n  children,\r\n  onAddItem,\r\n  addPlaceholder,\r\n  title,\r\n  emptyPlaceholder = \"List is empty\",\r\n  empty = false,\r\n  ...restProps\r\n}) => (\r\n  <Container>\r\n    {title && <ListTitle>{title}</ListTitle>}\r\n    <TodoListElement\r\n      {...restProps}\r\n      data-added={Boolean(onAddItem)}\r\n      data-title={Boolean(title)}\r\n    >\r\n      {empty ? (\r\n        <h6 className=\"flex-center full-height\">{emptyPlaceholder}</h6>\r\n      ) : (\r\n        children\r\n      )}\r\n    </TodoListElement>\r\n    {onAddItem && (\r\n      <AddListItem onAddItem={onAddItem} placeholder={addPlaceholder} />\r\n    )}\r\n  </Container>\r\n);\r\n\r\nexport default TodoList;\r\n","import React, { FC } from \"react\";\r\nimport { FlexboxGrid, ListItemProps } from \"rsuite\";\r\nimport { ItemContent, ItemIcon, ListItem } from \"./styles\";\r\nimport { ContextMenuTrigger } from \"react-contextmenu\";\r\n\r\ninterface TodoListItemProps extends ListItemProps {\r\n  icon?: React.ReactNode;\r\n  postfix?: React.ReactNode;\r\n  active?: boolean;\r\n  contextMenuId?: string;\r\n  contextMenuUId?: string | number;\r\n}\r\n\r\nconst TodoListItem: FC<TodoListItemProps> = ({\r\n  children,\r\n  icon,\r\n  postfix,\r\n  active = false,\r\n  contextMenuId,\r\n  contextMenuUId,\r\n  ...restProps\r\n}) => {\r\n  const content = (\r\n    <FlexboxGrid align=\"middle\" justify=\"space-between\">\r\n      <FlexboxGrid.Item\r\n        className=\"content flex-block flex-align-center\"\r\n        colspan={22}\r\n      >\r\n        <ItemIcon>{icon}</ItemIcon>\r\n        <ItemContent>{children}</ItemContent>\r\n      </FlexboxGrid.Item>\r\n      <FlexboxGrid.Item className=\"align-right\" colspan={2}>\r\n        {postfix}\r\n      </FlexboxGrid.Item>\r\n    </FlexboxGrid>\r\n  );\r\n\r\n  return (\r\n    <ListItem {...restProps} data-active={active} data-uid={contextMenuUId}>\r\n      {contextMenuId ? (\r\n        <ContextMenuTrigger id={contextMenuId}>{content}</ContextMenuTrigger>\r\n      ) : (\r\n        <div>{content}</div>\r\n      )}\r\n    </ListItem>\r\n  );\r\n};\r\n\r\nexport default TodoListItem;\r\n","import { Content } from \"rsuite\";\r\nimport styled from \"styled-components\";\r\n\r\nimport {\r\n  List as TodoList,\r\n  ListItem as TodoListItem,\r\n} from \"../../../components/list\";\r\n\r\nexport const NavContainer = styled.div`\r\n  height: 100vh;\r\n  width: 100%;\r\n  border-right: 1px solid var(--rs-divider-border);\r\n`;\r\n\r\nexport const ListTasksContainer = styled.div`\r\n  height: calc(100vh - 145px);\r\n`;\r\n\r\nexport const TopListTasksContainer = styled.div`\r\n  height: 145px;\r\n`;\r\n\r\nexport const StyledTodoList = styled(TodoList)`\r\n  & + .add-control {\r\n    border-radius: 0;\r\n    background: transparent;\r\n    border-top: 1px solid var(--rs-divider-border);\r\n  }\r\n`;\r\n\r\nexport const CountItemsContainer = styled.div`\r\n  color: var(--rs-gray-500);\r\n  font-size: 13px;\r\n`;\r\n\r\nexport const StyledListItem = styled(TodoListItem)`\r\n  background: transparent;\r\n  margin: 5px;\r\n\r\n  svg {\r\n    height: 16px;\r\n    width: auto;\r\n  }\r\n`;\r\n\r\nexport const StyledContent = styled(Content)`\r\n  height: 100vh;\r\n  padding: 20px 30px;\r\n`;\r\n\r\nexport const Title = styled.h3`\r\n  input {\r\n    color: var(--rs-sidenav-subtle-selected-text) !important;\r\n  }\r\n`;\r\n\r\nexport const ListContainer = styled.div`\r\n  border-radius: 20px;\r\n  margin-top: 20px;\r\n  height: calc(100vh - 100px);\r\n`;\r\n\r\nexport const StepsState = styled.div`\r\n  font-size: 10px;\r\n  color: var(--rs-btn-subtle-text);\r\n`;\r\n","import { FC, useCallback, useMemo } from \"react\";\r\nimport { Divider } from \"rsuite\";\r\nimport { observer } from \"mobx-react\";\r\n\r\nimport TimeIcon from \"@rsuite/icons/Time\";\r\nimport TrashIcon from \"@rsuite/icons/Trash\";\r\nimport AttachmentIcon from \"@rsuite/icons/Attachment\";\r\nimport ListIcon from \"@rsuite/icons/List\";\r\n\r\nimport { todoList, user } from \"../../../store\";\r\nimport { TodoDefaultListGroup } from \"../../../enums/todo-list\";\r\nimport Star from \"../../../icons/Star\";\r\n\r\nimport ContextMenu from \"../../../components/context-menu\";\r\nimport {\r\n  NavContainer,\r\n  ListTasksContainer,\r\n  TopListTasksContainer,\r\n  StyledTodoList,\r\n  CountItemsContainer,\r\n  StyledListItem,\r\n} from \"./styles\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\ninterface TodoGroupControlProps {\r\n  activeKey: string | number;\r\n  changeActiveGroup: (activeGroupId: number | TodoDefaultListGroup) => void;\r\n}\r\n\r\nconst TodoGroupControl: FC<TodoGroupControlProps> = ({\r\n  activeKey,\r\n  changeActiveGroup,\r\n}) => {\r\n  const { groups } = todoList;\r\n  const { t } = useTranslation();\r\n\r\n  const onAddGroup = useCallback(\r\n    (title: string) => {\r\n      todoList.addGroup({\r\n        title,\r\n        orderIndex: groups.length + 1,\r\n        userId: user.userId,\r\n      });\r\n\r\n      return true;\r\n    },\r\n    [groups]\r\n  );\r\n\r\n  const onDeleteGroup = useCallback((groupId) => {\r\n    todoList.removeGroup(Number(groupId));\r\n  }, []);\r\n\r\n  const contextMenuItems = useMemo(\r\n    () => [\r\n      {\r\n        label: t(\"Delete group\"),\r\n        handler: onDeleteGroup,\r\n        className: \"delete-button\",\r\n        icon: <TrashIcon />,\r\n      },\r\n    ],\r\n    [onDeleteGroup, t]\r\n  );\r\n\r\n  return (\r\n    <NavContainer>\r\n      <ContextMenu id=\"group-context\" items={contextMenuItems} />\r\n      <TopListTasksContainer>\r\n        <StyledTodoList>\r\n          <StyledListItem\r\n            icon={<ListIcon />}\r\n            postfix={\r\n              <CountItemsContainer>\r\n                {todoList.countItemsInGroup(TodoDefaultListGroup.All) || \"\"}\r\n              </CountItemsContainer>\r\n            }\r\n            active={TodoDefaultListGroup.All === activeKey}\r\n            onClick={() => changeActiveGroup(TodoDefaultListGroup.All)}\r\n          >\r\n            {t(\"All\")}\r\n          </StyledListItem>\r\n\r\n          <StyledListItem\r\n            icon={<TimeIcon />}\r\n            postfix={\r\n              <CountItemsContainer>\r\n                {todoList.countItemsInGroup(TodoDefaultListGroup.Today) || \"\"}\r\n              </CountItemsContainer>\r\n            }\r\n            active={TodoDefaultListGroup.Today === activeKey}\r\n            onClick={() => changeActiveGroup(TodoDefaultListGroup.Today)}\r\n          >\r\n            {t(\"Today\")}\r\n          </StyledListItem>\r\n\r\n          <StyledListItem\r\n            icon={<Star />}\r\n            postfix={\r\n              <CountItemsContainer>\r\n                {todoList.countItemsInGroup(TodoDefaultListGroup.Priority) ||\r\n                  \"\"}\r\n              </CountItemsContainer>\r\n            }\r\n            active={TodoDefaultListGroup.Priority === activeKey}\r\n            onClick={() => changeActiveGroup(TodoDefaultListGroup.Priority)}\r\n          >\r\n            {t(\"Priority\")}\r\n          </StyledListItem>\r\n        </StyledTodoList>\r\n      </TopListTasksContainer>\r\n\r\n      <Divider className=\"reset-margin\" />\r\n\r\n      <ListTasksContainer>\r\n        <StyledTodoList\r\n          onAddItem={onAddGroup}\r\n          addPlaceholder={t(\"Add task group\")}\r\n          emptyPlaceholder={`${t(\"No task groups\")} [+]`}\r\n          empty={!groups.length}\r\n        >\r\n          {groups.map(({ id, title }) => (\r\n            <StyledListItem\r\n              contextMenuId=\"group-context\"\r\n              contextMenuUId={id}\r\n              icon={<AttachmentIcon />}\r\n              active={activeKey === id}\r\n              key={id}\r\n              postfix={\r\n                <CountItemsContainer>\r\n                  {todoList.countItemsInGroup(id) || \"\"}\r\n                </CountItemsContainer>\r\n              }\r\n              onClick={() => changeActiveGroup(id)}\r\n            >\r\n              {title}\r\n            </StyledListItem>\r\n          ))}\r\n        </StyledTodoList>\r\n      </ListTasksContainer>\r\n    </NavContainer>\r\n  );\r\n};\r\n\r\nexport default observer(TodoGroupControl);\r\n","export interface TodoGroup {\r\n  id: number;\r\n  title: string;\r\n  orderIndex: number;\r\n  userId: number;\r\n}\r\n\r\nexport enum TodoState {\r\n  InProgress,\r\n  Done,\r\n}\r\n\r\nexport interface TodoStep {\r\n  id: number;\r\n  title: string;\r\n  priority: boolean;\r\n  state: TodoState;\r\n}\r\n\r\nexport interface TodoItem {\r\n  id: number;\r\n  title: string;\r\n  description: string;\r\n  state: TodoState;\r\n  type: number; // ???\r\n  groupId: number;\r\n  userId: number;\r\n  orderIndex: number | null;\r\n  steps: TodoStep[];\r\n  dateCreate: number;\r\n  priority: boolean;\r\n  lastChanged: number | null;\r\n}\r\n","import { FC, useCallback, useEffect, useState } from \"react\";\r\nimport { Input, InputProps } from \"rsuite\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.span`\r\n  input,\r\n  input:focus {\r\n    padding: 0;\r\n    box-shadow: none;\r\n    border: none;\r\n    background: transparent;\r\n    font-size: inherit;\r\n  }\r\n`;\r\n\r\ninterface EditableTitleProps extends InputProps {\r\n  onSave: (title: string) => void;\r\n  children: string;\r\n}\r\n\r\nconst EditableTitle: FC<EditableTitleProps> = ({\r\n  children,\r\n  onSave,\r\n  ...restProps\r\n}) => {\r\n  const [value, setValue] = useState(children);\r\n\r\n  const onSaveHandler = useCallback(() => onSave(value), [onSave, value]);\r\n\r\n  useEffect(() => {\r\n    setValue(children);\r\n  }, [children]);\r\n\r\n  return (\r\n    <Container className=\"full-width\">\r\n      <Input\r\n        {...restProps}\r\n        value={value}\r\n        onChange={(val) => setValue(val as string)}\r\n        onBlur={onSaveHandler}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default EditableTitle;\r\n","import { FC } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { TodoState } from \"../../types/todo-list\";\r\n\r\nconst StyledSvg = styled.svg`\r\n  & .success {\r\n    visibility: hidden;\r\n  }\r\n\r\n  &[data-hovered=\"true\"]:hover .success,\r\n  &[data-show=\"true\"] .success {\r\n    visibility: visible;\r\n  }\r\n`;\r\n\r\nconst Container = styled.span`\r\n  display: flex;\r\n\r\n  & > svg {\r\n    min-height: 20px;\r\n    width: auto;\r\n    display: none;\r\n  }\r\n\r\n  .empty {\r\n    display: flex;\r\n  }\r\n\r\n  &:hover .empty {\r\n    display: none;\r\n  }\r\n\r\n  &:hover .success {\r\n    display: flex;\r\n  }\r\n\r\n  &[data-done=\"true\"] {\r\n    .empty,\r\n    .success {\r\n      display: none;\r\n    }\r\n\r\n    .filled-success {\r\n      display: flex;\r\n    }\r\n  }\r\n`;\r\n\r\ninterface TodoIconProps {\r\n  state?: TodoState;\r\n  hovered?: boolean;\r\n}\r\n\r\nconst Empty = () => (\r\n  <StyledSvg\r\n    stroke=\"currentColor\"\r\n    fill=\"currentColor\"\r\n    strokeWidth=\"0\"\r\n    viewBox=\"0 0 24 24\"\r\n    height=\"1em\"\r\n    width=\"1em\"\r\n    className=\"empty\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"></path>\r\n  </StyledSvg>\r\n);\r\n\r\nconst Success = () => (\r\n  <StyledSvg\r\n    stroke=\"currentColor\"\r\n    fill=\"currentColor\"\r\n    strokeWidth=\"0\"\r\n    viewBox=\"0 0 24 24\"\r\n    height=\"1em\"\r\n    width=\"1em\"\r\n    className=\"success\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z\"></path>\r\n  </StyledSvg>\r\n);\r\n\r\nconst FilledSuccess = () => (\r\n  <StyledSvg\r\n    stroke=\"currentColor\"\r\n    fill=\"currentColor\"\r\n    strokeWidth=\"0\"\r\n    viewBox=\"0 0 24 24\"\r\n    height=\"1em\"\r\n    width=\"1em\"\r\n    className=\"filled-success\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"></path>\r\n  </StyledSvg>\r\n);\r\n\r\nconst TodoIcon: FC<TodoIconProps> = ({\r\n  state = TodoState.InProgress,\r\n  hovered,\r\n}) => {\r\n  return (\r\n    <Container data-done={state === TodoState.Done} data-hovered={hovered}>\r\n      <Empty />\r\n      <Success />\r\n      <FilledSuccess />\r\n    </Container>\r\n  );\r\n};\r\nexport default TodoIcon;\r\n","import { FC, useEffect, useRef } from \"react\";\r\nimport { Input, InputProps } from \"rsuite\";\r\nimport autosize from \"autosize\";\r\n\r\ninterface TextareaProps extends InputProps {}\r\n\r\nconst Textarea: FC<TextareaProps> = ({ style, ...props }) => {\r\n  const ref = useRef<any>(null);\r\n\r\n  useEffect(() => {\r\n    autosize(ref.current);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    autosize.update(ref.current);\r\n  }, [props.value]);\r\n\r\n  return (\r\n    <Input\r\n      {...props}\r\n      as=\"textarea\"\r\n      ref={ref}\r\n      style={{ resize: \"none\", ...style }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Textarea;\r\n","import { FC, useEffect, useState } from \"react\";\r\nimport { InputProps } from \"rsuite\";\r\nimport Textarea from \"../../../components/textarea\";\r\n\r\ninterface DescriptionTextareaProps extends InputProps {\r\n  value: string;\r\n  onEdit: (value: string) => void;\r\n}\r\n\r\nconst DescriptionTextarea: FC<DescriptionTextareaProps> = ({\r\n  value,\r\n  onEdit,\r\n  ...rest\r\n}) => {\r\n  const [currentValue, setCurrentValue] = useState(value);\r\n\r\n  useEffect(() => {\r\n    setCurrentValue(value);\r\n  }, [value]);\r\n\r\n  return (\r\n    <Textarea\r\n      value={currentValue}\r\n      onChange={(value) => setCurrentValue(value as string)}\r\n      onBlur={() => onEdit(currentValue)}\r\n      {...rest}\r\n    />\r\n  );\r\n};\r\n\r\nexport default DescriptionTextarea;\r\n","import { FC, useCallback, useMemo } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport EditableTitle from \"../../../components/editable-title\";\r\nimport Star from \"../../../icons/Star\";\r\nimport { pageView, todoList } from \"../../../store\";\r\nimport TodoIcon from \"../../../components/list/ItemIcon\";\r\nimport { List, ListItem } from \"../../../components/list\";\r\nimport { TodoState } from \"../../../types/todo-list\";\r\nimport CloseIcon from \"@rsuite/icons/Close\";\r\nimport { FlexboxGrid, IconButton } from \"rsuite\";\r\nimport ArrowRightIcon from \"@rsuite/icons/ArrowRight\";\r\nimport TrashIcon from \"@rsuite/icons/Trash\";\r\nimport { formatDistance } from \"date-fns\";\r\nimport DescriptionTextarea from \"./DescriptionTextarea\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst Container = styled.div`\r\n  height: 100vh;\r\n  border-left: 1px solid var(--rs-divider-border);\r\n`;\r\n\r\nconst ScrollContainer = styled.div`\r\n  height: calc(100vh - 56px);\r\n  overflow-y: auto;\r\n  padding: 15px;\r\n`;\r\n\r\nconst TitleContainer = styled.div`\r\n  margin-bottom: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  & h4 {\r\n    flex: auto;\r\n    font-weight: normal;\r\n    margin-left: 15px;\r\n  }\r\n\r\n  & svg {\r\n    height: 22px;\r\n    width: auto;\r\n  }\r\n\r\n  & span {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst ListContainer = styled.div`\r\n  height: fit-content;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\ninterface RightSideProps {\r\n  selectedId: number;\r\n  onClose: () => void;\r\n  onChangeState: (id: number, state: TodoState) => void;\r\n}\r\n\r\nconst RightSide: FC<RightSideProps> = ({\r\n  selectedId,\r\n  onClose,\r\n  onChangeState,\r\n}) => {\r\n  const { todoMap } = todoList;\r\n\r\n  const currentItem = useMemo(\r\n    () => (selectedId ? todoMap[selectedId] : null),\r\n    [selectedId, todoMap]\r\n  );\r\n\r\n  const { title, state, priority, steps, lastChanged, description } =\r\n    currentItem!;\r\n  const { t } = useTranslation();\r\n\r\n  const onUpdateTitle = useCallback(\r\n    (title) => {\r\n      todoList.updateItem(selectedId, { title });\r\n    },\r\n    [selectedId]\r\n  );\r\n\r\n  const onAddStep = useCallback(\r\n    (title) => {\r\n      todoList.updateItem(selectedId, {\r\n        steps: steps.concat({\r\n          id: steps.length + 1,\r\n          priority: false,\r\n          title,\r\n          state: TodoState.InProgress,\r\n        }),\r\n      });\r\n\r\n      return true;\r\n    },\r\n    [selectedId, steps]\r\n  );\r\n\r\n  const onRemoveStep = useCallback(\r\n    (stepId: number) => {\r\n      todoList.updateItem(selectedId, {\r\n        steps: steps.filter(({ id }) => id !== stepId),\r\n      });\r\n    },\r\n    [selectedId, steps]\r\n  );\r\n\r\n  const onEditStepTitle = useCallback(\r\n    (stepId) => (title: string) => {\r\n      const index = steps.findIndex(({ id }) => id === stepId);\r\n      const newSteps = [...steps];\r\n\r\n      if (newSteps[index].title === title) {\r\n        return;\r\n      }\r\n\r\n      newSteps[index].title = title;\r\n\r\n      todoList.updateItem(selectedId, {\r\n        steps: newSteps,\r\n      });\r\n    },\r\n    [steps, selectedId]\r\n  );\r\n\r\n  const onEditStepState = useCallback(\r\n    (stepId) => () => {\r\n      const index = steps.findIndex(({ id }) => id === stepId);\r\n      const newSteps = [...steps];\r\n      const state =\r\n        newSteps[index].state === TodoState.Done\r\n          ? TodoState.InProgress\r\n          : TodoState.Done;\r\n\r\n      if (newSteps[index].state === state) {\r\n        return;\r\n      }\r\n\r\n      newSteps[index].state = state;\r\n\r\n      todoList.updateItem(selectedId, {\r\n        steps: newSteps,\r\n      });\r\n    },\r\n    [selectedId, steps]\r\n  );\r\n\r\n  const isDone = state === TodoState.Done;\r\n\r\n  return (\r\n    <Container>\r\n      <ScrollContainer>\r\n        <TitleContainer>\r\n          <span\r\n            className=\"hover-icon flex-block\"\r\n            onClick={() =>\r\n              onChangeState(\r\n                selectedId,\r\n                isDone ? TodoState.InProgress : TodoState.Done\r\n              )\r\n            }\r\n          >\r\n            <TodoIcon state={state} hovered />\r\n          </span>\r\n          <h4>\r\n            <EditableTitle onSave={onUpdateTitle}>{title}</EditableTitle>\r\n          </h4>\r\n          <span\r\n            className=\"hover-icon flex-block\"\r\n            onClick={() =>\r\n              todoList.updateItem(selectedId, { priority: !priority })\r\n            }\r\n          >\r\n            <Star filled={priority} />\r\n          </span>\r\n        </TitleContainer>\r\n\r\n        <ListContainer>\r\n          <List addPlaceholder={t(\"Add step\")} onAddItem={onAddStep}>\r\n            {steps.map(({ id, title, state }) => (\r\n              <ListItem\r\n                key={id}\r\n                icon={\r\n                  <span\r\n                    className=\"hover-icon\"\r\n                    title={\r\n                      state === TodoState.InProgress\r\n                        ? t(\"Mark as done\")\r\n                        : t(\"Move back to in progress\")\r\n                    }\r\n                    onClick={onEditStepState(id)}\r\n                  >\r\n                    <TodoIcon state={state} hovered />\r\n                  </span>\r\n                }\r\n                postfix={\r\n                  <span\r\n                    title={t(\"Remove step\")}\r\n                    className=\"hover-icon centered-span\"\r\n                    onClick={() => onRemoveStep(id)}\r\n                  >\r\n                    <CloseIcon className=\"icon-14\" />\r\n                  </span>\r\n                }\r\n              >\r\n                <EditableTitle onSave={onEditStepTitle(id)}>\r\n                  {title}\r\n                </EditableTitle>\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        </ListContainer>\r\n\r\n        <DescriptionTextarea\r\n          placeholder={t(\"Add notes\")}\r\n          onEdit={(description) =>\r\n            todoList.updateItem(selectedId, { description })\r\n          }\r\n          value={description}\r\n        />\r\n      </ScrollContainer>\r\n\r\n      <FlexboxGrid\r\n        className=\"full-width p-10 b-top\"\r\n        align=\"middle\"\r\n        justify=\"space-between\"\r\n      >\r\n        <FlexboxGrid.Item>\r\n          <IconButton\r\n            icon={<ArrowRightIcon />}\r\n            appearance=\"subtle\"\r\n            onClick={onClose}\r\n            title={t(\"Close frame\")}\r\n          />\r\n        </FlexboxGrid.Item>\r\n        <FlexboxGrid.Item className=\"align-center\">\r\n          {lastChanged\r\n            ? `${t(\"last changed\")} ${formatDistance(lastChanged!, new Date(), {\r\n                includeSeconds: true,\r\n                ...pageView.formatOptions,\r\n              })} ${t(\"ago\")}`\r\n            : t(\"Not updated\")}\r\n        </FlexboxGrid.Item>\r\n        <FlexboxGrid.Item>\r\n          <IconButton\r\n            onClick={() => {\r\n              onClose();\r\n              todoList.removeItem(selectedId);\r\n            }}\r\n            className=\"delete-button\"\r\n            icon={<TrashIcon />}\r\n            appearance=\"subtle\"\r\n            title={t(\"Delete task\")}\r\n          />\r\n        </FlexboxGrid.Item>\r\n      </FlexboxGrid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default RightSide;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { FC, useCallback, useMemo, useState } from \"react\";\r\nimport {\r\n  Button,\r\n  ButtonGroup,\r\n  ButtonToolbar,\r\n  Container,\r\n  Dropdown,\r\n  FlexboxGrid,\r\n  IconButton,\r\n} from \"rsuite\";\r\n// import Picker from \"emoji-picker-react\";\r\nimport { ItemsFilter, TodoListFilter } from \"../types\";\r\nimport RightSide from \"./RightSide\";\r\n\r\nimport MoreIcon from \"@rsuite/icons/More\";\r\nimport {\r\n  List as TodoList,\r\n  ListItem as TodoListItem,\r\n} from \"../../../components/list\";\r\nimport TodoIcon from \"../../../components/list/ItemIcon\";\r\nimport { TodoState } from \"../../../types/todo-list\";\r\nimport Star from \"../../../icons/Star\";\r\nimport { ChangeTodoFilterHandler } from \"../utils/useTodoListFilter\";\r\nimport ContextMenu from \"../../../components/context-menu\";\r\nimport { pageView, todoList } from \"../../../store\";\r\n\r\nimport { StyledContent, Title, ListContainer, StepsState } from \"./styles\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport {\r\n  TodoDefaultListGroup,\r\n  TODO_DEFAULT_LIST_GROUP_VALUES,\r\n} from \"../../../enums/todo-list\";\r\nimport EditableTitle from \"../../../components/editable-title\";\r\n\r\ninterface TodoListContentProps {\r\n  filter: TodoListFilter;\r\n  changeFilter: ChangeTodoFilterHandler;\r\n}\r\n\r\nconst TodoListContent: FC<TodoListContentProps> = ({\r\n  filter: { group, filter },\r\n  changeFilter,\r\n}) => {\r\n  const [selectedId, setSelectedId] = useState<number | null>(null);\r\n\r\n  const { itemsMapForGroups, groups } = todoList;\r\n  const { t } = useTranslation();\r\n\r\n  const itemsMap = useMemo(() => {\r\n    const items = itemsMapForGroups[group] || [];\r\n\r\n    return {\r\n      [ItemsFilter.Done]: items.filter(({ state }) => state === TodoState.Done),\r\n      [ItemsFilter.InProgress]: items.filter(\r\n        ({ state }) => state === TodoState.InProgress\r\n      ),\r\n      [ItemsFilter.All]: items,\r\n    };\r\n  }, [itemsMapForGroups, group]);\r\n\r\n  const onCloseRightSide = useCallback(\r\n    () => setSelectedId(null),\r\n    [setSelectedId]\r\n  );\r\n\r\n  const [center, right] = useMemo(\r\n    () => (selectedId ? [16, 8] : [24, 0]),\r\n    [selectedId]\r\n  );\r\n\r\n  const onAddItem = useCallback(\r\n    (title: string) => {\r\n      todoList\r\n        .addItem({\r\n          groupId: group as number,\r\n          description: \"\",\r\n          orderIndex: null,\r\n          state: TodoState.InProgress,\r\n          steps: [],\r\n          title,\r\n          type: 0,\r\n          userId: pageView.currentUserId,\r\n        })\r\n        .then(({ id }) => setSelectedId(id));\r\n\r\n      return true;\r\n    },\r\n    [group]\r\n  );\r\n\r\n  const onChangeState = useCallback((todoId: number, newState: TodoState) => {\r\n    todoList.updateItem(todoId, { state: newState });\r\n  }, []);\r\n\r\n  const onRemoveItem = useCallback(\r\n    (key) => {\r\n      onCloseRightSide();\r\n      todoList.removeItem(Number(key));\r\n    },\r\n    [onCloseRightSide]\r\n  );\r\n\r\n  const onChangeItemsFilter = useCallback(\r\n    (value) => () => changeFilter({ filter: value }),\r\n    [changeFilter]\r\n  );\r\n\r\n  const contextMenuItems = useMemo(\r\n    () => [\r\n      {\r\n        label: t(\"Delete task\"),\r\n        handler: onRemoveItem,\r\n        className: \"delete-button\",\r\n      },\r\n    ],\r\n    [onRemoveItem, t]\r\n  );\r\n\r\n  const onSaveTitle = useCallback((title) => console.log(title), []);\r\n\r\n  const onDeleteGroup = useCallback(() => {\r\n    onCloseRightSide();\r\n    todoList\r\n      .removeGroup(group as number)\r\n      .then(() => changeFilter({ group: TodoDefaultListGroup.All }));\r\n  }, [group, changeFilter, onCloseRightSide]);\r\n\r\n  const currentGroup = useMemo(\r\n    () => groups.find(({ id }) => id === group),\r\n    [group, groups]\r\n  );\r\n\r\n  const title = useMemo<string>(() => {\r\n    switch (group) {\r\n      case TodoDefaultListGroup.All:\r\n        return t(\"All\");\r\n      case TodoDefaultListGroup.Priority:\r\n        return t(\"Priority\");\r\n      case TodoDefaultListGroup.Today:\r\n        return t(\"Today\");\r\n\r\n      default:\r\n        return currentGroup?.title || \"\";\r\n    }\r\n  }, [currentGroup, group, t]);\r\n\r\n  const disabledRemove = useMemo(\r\n    () => TODO_DEFAULT_LIST_GROUP_VALUES.includes(group),\r\n    [group]\r\n  );\r\n\r\n  return (\r\n    <Container>\r\n      <ContextMenu items={contextMenuItems} id=\"todo-list-context\" />\r\n      <FlexboxGrid>\r\n        <FlexboxGrid.Item colspan={center}>\r\n          <StyledContent>\r\n            <FlexboxGrid align=\"middle\" justify=\"space-between\">\r\n              <FlexboxGrid.Item>\r\n                <Title>\r\n                  <EditableTitle onSave={onSaveTitle} readOnly={group < 0}>\r\n                    {title}\r\n                  </EditableTitle>\r\n                </Title>\r\n              </FlexboxGrid.Item>\r\n              <FlexboxGrid.Item>\r\n                <ButtonToolbar>\r\n                  <ButtonGroup size=\"sm\">\r\n                    <Button\r\n                      active={filter === ItemsFilter.All}\r\n                      onClick={onChangeItemsFilter(ItemsFilter.All)}\r\n                      appearance=\"subtle\"\r\n                    >\r\n                      {t(\"All\")} ({itemsMap[ItemsFilter.All].length})\r\n                    </Button>\r\n                    <Button\r\n                      active={filter === ItemsFilter.Done}\r\n                      onClick={onChangeItemsFilter(ItemsFilter.Done)}\r\n                      appearance=\"subtle\"\r\n                    >\r\n                      {t(\"Done\")} ({itemsMap[ItemsFilter.Done].length})\r\n                    </Button>\r\n                    <Button\r\n                      active={filter === ItemsFilter.InProgress}\r\n                      onClick={onChangeItemsFilter(ItemsFilter.InProgress)}\r\n                      appearance=\"subtle\"\r\n                    >\r\n                      {t(\"In progress\")} (\r\n                      {itemsMap[ItemsFilter.InProgress].length})\r\n                    </Button>\r\n                  </ButtonGroup>\r\n\r\n                  <Dropdown\r\n                    placement=\"bottomEnd\"\r\n                    renderToggle={(props, ref) => (\r\n                      <IconButton\r\n                        {...props}\r\n                        ref={ref}\r\n                        icon={<MoreIcon />}\r\n                        size=\"sm\"\r\n                      />\r\n                    )}\r\n                  >\r\n                    <Dropdown.Item\r\n                      className=\"delete-button\"\r\n                      onClick={onDeleteGroup}\r\n                      disabled={disabledRemove}\r\n                    >\r\n                      {t(\"Delete group\")}\r\n                    </Dropdown.Item>\r\n                  </Dropdown>\r\n                </ButtonToolbar>\r\n              </FlexboxGrid.Item>\r\n            </FlexboxGrid>\r\n\r\n            <ListContainer>\r\n              <TodoList\r\n                onAddItem={onAddItem}\r\n                empty={!itemsMap[filter].length}\r\n                emptyPlaceholder={`${t(\"No tasks in this group\")} [+]`}\r\n                addPlaceholder={t(\"Add task\")}\r\n              >\r\n                {itemsMap[filter].map(\r\n                  ({ id, priority, title, state, steps }) => (\r\n                    <TodoListItem\r\n                      active={selectedId === id}\r\n                      onClick={() => setSelectedId(id)}\r\n                      key={id}\r\n                      contextMenuUId={id}\r\n                      contextMenuId=\"todo-list-context\"\r\n                      icon={\r\n                        <span\r\n                          onClick={(event) => {\r\n                            event.stopPropagation();\r\n\r\n                            const newValue =\r\n                              state === TodoState.InProgress\r\n                                ? TodoState.Done\r\n                                : TodoState.InProgress;\r\n\r\n                            onChangeState(id, newValue);\r\n                          }}\r\n                          className=\"hover-icon centered-span\"\r\n                          title={\r\n                            state === TodoState.InProgress\r\n                              ? t(\"Mark as done\")\r\n                              : t(\"Move back to in progress\")\r\n                          }\r\n                        >\r\n                          <TodoIcon state={state} hovered />\r\n                        </span>\r\n                      }\r\n                      postfix={\r\n                        <span\r\n                          onClick={(event) => {\r\n                            event.stopPropagation();\r\n\r\n                            todoList.updateItem(id, {\r\n                              priority: !priority,\r\n                            });\r\n                          }}\r\n                          title={t(\"Mark as important\")}\r\n                          className=\"hover-icon centered-span\"\r\n                        >\r\n                          <Star filled={priority} />\r\n                        </span>\r\n                      }\r\n                    >\r\n                      <div>{title}</div>\r\n                      {steps.length > 0 &&\r\n                        (() => {\r\n                          const completedCount = steps.filter(\r\n                            ({ state }) => state === TodoState.Done\r\n                          ).length;\r\n\r\n                          return (\r\n                            <StepsState>\r\n                              {completedCount === steps.length && (\r\n                                <span>&#10004; </span>\r\n                              )}\r\n                              {completedCount} of {steps.length}\r\n                            </StepsState>\r\n                          );\r\n                        })()}\r\n                    </TodoListItem>\r\n                  )\r\n                )}\r\n              </TodoList>\r\n            </ListContainer>\r\n          </StyledContent>\r\n        </FlexboxGrid.Item>\r\n        {selectedId && (\r\n          <FlexboxGrid.Item colspan={right}>\r\n            <RightSide\r\n              selectedId={selectedId}\r\n              onClose={onCloseRightSide}\r\n              onChangeState={onChangeState}\r\n            />\r\n          </FlexboxGrid.Item>\r\n        )}\r\n      </FlexboxGrid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default observer(TodoListContent);\r\n","import PageContent from \"../../../components/page-content\";\r\nimport TodoGroupControl from \"../components/TodoGroupControl\";\r\nimport TodoListContent from \"../components/TodoListContent\";\r\nimport { useTodoListFilter } from \"../utils/useTodoListFilter\";\r\n\r\nconst TodoList = () => {\r\n  const { filter, onChange } = useTodoListFilter();\r\n\r\n  return (\r\n    <PageContent\r\n      navigation={\r\n        <TodoGroupControl\r\n          activeKey={filter.group}\r\n          changeActiveGroup={(group) => onChange({ group })}\r\n        />\r\n      }\r\n    >\r\n      <TodoListContent filter={filter} changeFilter={onChange} />\r\n    </PageContent>\r\n  );\r\n};\r\n\r\nexport default TodoList;\r\n","import { parse, stringify } from \"query-string\";\r\nimport { useCallback, useMemo } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router\";\r\nimport { TodoDefaultListGroup } from \"../../../enums/todo-list\";\r\nimport { ItemsFilter, TodoListFilter } from \"../types\";\r\n\r\nexport type ChangeTodoFilterHandler = (values: Partial<TodoListFilter>) => void;\r\n\r\ninterface ReturnValue {\r\n  filter: TodoListFilter;\r\n  onChange: ChangeTodoFilterHandler;\r\n}\r\n\r\nexport const useTodoListFilter = (): ReturnValue => {\r\n  const { search } = useLocation();\r\n  const history = useHistory();\r\n\r\n  const filter = useMemo(() => {\r\n    const {\r\n      group = String(TodoDefaultListGroup.All),\r\n      filter = String(ItemsFilter.All),\r\n    } = parse(search);\r\n\r\n    return {\r\n      group: Number(group),\r\n      filter: Number(filter),\r\n    };\r\n  }, [search]);\r\n\r\n  const onChange = useCallback(\r\n    (newValue) =>\r\n      history.replace({ search: stringify({ ...filter, ...newValue }) }),\r\n    [filter, history]\r\n  );\r\n\r\n  return { filter, onChange };\r\n};\r\n","import { IAllProps } from \"@tinymce/tinymce-react\";\r\n\r\nexport const EDITOR_INIT_OPTIONS: IAllProps[\"init\"] = {\r\n  autoresize_top_margin: 50,\r\n  autoresize_on_init: true,\r\n  plugins:\r\n    \"autoresize print preview paste importcss searchreplace autolink autosave save directionality code visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools textpattern noneditable help charmap quickbars emoticons\",\r\n  menubar: \"file edit view insert format tools table help\",\r\n  toolbar:\r\n    \"undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media template link anchor codesample | ltr rtl | table\",\r\n};\r\n","import { Editor as LibEditor, IAllProps } from \"@tinymce/tinymce-react\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nimport { EDITOR_INIT_OPTIONS } from \"./constants\";\r\n\r\nimport config from \"../../config.json\";\r\nimport { observer } from \"mobx-react\";\r\nimport { pageView } from \"../../store\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\ninterface EditorProps extends IAllProps {}\r\n\r\nconst Editor = (props: EditorProps) => {\r\n  const [reloading, setReloading] = useState(false);\r\n  const { t } = useTranslation();\r\n\r\n  const { isDarkTheme, smallLanguage, language, theme } = pageView;\r\n\r\n  useEffect(() => {\r\n    setReloading(true);\r\n\r\n    setTimeout(() => setReloading(false), 500);\r\n  }, [theme, language]);\r\n\r\n  if (reloading) {\r\n    return <div className=\"flex-center full-height\">{t(\"Loading\")} ...</div>;\r\n  }\r\n\r\n  return (\r\n    <LibEditor\r\n      {...props}\r\n      apiKey={config.tinyApiKey}\r\n      init={{\r\n        skin: isDarkTheme ? \"oxide-dark\" : undefined,\r\n        content_css: isDarkTheme ? \"dark\" : undefined,\r\n        language: smallLanguage,\r\n        ...EDITOR_INIT_OPTIONS,\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default observer(Editor);\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { FC, useCallback, useMemo } from \"react\";\r\nimport { notes, pageView } from \"../../../store\";\r\nimport { NotesFilter, NotesFilterHandler } from \"../types\";\r\nimport Editor from \"../../../components/editor\";\r\nimport EditableTitle from \"../../../components/editable-title\";\r\nimport styled from \"styled-components\";\r\nimport { Dropdown, FlexboxGrid, IconButton } from \"rsuite\";\r\nimport MoreIcon from \"@rsuite/icons/More\";\r\nimport { format } from \"date-fns\";\r\nimport { NoteType } from \"../../../enums/notes\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst TitleContainer = styled.div`\r\n  height: 50px;\r\n  padding: 0px 10px;\r\n`;\r\n\r\nconst EditorContainer = styled.div`\r\n  height: calc(100% - 50px);\r\n`;\r\n\r\nconst Title = styled(EditableTitle)`\r\n  font-size: 22px !important;\r\n  color: var(--rs-primary-700);\r\n`;\r\n\r\ninterface NotesContentProps {\r\n  filter: NotesFilter;\r\n  changeFilter: NotesFilterHandler;\r\n}\r\n\r\nconst NotesContent: FC<NotesContentProps> = ({\r\n  filter: { active },\r\n  changeFilter,\r\n}) => {\r\n  const { items } = notes;\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const currentItem = useMemo(\r\n    () => items.find(({ id }) => id === active),\r\n    [active, items]\r\n  );\r\n\r\n  const onSaveContent = useCallback(\r\n    (event) => {\r\n      const { id, title } = currentItem!;\r\n      const content = event.target.getContent();\r\n\r\n      notes.updateNote(id, { content, title });\r\n    },\r\n    [currentItem]\r\n  );\r\n\r\n  const onSaveTitle = useCallback(\r\n    (title) => {\r\n      const { id } = currentItem!;\r\n\r\n      notes.updateNote(id, { title });\r\n    },\r\n    [currentItem]\r\n  );\r\n\r\n  const onDeleteItem = useCallback(() => {\r\n    changeFilter({ active: null });\r\n\r\n    notes.deleteNote(currentItem!.id);\r\n  }, [currentItem, changeFilter]);\r\n\r\n  const onChangePriority = useCallback(\r\n    () => notes.changePriority(currentItem!.id),\r\n    [currentItem]\r\n  );\r\n\r\n  if (!currentItem) {\r\n    return (\r\n      <div className=\"full-height flex-center\">\r\n        <h4>{t(\"Note not selected\")}</h4>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const { content = \"\", title, dateCreated, priority, type } = currentItem;\r\n\r\n  return (\r\n    <div className=\"full-height\">\r\n      <TitleContainer>\r\n        <FlexboxGrid\r\n          align=\"middle\"\r\n          justify=\"space-between\"\r\n          className=\"full-height\"\r\n        >\r\n          <FlexboxGrid.Item>\r\n            <Title onSave={onSaveTitle} readOnly={type === NoteType.time}>\r\n              {title!}\r\n            </Title>\r\n          </FlexboxGrid.Item>\r\n          <FlexboxGrid.Item>\r\n            <FlexboxGrid\r\n              className=\"full-height w-200\"\r\n              align=\"middle\"\r\n              justify=\"space-between\"\r\n            >\r\n              <FlexboxGrid.Item>\r\n                <time>\r\n                  {format(\r\n                    new Date(dateCreated),\r\n                    `'${t(\"created at\")}' d MMM yyyy '${t(\"in\")}' HH:mm`,\r\n                    pageView.formatOptions\r\n                  )}\r\n                </time>\r\n              </FlexboxGrid.Item>\r\n              <FlexboxGrid.Item>\r\n                <Dropdown\r\n                  renderToggle={(props, ref) => (\r\n                    <IconButton\r\n                      ref={ref}\r\n                      {...props}\r\n                      icon={<MoreIcon />}\r\n                      size=\"sm\"\r\n                    />\r\n                  )}\r\n                  placement=\"bottomEnd\"\r\n                >\r\n                  <Dropdown.Item onClick={onChangePriority}>\r\n                    {priority ? t(\"Remove\") : t(\"Add to\")} {t(\"priority\")}\r\n                  </Dropdown.Item>\r\n                  <Dropdown.Item\r\n                    onClick={onDeleteItem}\r\n                    className=\"delete-button\"\r\n                  >\r\n                    {t(\"Delete note\")}\r\n                  </Dropdown.Item>\r\n                </Dropdown>\r\n              </FlexboxGrid.Item>\r\n            </FlexboxGrid>\r\n          </FlexboxGrid.Item>\r\n        </FlexboxGrid>\r\n      </TitleContainer>\r\n      <EditorContainer>\r\n        <Editor\r\n          initialValue={content}\r\n          onSaveContent={onSaveContent}\r\n          onBlur={onSaveContent}\r\n        />\r\n      </EditorContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default observer(NotesContent);\r\n","import { observer } from \"mobx-react\";\r\nimport { FC, useCallback, useEffect, useMemo } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { List, ListItem } from \"../../../components/list\";\r\nimport { notes, user } from \"../../../store\";\r\nimport { NotesFilter } from \"../types\";\r\n\r\nimport TextImageIcon from \"@rsuite/icons/TextImage\";\r\nimport styled from \"styled-components\";\r\nimport Star from \"../../../icons/Star\";\r\nimport ContextMenu from \"../../../components/context-menu\";\r\nimport TrashIcon from \"@rsuite/icons/Trash\";\r\nimport { SelectPicker } from \"rsuite\";\r\nimport { NoteType } from \"../../../enums/notes\";\r\n\r\nconst StyledList = styled(List)`\r\n  & + .add-control {\r\n    border-radius: 0;\r\n    background: transparent;\r\n    border-top: 1px solid var(--rs-divider-border);\r\n  }\r\n`;\r\n\r\ninterface NotesNavigationProps {\r\n  changeFilter: (newFilter: Partial<NotesFilter>) => void;\r\n  filter: NotesFilter;\r\n}\r\n\r\nconst NotesNavigation: FC<NotesNavigationProps> = ({\r\n  changeFilter,\r\n  filter: { active },\r\n}) => {\r\n  const { sortedItems, todayItem, timeItems } = notes;\r\n  const { t } = useTranslation();\r\n\r\n  const onAddNote = useCallback(\r\n    (title: string) => {\r\n      notes\r\n        .addNote({ title, userId: user.userId, type: NoteType.base })\r\n        .then(\r\n          (addedNote) => addedNote && changeFilter({ active: addedNote.id })\r\n        );\r\n\r\n      return true;\r\n    },\r\n    [changeFilter]\r\n  );\r\n\r\n  const onActiveNote = useCallback(\r\n    (noteId: number) => () => changeFilter({ active: noteId }),\r\n    [changeFilter]\r\n  );\r\n\r\n  const onDeleteNote = useCallback(\r\n    (key) => {\r\n      const noteId = Number(key);\r\n\r\n      if (active === noteId) {\r\n        changeFilter({ active: sortedItems?.[0]?.id });\r\n      }\r\n\r\n      notes.deleteNote(noteId);\r\n    },\r\n    [changeFilter, active, sortedItems]\r\n  );\r\n\r\n  const contextMenuItems = useMemo(\r\n    () => [\r\n      {\r\n        label: t(\"Delete note\"),\r\n        handler: onDeleteNote,\r\n        icon: <TrashIcon />,\r\n        className: \"delete-button\",\r\n      },\r\n    ],\r\n    [onDeleteNote, t]\r\n  );\r\n\r\n  const onChangeItem = useCallback(\r\n    (item) => changeFilter({ active: item }),\r\n    [changeFilter]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!active) {\r\n      changeFilter({ active: todayItem?.id });\r\n    }\r\n  }, [todayItem, changeFilter, active]);\r\n\r\n  return (\r\n    <div className=\"screen-height\">\r\n      <ContextMenu items={contextMenuItems} id=\"notes-context\" />\r\n      <StyledList\r\n        onAddItem={onAddNote}\r\n        addPlaceholder={t(\"Add note\")}\r\n        className=\"p-10\"\r\n        empty={!sortedItems.length}\r\n        emptyPlaceholder={`${t(\"No entries note\")} [+]`}\r\n        title={\r\n          <SelectPicker\r\n            data={timeItems}\r\n            style={{ width: \"100%\" }}\r\n            appearance=\"subtle\"\r\n            cleanable={false}\r\n            value={active!}\r\n            placeholder={t(\"Everyday note\")}\r\n            onChange={onChangeItem}\r\n          />\r\n        }\r\n      >\r\n        {sortedItems.map(({ title, id, priority }) => (\r\n          <ListItem\r\n            key={id}\r\n            onClick={onActiveNote(id)}\r\n            contextMenuId=\"notes-context\"\r\n            contextMenuUId={id}\r\n            active={id === active}\r\n            icon={<TextImageIcon />}\r\n            postfix={\r\n              <Star\r\n                filled={priority}\r\n                onClick={() => notes.changePriority(id)}\r\n              />\r\n            }\r\n          >\r\n            {title}\r\n          </ListItem>\r\n        ))}\r\n      </StyledList>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default observer(NotesNavigation);\r\n","import { parse, stringify } from \"query-string\";\r\nimport { useCallback, useMemo } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router\";\r\nimport { NotesFilter, NotesFilterHandler } from \"../types\";\r\n\r\nconst useNotesFilter = (): [NotesFilter, NotesFilterHandler] => {\r\n  const { search } = useLocation();\r\n  const history = useHistory();\r\n\r\n  const filter = useMemo(() => {\r\n    const { active = 0 } = parse(search, { parseNumbers: true });\r\n\r\n    return {\r\n      active,\r\n    } as NotesFilter;\r\n  }, [search]);\r\n\r\n  const changeFilter = useCallback(\r\n    (newValue: Partial<NotesFilter>) =>\r\n      history.replace({ search: stringify({ ...filter, ...newValue }) }),\r\n    [filter, history]\r\n  );\r\n\r\n  return [filter, changeFilter];\r\n};\r\n\r\nexport default useNotesFilter;\r\n","import { observer } from \"mobx-react\";\r\nimport PageContent from \"../../../components/page-content\";\r\nimport NotesContent from \"../components/NotesContent\";\r\nimport NotesNavigation from \"../components/NotesNavigation\";\r\nimport useNotesFilter from \"../utils/useNotesFilter\";\r\n\r\nconst Notes = () => {\r\n  const [filter, changeFilter] = useNotesFilter();\r\n\r\n  return (\r\n    <PageContent\r\n      navigation={\r\n        <NotesNavigation filter={filter} changeFilter={changeFilter} />\r\n      }\r\n    >\r\n      <NotesContent filter={filter} changeFilter={changeFilter} />\r\n    </PageContent>\r\n  );\r\n};\r\n\r\nexport default observer(Notes);\r\n","import { Switch, Route, Redirect } from \"react-router-dom\";\r\n\r\nimport { routes } from \"../helpers/router\";\r\n\r\nimport { Error404 } from \"./service\";\r\n\r\nimport { TodoList } from \"./todo-list\";\r\nimport { Notes } from \"./notes\";\r\n\r\nconst Routes = () => (\r\n  <Switch>\r\n    <Route\r\n      exact\r\n      path={routes.ROOT}\r\n      component={() => <Redirect to={routes.TODO_LIST} />}\r\n    />\r\n\r\n    <Route exact path={routes.LOGIN} component={() => <div>1</div>} />\r\n\r\n    <Route exact path={routes.REGISTRATION} component={() => <div>1</div>} />\r\n\r\n    <Route exact path={routes.TODO_LIST} component={TodoList} />\r\n\r\n    <Route exact path={routes.NOTES} component={Notes} />\r\n\r\n    <Route path=\"*\" component={Error404} />\r\n  </Switch>\r\n);\r\n\r\nexport default Routes;\r\n","import { Avatar, IconButton, Sidebar } from \"rsuite\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const LogoContainer = styled.div`\r\n  padding: 15px;\r\n\r\n  & svg[data-expanded=\"false\"] {\r\n    width: 20px;\r\n  }\r\n`;\r\n\r\nexport const LogoTitle = styled.span`\r\n  font-size: 20px;\r\n  margin-left: 10px;\r\n  transition: display 1s linear;\r\n\r\n  &[data-expanded=\"false\"] {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const StyledSidebar = styled(Sidebar)`\r\n  position: relative;\r\n  border-right: 1px solid var(--rs-divider-border);\r\n`;\r\n\r\nexport const TogglerButton = styled(IconButton)`\r\n  position: absolute;\r\n  right: -12px;\r\n  bottom: 80px;\r\n  z-index: 5;\r\n`;\r\n\r\nexport const UserAvatar = styled(Avatar)`\r\n  margin-right: 20px;\r\n  position: absolute;\r\n  left: 18px;\r\n  top: 15px;\r\n`;\r\n\r\nexport const UserTitle = styled.p`\r\n  font-size: 16px;\r\n  color: var(--rs-primary-700);\r\n`;\r\n","const Moon = () => (\r\n  <svg\r\n    className=\"rs-dropdown-item-menu-icon rs-icon\"\r\n    viewBox=\"0 0 1024 1024\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"1em\"\r\n    height=\"1em\"\r\n    aria-hidden=\"true\"\r\n    focusable=\"false\"\r\n    fill=\"currentColor\"\r\n  >\r\n    <defs>\r\n      <style></style>\r\n    </defs>\r\n    <path d=\"M888.16 678.96c-127.793 31.948-261.975-12.78-357.82-102.235-127.793-127.792-153.351-325.871-57.507-479.223 31.948-44.727-12.78-108.623-70.286-95.844-95.844 19.169-185.3 70.286-255.585 140.572C51.117 238.075 0 372.257 0 506.44c0 134.182 51.117 268.364 153.351 364.209C249.196 972.883 376.99 1024 517.561 1024c140.572 0 268.364-51.117 364.21-153.351 25.558-25.559 51.116-57.507 76.675-95.845 25.558-44.727-12.78-108.624-70.286-95.844z\"></path>\r\n    <path d=\"M1003.173 238.075c25.559-25.559 25.559-63.897 0-89.455-25.558-25.559-63.896-25.559-89.455 0-19.169 19.168-83.065 19.168-102.234 0-25.559-25.559-63.896-25.559-89.455 0-25.558 25.558-25.558 63.896 0 89.455 19.169 19.168 19.169 83.065 0 102.234-25.558 25.558-25.558 63.896 0 89.455 25.559 25.558 63.896 25.558 89.455 0 19.169-19.17 83.065-19.17 102.234 0 25.559 25.558 63.897 25.558 89.455 0 25.559-25.559 25.559-63.897 0-89.455-19.169-19.17-19.169-83.066 0-102.234z\"></path>\r\n  </svg>\r\n);\r\n\r\nexport default Moon;\r\n","const Sun = () => (\r\n  <svg\r\n    className=\"rs-dropdown-item-menu-icon rs-icon\"\r\n    viewBox=\"0 0 1024 1024\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"1em\"\r\n    height=\"1em\"\r\n    aria-hidden=\"true\"\r\n    focusable=\"false\"\r\n    fill=\"currentColor\"\r\n  >\r\n    <defs>\r\n      <style></style>\r\n    </defs>\r\n    <path d=\"M512 204.8c-169.7 0-307.2 137.603-307.2 307.2 0 169.7 137.5 307.2 307.2 307.2S819.2 681.7 819.2 512c0-169.597-137.5-307.2-307.2-307.2zM477.804 0h68.3v136.5h-68.3zm0 887.5h68.3V1024h-68.3zM270.598 222.414l-48.299 48.298-96.5-96.5 48.298-48.299zm-48.293 530.995l48.298 48.299-96.495 96.5-48.298-48.298zM0 477.901h136.5v68.3H0zm887.5 0H1024v68.3H887.5zm10.702 372.002l-48.3 48.299-96.596-96.598 48.298-48.298zM753.402 222.4l48.299 48.3 96.603-96.502L850 125.901z\"></path>\r\n  </svg>\r\n);\r\n\r\nexport default Sun;\r\n","const Language = () => (\r\n  <svg\r\n    className=\"rs-icon\"\r\n    viewBox=\"0 0 1024 1024\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"1em\"\r\n    height=\"1em\"\r\n    aria-hidden=\"true\"\r\n    focusable=\"false\"\r\n    fill=\"currentColor\"\r\n  >\r\n    <defs>\r\n      <style></style>\r\n    </defs>\r\n    <path d=\"M371.2 98.8c-10.4 3.8-17.2 9-22.6 17.2-6.8 9.8-8.6 18.8-8.6 42.4v21.4l-121.4.6c-114.2.6-122 .8-128.6 4.4-16.8 8.8-24.8 22-24.8 40.2 0 17.8 8 31.2 23.8 39.6l8 4.4 202.6.6 202.6.4-1.4 4.6c-5.6 18.6-26.8 68-45.8 106.4-19.6 40-55.8 103-59 103-1.6 0-30.2-40.8-47.6-68-8.8-13.8-22.4-37.4-30.4-52.6-16.2-30.8-22.6-37.4-39.6-41.2-24.8-5.2-47 9.6-52.6 35-2 8.8-1.8 12 1.2 21.8 8 25 53.4 99.8 92.8 152.6 17.6 23.6 18.4 25 15.4 29.2-5.8 9-66.6 68.6-91.2 89.4-30 25.4-59.6 47.6-81.2 60.8-19.8 12.2-24.2 16-29.4 26-5.8 11-5.8 29 0 40 8.4 15.8 21.6 23.8 39.6 23.8 13.6 0 20-2.8 47-20.6 46.6-30.6 94.2-70.2 143.2-119.4l34-34.2 22 21.2c28 27.4 51.6 47.4 61.8 52.8 10.4 5.4 29 5.8 39 .6 16.6-8.8 24.8-22 24.8-40.2 0-17-5.2-25.6-25.2-42.2-22.2-18.2-64-60.2-63.2-63.2.4-1.4 9.2-15.6 19.8-31.6 10.6-16 25-38.8 32-51 27.8-48.6 62.6-126.4 82.2-183.4l6.6-19.4 38-.6c34.4-.6 38.8-1 46-5 15.8-8.4 23.8-21.8 23.8-39.6 0-18.2-8-31.4-24.8-40.2-6.6-3.6-14.4-3.8-128.4-4.4l-121.2-.6-.8-25.4c-.8-26.6-2.6-33.4-12.4-44-10.4-11.6-31.6-16.8-46-11.6zm352 308c-9.4 3.6-16.6 8.6-21.8 15.6-4.8 6.4-186.8 447-188.4 456.4-4.8 25.2 18.4 51.4 45.2 51.2 8 0 22.8-6.4 29.4-12.6 6.4-5.8 10.6-14.6 30.4-63l16.6-40.4h204.8l18.8 45.2c20.2 49.4 23.6 55.4 33.6 62.2 30.2 20.4 69.2-.2 69-36.4-.2-11.2-6.2-26.6-88.6-226-99-239.4-96.8-234.2-102.8-240.6-10.8-11.6-31.8-16.8-46.2-11.6zM769 643c17.2 41.8 31.8 77.2 32.4 78.4.8 2-12.8 2.6-64.4 2.6-36 0-65-.8-64.6-1.8 6-15.4 64.6-156 64.8-155.6.2.2 14.4 34.6 31.8 76.4z\"></path>\r\n  </svg>\r\n);\r\n\r\nexport default Language;\r\n","import { /* FC, */ useCallback, useMemo } from \"react\";\r\nimport {\r\n  Container,\r\n  Nav,\r\n  Sidenav,\r\n  CustomProvider,\r\n  FlexboxGrid,\r\n  // IconButtonProps,\r\n  Dropdown,\r\n} from \"rsuite\";\r\nimport { ruRU, enUS } from \"rsuite/locales\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\n\r\nimport TaskIcon from \"@rsuite/icons/Task\";\r\nimport ParagraphIcon from \"@rsuite/icons/Paragraph\";\r\nimport CharacterLockIcon from \"@rsuite/icons/CharacterLock\";\r\n// import ArrowLeftIcon from \"@rsuite/icons/ArrowLeft\";\r\n// import ArrowRightIcon from \"@rsuite/icons/ArrowRight\";\r\nimport UserInfoIcon from \"@rsuite/icons/UserInfo\";\r\nimport SettingIcon from \"@rsuite/icons/Setting\";\r\nimport UserChangeIcon from \"@rsuite/icons/UserChange\";\r\n\r\nimport { routes } from \"./helpers/router\";\r\nimport Routes from \"./pages\";\r\nimport { pageView, user } from \"./store\";\r\n\r\nimport {\r\n  LogoContainer,\r\n  LogoTitle,\r\n  StyledSidebar,\r\n  // TogglerButton,\r\n  UserAvatar,\r\n  UserTitle,\r\n} from \"./appStyles\";\r\n\r\nimport \"rsuite/dist/rsuite.min.css\";\r\nimport \"./styles.css\";\r\nimport Moon from \"./icons/Moon\";\r\nimport Sun from \"./icons/Sun\";\r\nimport LanguageIcon from \"./icons/Language\";\r\nimport { Language, Theme } from \"./enums/page-view\";\r\n\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n// const ExpandedToggler: FC<IconButtonProps & { expanded: boolean }> = ({\r\n//   expanded,\r\n//   onClick,\r\n// }) => (\r\n//   <TogglerButton\r\n//     icon={expanded ? <ArrowLeftIcon /> : <ArrowRightIcon />}\r\n//     size=\"xs\"\r\n//     circle\r\n//     onClick={onClick}\r\n//     appearance=\"primary\"\r\n//   />\r\n// );\r\n\r\nconst App = () => {\r\n  const { pathname } = useLocation();\r\n  const { language, theme } = pageView;\r\n  const { t } = useTranslation();\r\n\r\n  const onSelectOption = useCallback((key?: string) => {\r\n    console.log(key);\r\n\r\n    if (!key) {\r\n      return;\r\n    }\r\n\r\n    if ([Theme.Light, Theme.Dark].includes(key as Theme)) {\r\n      pageView.changeTheme(key as Theme);\r\n    }\r\n\r\n    if ([Language.Ru, Language.EnUS].includes(key as Language)) {\r\n      pageView.changeLanguage(key as Language);\r\n    }\r\n  }, []);\r\n\r\n  const locale = useMemo(\r\n    () => (language === Language.Ru ? ruRU : enUS),\r\n    [language]\r\n  );\r\n\r\n  return (\r\n    <CustomProvider theme={theme} locale={locale}>\r\n      <Container>\r\n        <StyledSidebar\r\n          // width={pageView.expandedSideBar ? 220 : 56}\r\n          width={56}\r\n          collapsible\r\n          className=\"flex-column\"\r\n        >\r\n          <Sidenav.Header>\r\n            <LogoContainer>\r\n              <FlexboxGrid align=\"middle\">\r\n                <FlexboxGrid.Item>\r\n                  <div className=\"logo\">\r\n                    <span>YM</span>\r\n                  </div>\r\n                </FlexboxGrid.Item>\r\n                <FlexboxGrid.Item>\r\n                  <LogoTitle data-expanded={pageView.expandedSideBar}>\r\n                    You manager\r\n                  </LogoTitle>\r\n                </FlexboxGrid.Item>\r\n              </FlexboxGrid>\r\n            </LogoContainer>\r\n          </Sidenav.Header>\r\n          <Sidenav\r\n            className=\"flex-column flex-auto\"\r\n            expanded={pageView.expandedSideBar}\r\n            appearance=\"subtle\"\r\n          >\r\n            <Sidenav.Body className=\"flex-column flex-auto\">\r\n              <Nav className=\"flex-auto\" activeKey={pathname}>\r\n                <Nav.Item\r\n                  eventKey={routes.TODO_LIST}\r\n                  icon={<TaskIcon />}\r\n                  as={Link}\r\n                  to={routes.TODO_LIST}\r\n                >\r\n                  {t(\"Todo\")}\r\n                </Nav.Item>\r\n\r\n                <Nav.Item\r\n                  eventKey={routes.NOTES}\r\n                  icon={<ParagraphIcon />}\r\n                  as={Link}\r\n                  to={routes.NOTES}\r\n                >\r\n                  {t(\"Notes\")}\r\n                </Nav.Item>\r\n\r\n                <Nav.Item\r\n                  eventKey={routes.PASSWORDS}\r\n                  icon={<CharacterLockIcon />}\r\n                  as={Link}\r\n                  to={routes.PASSWORDS}\r\n                >\r\n                  {t(\"Passwords\")}\r\n                </Nav.Item>\r\n              </Nav>\r\n              <Nav activeKey={pathname}>\r\n                <Dropdown\r\n                  placement=\"rightEnd\"\r\n                  activeKey={pathname}\r\n                  onSelect={onSelectOption}\r\n                  title={<UserTitle>{user.username}</UserTitle>}\r\n                  icon={\r\n                    <UserAvatar size=\"xs\">{user.usernameSymbols}</UserAvatar>\r\n                  }\r\n                >\r\n                  <Dropdown.Item icon={<UserInfoIcon />}>\r\n                    {t(\"Profile\")}\r\n                  </Dropdown.Item>\r\n                  <Dropdown.Item\r\n                    eventKey={routes.SETTINGS}\r\n                    as={Link}\r\n                    to={routes.SETTINGS}\r\n                    icon={<SettingIcon />}\r\n                  >\r\n                    {t(\"Settings\")}\r\n                  </Dropdown.Item>\r\n\r\n                  <Dropdown.Item divider />\r\n\r\n                  <Dropdown.Menu\r\n                    title={t(\"Language\")}\r\n                    icon={<LanguageIcon />}\r\n                    activeKey={language}\r\n                  >\r\n                    <Dropdown.Item eventKey={Language.Ru}>\r\n                      \r\n                    </Dropdown.Item>\r\n                    <Dropdown.Item eventKey={Language.EnUS}>\r\n                      English\r\n                    </Dropdown.Item>\r\n                  </Dropdown.Menu>\r\n\r\n                  <Dropdown.Menu\r\n                    title={t(\"Theme\")}\r\n                    icon={theme === Theme.Light ? <Sun /> : <Moon />}\r\n                    activeKey={theme}\r\n                  >\r\n                    <Dropdown.Item eventKey={Theme.Light}>\r\n                      {t(\"Light\")}\r\n                    </Dropdown.Item>\r\n                    <Dropdown.Item eventKey={Theme.Dark}>\r\n                      {t(\"Dark\")}\r\n                    </Dropdown.Item>\r\n                  </Dropdown.Menu>\r\n\r\n                  <Dropdown.Item divider />\r\n\r\n                  <Dropdown.Item\r\n                    eventKey={routes.CHANGE_USER}\r\n                    as={Link}\r\n                    to={routes.CHANGE_USER}\r\n                    icon={<UserChangeIcon />}\r\n                  >\r\n                    {t(\"Change user\")}\r\n                  </Dropdown.Item>\r\n                </Dropdown>\r\n              </Nav>\r\n            </Sidenav.Body>\r\n            {/* <ExpandedToggler\r\n              expanded={pageView.expandedSideBar}\r\n              onClick={pageView.toggleExpanded}\r\n            /> */}\r\n          </Sidenav>\r\n        </StyledSidebar>\r\n\r\n        <Container>\r\n          <Routes />\r\n        </Container>\r\n      </Container>\r\n    </CustomProvider>\r\n  );\r\n};\r\n\r\nexport default observer(App);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { HashRouter } from \"react-router-dom\";\r\n\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </HashRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}