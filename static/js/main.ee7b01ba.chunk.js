(this["webpackJsonpyour-manager"]=this["webpackJsonpyour-manager"]||[]).push([[0],{203:function(e){e.exports=JSON.parse('{"db":{"name":"application_db","version":"1.0","displayName":"application_db","size":67108864}}')},450:function(e,t,n){},454:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),s=n(53),i=n.n(s),o=n(52),u=n(12),l=n(467),d=n(219),j=n(468),b=n(451),p=n(455),h=n(456),O=n(461),x=n(460),f=n(218),v=n(13),m=n(21),g=n(17),I=n(195),y=n.n(I),k=n(196),w=n.n(k),E=n(197),T=n.n(E),C=n(198),S=n.n(C),N=n(199),A=n.n(N),R=n(89),P=n.n(R),M="/your-manager",D={ROOT:"".concat(M,"/"),LOGIN:"".concat(M,"/login"),REGISTRATION:"".concat(M,"/registration"),TODO_LIST:"".concat(M,"/todo-list"),NOTES:"".concat(M,"/notes"),PASSWORDS:"".concat(M,"/passwords"),SETTINGS:"".concat(M,"/settings")},B=n(2),L=function(){return Object(B.jsxs)("div",{children:[Object(B.jsx)("h2",{children:"Error 404!"}),Object(B.jsx)("h5",{children:"Page not found!"})]})},G=n(464),z=n(463),F=n(213),U=n(200),K=n.n(U),W=n(90),H=n.n(W),_=n(201),J=n.n(_),X=n(202),Y=n.n(X),q=n(10),Q=n.n(q),V=n(16),Z=n(26),$=n(42),ee=n(9),te="Yerzhan",ne=function(){function e(){Object(Z.a)(this,e),this.data=null,Object(ee.l)(this)}return Object($.a)(e,[{key:"authorized",get:function(){return Boolean(this.data)}},{key:"userId",get:function(){var e;return(null===(e=this.data)||void 0===e?void 0:e.id)||1}},{key:"usernameSymbols",get:function(){return function(e){var t=e.split(" ");return 1===t.length?(e[0]+e[1]).toUpperCase():t.slice(0,2).join("").toUpperCase()}(this.username)}},{key:"username",get:function(){var e;return(null===(e=this.data)||void 0===e?void 0:e.username)||te}}]),e}(),re=function e(){Object(Z.a)(this,e),Object(ee.l)(this)},ae=function e(){Object(Z.a)(this,e),Object(ee.l)(this)},ce=n(15),se=n(38),ie=n(462);!function(e){e[e.All=-1]="All",e[e.Today=-2]="Today",e[e.Priority=-3]="Priority"}(r||(r={}));var oe=n(203).db,ue=oe.name,le=oe.version,de=oe.displayName,je=oe.size,be=window.openDatabase(ue,le,de,je);if(null===be)throw Error("Database not connected!");var pe=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise((function(r,a){return e.transaction((function(e){return e.executeSql(t,n,(function(e,t){return r({tx:e,result:t})}),(function(e,t){return a({tx:e,error:t}),!0}))}))}))}}(be),he=function(){var e=Object(V.a)(Q.a.mark((function e(t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe("SELECT * FROM sqlite_master WHERE type='table' AND name=?",[t.name]);case 2:if(n=e.sent,n.result.rows.length){e.next=8;break}return e.next=7,t.init();case 7:return e.abrupt("return",Promise.resolve(!0));case 8:return e.abrupt("return",Promise.resolve(!1));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(e){var t=e.rows;return Array.from({length:t.length}).fill(0).map((function(e,n){return t.item(n)}))},xe=n(34),fe=["steps","priority"],ve=["steps","priority"],me=function(){function e(){Object(Z.a)(this,e)}return Object($.a)(e,null,[{key:"init",value:function(){return pe("CREATE TABLE ".concat(e.name," (\n          id INTEGER PRIMARY KEY, \n          title TEXT, \n          description TEXT, \n          state INTEGER,\n          type INTEGER,\n          groupId INTEGER, \n          userId INTEGER, \n          orderIndex INTEGER, \n          steps TEXT, \n          dateCreate REAL, \n          priority BOOL, \n          lastChanged REAL\n        )"))}},{key:"add",value:function(){var t=Object(V.a)(Q.a.mark((function t(n){var r,a,c,s,i,o,u,l,d,j;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.title,a=n.description,c=n.state,s=n.type,i=n.groupId,o=n.userId,u=n.steps,l=n.orderIndex,t.next=3,pe("INSERT INTO ".concat(e.name," (title, description, state, type, groupId, userId, orderIndex, steps, dateCreate, priority) values(?, ?, ?, ?, ?, ?, ?, ?, ?, ?)"),[r,a,c,s,i,o,l,JSON.stringify(u),(new Date).getTime(),!1]);case 3:if(d=t.sent,!(j=d.result).insertId){t.next=7;break}return t.abrupt("return",e.selectById(j.insertId));case 7:return t.abrupt("return",null);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"selectById",value:function(){var t=Object(V.a)(Q.a.mark((function t(n){var r,a,c,s,i,o;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe("SELECT * FROM ".concat(e.name," WHERE id = ?"),[n]);case 2:if(r=t.sent,(a=r.result).rows.length){t.next=6;break}return t.abrupt("return",null);case 6:return c=a.rows.item(0),s=c.steps,i=c.priority,o=Object(xe.a)(c,fe),t.abrupt("return",Object(ce.a)({steps:JSON.parse(s),priority:"true"===i},o));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"selectAllForUserId",value:function(){var t=Object(V.a)(Q.a.mark((function t(n){var r,a;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe("SELECT * FROM ".concat(e.name," WHERE userId = ?"),[n]);case 2:return r=t.sent,a=r.result,t.abrupt("return",Oe(a).map((function(e){var t=e.steps,n=void 0===t?"[]":t,r=e.priority,a=Object(xe.a)(e,ve);return Object(ce.a)({steps:JSON.parse(n),priority:"true"===r},a)})));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=Object(V.a)(Q.a.mark((function t(n){var r,a,c,s,i,o,u,l,d,j,b;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.id,a=n.steps,c=n.title,s=n.description,i=n.state,o=n.type,u=n.groupId,l=n.userId,d=n.orderIndex,j=n.priority,t.next=3,pe("UPDATE ".concat(e.name," SET title = ?, description = ?, state = ?, type = ?, groupId = ?, userId = ?, orderIndex = ?, steps = ?, priority = ?, lastChanged = ? WHERE id = ?"),[c,s,i,o,u,l,d,JSON.stringify(a),j,(new Date).getTime(),r]);case 3:if(b=t.sent,1!==b.result.rowsAffected){t.next=7;break}return t.abrupt("return",e.selectById(r));case 7:return t.abrupt("return",null);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"removeByGroupId",value:function(){var t=Object(V.a)(Q.a.mark((function t(n){return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe("DELETE FROM ".concat(e.name," WHERE groupId = ?"),[n]);case 2:return t.abrupt("return",!0);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"removeById",value:function(){var t=Object(V.a)(Q.a.mark((function t(n){var r,a;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe("DELETE FROM ".concat(e.name," WHERE id = ?"),[n]);case 2:return r=t.sent,a=r.result,t.abrupt("return",a.rowsAffected>0);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}();he(me);var ge=me,Ie=function(){function e(){Object(Z.a)(this,e)}return Object($.a)(e,null,[{key:"init",value:function(){return pe("CREATE TABLE ".concat(e.name," (\n          id INTEGER PRIMARY KEY, \n          title TEXT,\n          orderIndex INTEGER,\n          userId INTEGER\n        )"))}},{key:"getById",value:function(){var t=Object(V.a)(Q.a.mark((function t(n){var r,a;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe("SELECT * FROM ".concat(e.name," WHERE id = ?"),[n]);case 2:if(r=t.sent,!(a=r.result).rows.length){t.next=6;break}return t.abrupt("return",a.rows.item(0));case 6:return t.abrupt("return",null);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"add",value:function(){var t=Object(V.a)(Q.a.mark((function t(n){var r,a,c,s,i;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.title,a=n.orderIndex,c=n.userId,t.next=3,pe("INSERT INTO ".concat(e.name," (title, orderIndex, userId) values(?, ?, ?)"),[r,a,c]);case 3:if(s=t.sent,!(i=s.result).insertId){t.next=9;break}return t.next=8,e.getById(i.insertId);case 8:return t.abrupt("return",t.sent);case 9:return t.abrupt("return",null);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"selectAllForUserId",value:function(){var t=Object(V.a)(Q.a.mark((function t(n){var r,a;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe("SELECT * FROM ".concat(e.name," WHERE userId = ?"),[n]);case 2:return r=t.sent,a=r.result,t.abrupt("return",Oe(a));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"removeById",value:function(){var t=Object(V.a)(Q.a.mark((function t(n){var r,a;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe("DELETE FROM ".concat(e.name," WHERE id = ?"),[n]);case 2:if(r=t.sent,a=r.result,t.t0=1===a.rowsAffected,!t.t0){t.next=9;break}return t.next=8,ge.removeByGroupId(n);case 8:t.t0=t.sent;case 9:return t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}();he(Ie);var ye=Ie,ke=function(){function e(t){Object(Z.a)(this,e),this.groups=[],this.items=[],Object(ee.l)(this),this.loadData(t)}return Object($.a)(e,[{key:"todoMap",get:function(){return this.items.reduce((function(e,t){return Object.assign(e,Object(se.a)({},t.id,t))}),{})}},{key:"itemsMapForGroups",get:function(){var e,t=this.items.reduce((function(e,t){return Object.assign(e,Object(se.a)({},t.groupId,(e[t.groupId]||[]).concat(t)))}),{});return Object(ce.a)(Object(ce.a)({},t),{},(e={},Object(se.a)(e,r.All,this.items),Object(se.a)(e,r.Priority,this.items.filter((function(e){return e.priority}))),Object(se.a)(e,r.Today,this.items.filter((function(e){var t=e.dateCreate;return Object(ie.a)(t)}))),e))}},{key:"countItemsInGroup",value:function(e){var t;return(null===(t=this.itemsMapForGroups[e])||void 0===t?void 0:t.length)||0}},{key:"loadData",value:function(){var e=Object(V.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye.selectAllForUserId(t);case 2:return this.groups=e.sent,e.next=5,ge.selectAllForUserId(t);case 5:this.items=e.sent;case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addGroup",value:function(){var e=Object(V.a)(Q.a.mark((function e(t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye.add(t);case 2:n=e.sent,this.groups.push(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeGroup",value:function(){var e=Object(V.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye.removeById(t);case 2:e.sent&&(this.groups=this.groups.filter((function(e){return e.id!==t})),this.items=this.items.filter((function(e){return e.groupId!==t})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeItem",value:function(){var e=Object(V.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.removeById(t);case 2:e.sent&&(this.items=this.items.filter((function(e){return e.id!==t})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addItem",value:function(){var e=Object(V.a)(Q.a.mark((function e(t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.add(t);case 2:return n=e.sent,this.items.push(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateItem",value:function(){var e=Object(V.a)(Q.a.mark((function e(t,n){var r,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.items.findIndex((function(e){return e.id===t})),e.next=3,ge.update(Object(ce.a)(Object(ce.a)({},this.items[r]),n));case 3:a=e.sent,this.items[r]=a;case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),we=ke,Ee=function e(){var t=this;Object(Z.a)(this,e),this.expandedSideBar=!0,this.currentUserId=1,this.toggleExpanded=function(){t.expandedSideBar=!t.expandedSideBar},Object(ee.l)(this);var n=localStorage.getItem("page-settings");if(window.addEventListener("unload",(function(){localStorage.setItem("page-settings",JSON.stringify(t))})),null!==n){var r=JSON.parse(n);for(var a in r)a in this&&(this[a]=r[a])}},Te=function(){function e(){Object(Z.a)(this,e)}return Object($.a)(e,null,[{key:"init",value:function(){return pe("CREATE TABLE ".concat(e.name," (id INTEGER PRIMARY KEY, username TEXT, settings TEXT, password TEXT, privateKey TEXT, lastLogin REAL)"))}},{key:"add",value:function(t){var n=t.username,r=void 0===n?te:n,a=t.password,c=void 0===a?null:a,s=t.privateKey,i=void 0===s?null:s,o=t.settings,u=void 0===o?"{}":o;return pe("INSERT INTO ".concat(e.name," (username, settings, password, privateKey) values(?, ?, ?, ?)"),[r,u,c,i])}},{key:"selectUserById",value:function(){var t=Object(V.a)(Q.a.mark((function t(n){var r,a;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe("SELECT id, username, settings, lastLogin FROM ? WHERE id = ?",[e.name,n]);case 2:return r=t.sent,a=r.result,t.abrupt("return",a.rows.item(0));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}();he(Te).then((function(e){e&&Te.add({})}));var Ce=Te,Se=new Ee,Ne=new ne,Ae=(new re,new ae,new we(Se.currentUserId));Object(ee.o)((function(){return Se.currentUserId}),function(){var e=Object(V.a)(Q.a.mark((function e(t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce.selectUserById(t);case 2:n=e.sent,Ae.loadData(t),Ne.data=n;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var Re,Pe,Me,De,Be,Le,Ge,ze,Fe,Ue,Ke,We,He,_e,Je=["filled"],Xe=function(e){var t=e.filled,n=Object(xe.a)(e,Je);return Object(B.jsx)("svg",Object(ce.a)(Object(ce.a)({stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},n),{},{children:Object(B.jsxs)("g",{children:[Object(B.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),t?Object(B.jsx)("path",{d:"M12 17l-5.878 3.59 1.598-6.7-5.23-4.48 6.865-.55L12 2.5l2.645 6.36 6.866.55-5.231 4.48 1.598 6.7z"}):Object(B.jsx)("path",{d:"M12 18.26l-7.053 3.948 1.575-7.928L.587 8.792l8.027-.952L12 .5l3.386 7.34 8.027.952-5.935 5.488 1.575 7.928L12 18.26zm0-2.292l4.247 2.377-.949-4.773 3.573-3.305-4.833-.573L12 5.275l-2.038 4.42-4.833.572 3.573 3.305-.949 4.773L12 15.968z"})]})}))},Ye=n(43),qe=n(459),Qe=n(458),Ve=v.b.div(Re||(Re=Object(u.a)(["\n  max-height: 100%;\n  height: 100%;\n"]))),Ze=Object(v.b)(Qe.a)(Pe||(Pe=Object(u.a)(['\n  box-shadow: none;\n  height: 100%;\n\n  &[data-hasAdded="true"] {\n    height: calc(100% - 56px);\n  }\n']))),$e=Object(v.a)(Me||(Me=Object(u.a)(["\n  border-radius: 5px;\n  background: var(--rs-gray-800);\n\n  &:hover {\n    background: var(--rs-gray-700);\n  }\n"]))),et=Object(v.b)(Qe.a.Item)(De||(De=Object(u.a)(["\n  ",'\n  box-shadow: none;\n  cursor: pointer;\n  padding: 0px;\n\n  & > div {\n    padding: 14px;\n  }\n\n  &:not(:last-child) {\n    margin-bottom: 5px;\n  }\n\n  & svg {\n    display: flex;\n    height: 20px;\n    width: auto;\n  }\n\n  & > div .content {\n    /* margin: 0px 10px 0px 15px; */\n    font-size: 16px;\n    /* flex: auto; */\n    /* max-width: 90%; */\n    word-break: break-all;\n  }\n\n  &[data-active="true"] {\n    background: var(--rs-gray-600);\n    color: var(--rs-primary-700);\n    font-weight: bold;\n  }\n'])),$e),tt=v.b.div(Be||(Be=Object(u.a)(["\n  ","\n  margin-top: 8px;\n  cursor: text;\n  padding: 10px 14px;\n\n  & svg {\n    height: 20px;\n    width: auto;\n  }\n\n  & > div > div:last-child {\n    flex: auto;\n    margin-left: 15px;\n  }\n\n  & p {\n    font-size: 16px;\n    margin: 3px 0px;\n    display: inline-block;\n    margin-left: 5px;\n  }\n\n  & input {\n    margin-left: -5px;\n    background: transparent;\n  }\n\n  & input,\n  input:focus {\n    border: none;\n    box-shadow: none;\n  }\n"])),$e),nt=v.b.div(Le||(Le=Object(u.a)(["\n  width: 30px;\n"]))),rt=v.b.div(Ge||(Ge=Object(u.a)(["\n  width: calc(100% - 30px);\n"]))),at=n(207),ct=n.n(at),st=n(208),it=n.n(st),ot=function(e){var t=e.onAddItem,n=e.placeholder,r=void 0===n?"Add task":n,c=Object(a.useState)(!1),s=Object(Ye.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)(""),l=Object(Ye.a)(u,2),d=l[0],j=l[1],b=Object(a.useCallback)((function(){return o(!1)}),[o]),p=Object(a.useCallback)((function(e){t(d)&&j("")}),[t,d]),h=Boolean(d||i);return Object(B.jsx)(tt,{onClick:function(){return o(!0)},"data-focused":i,className:"add-control",children:Object(B.jsxs)(O.a,{align:"middle",justify:"space-between",children:[Object(B.jsx)(O.a.Item,{children:h?Object(B.jsx)(it.a,{}):Object(B.jsx)(ct.a,{})}),Object(B.jsx)(O.a.Item,{children:h?Object(B.jsx)(qe.a,{size:"sm",autoFocus:!0,value:d,onChange:function(e){return j(e)},onPressEnter:p,placeholder:"Typing todo title...",onBlur:b}):Object(B.jsx)("p",{children:r})})]})})},ut=["children","onAddItem","addPlaceholder"],lt=function(e){var t=e.children,n=e.onAddItem,r=e.addPlaceholder,a=Object(xe.a)(e,ut);return Object(B.jsxs)(Ve,{children:[Object(B.jsx)(Ze,Object(ce.a)(Object(ce.a)({},a),{},{"data-hasAdded":Boolean(n),children:t})),n&&Object(B.jsx)(ot,{onAddItem:n,placeholder:r})]})},dt=n(57),jt=["children","icon","postfix","active","contextMenuId","contextMenuUId"],bt=function(e){var t=e.children,n=e.icon,r=e.postfix,a=e.active,c=void 0!==a&&a,s=e.contextMenuId,i=e.contextMenuUId,o=Object(xe.a)(e,jt),u=Object(B.jsxs)(O.a,{align:"middle",justify:"space-between",children:[Object(B.jsxs)(O.a.Item,{className:"content flex-block flex-align-center",colspan:22,children:[Object(B.jsx)(nt,{children:n}),Object(B.jsx)(rt,{children:t})]}),Object(B.jsx)(O.a.Item,{className:"align-right",colspan:2,children:r})]});return Object(B.jsx)(et,Object(ce.a)(Object(ce.a)({},o),{},{"data-active":c,"data-uid":i,children:s?Object(B.jsx)(dt.b,{id:s,children:u}):Object(B.jsx)("div",{children:u})}))},pt=v.b.div(ze||(ze=Object(u.a)(["\n  height: 100vh;\n  width: 100%;\n  border-right: 1px solid var(--rs-divider-border);\n"]))),ht=v.b.div(Fe||(Fe=Object(u.a)(["\n  height: calc(100vh - 176px);\n"]))),Ot=v.b.div(Ue||(Ue=Object(u.a)(["\n  height: 170px;\n"]))),xt=Object(v.b)(lt)(Ke||(Ke=Object(u.a)(["\n  & + .add-control {\n    border-radius: 0;\n    background: transparent;\n    border-top: 1px solid var(--rs-divider-border);\n  }\n"]))),ft=v.b.div(We||(We=Object(u.a)(["\n  color: var(--rs-gray-500);\n  font-size: 13px;\n"]))),vt=Object(v.b)(bt)(He||(He=Object(u.a)(["\n  background: transparent;\n  margin: 5px;\n\n  svg {\n    height: 16px;\n    width: auto;\n  }\n"]))),mt=Object(F.a)((function(e){var t=e.activeKey,n=e.changeActiveGroup,c=Ae.groups,s=Object(a.useCallback)((function(e){return Ae.addGroup({title:e,orderIndex:c.length+1,userId:Ne.userId}),!0}),[c]),i=Object(a.useCallback)((function(e,t,n){var r,a,c=Number(null===(r=n.parentElement)||void 0===r||null===(a=r.dataset)||void 0===a?void 0:a.uid);Ae.removeGroup(c)}),[]);return Object(B.jsxs)(pt,{children:[Object(B.jsx)(dt.a,{id:"group-context",children:Object(B.jsx)(f.a.Menu,{children:Object(B.jsx)(dt.c,{onClick:i,children:Object(B.jsx)(f.a.Item,{icon:Object(B.jsx)(H.a,{}),className:"delete-button",children:"Delete group"})})})}),Object(B.jsx)(Ot,{children:Object(B.jsxs)(xt,{children:[Object(B.jsx)(vt,{icon:Object(B.jsx)(Y.a,{}),postfix:Object(B.jsx)(ft,{children:Ae.countItemsInGroup(r.All)||""}),active:r.All===t,onClick:function(){return n(r.All)},children:"All"}),Object(B.jsx)(vt,{icon:Object(B.jsx)(K.a,{}),postfix:Object(B.jsx)(ft,{children:Ae.countItemsInGroup(r.Today)||""}),active:r.Today===t,onClick:function(){return n(r.Today)},children:"Today"}),Object(B.jsx)(vt,{icon:Object(B.jsx)(Xe,{}),postfix:Object(B.jsx)(ft,{children:Ae.countItemsInGroup(r.Priority)||""}),active:r.Priority===t,onClick:function(){return n(r.Priority)},children:"Priority"})]})}),Object(B.jsx)(z.a,{className:"reset-margin"}),Object(B.jsx)(ht,{children:Object(B.jsx)(xt,{onAddItem:s,addPlaceholder:"Add task group",children:c.map((function(e){var r=e.id,a=e.title;return Object(B.jsx)(vt,{contextMenuId:"group-context",contextMenuUId:r,icon:Object(B.jsx)(J.a,{}),active:t===r,postfix:Object(B.jsx)(ft,{children:Ae.countItemsInGroup(r)||""}),onClick:function(){return n(r)},children:a},r)}))})})]})})),gt=n(465),It=n(466),yt=n(67);!function(e){e[e.All=0]="All",e[e.Done=1]="Done",e[e.InProgress=2]="InProgress"}(_e||(_e={}));var kt,wt,Et,Tt,Ct=n(142),St=v.b.span(kt||(kt=Object(u.a)(["\n  input,\n  input:focus {\n    padding: 0;\n    box-shadow: none;\n    border: none;\n    background: transparent;\n    font-size: inherit;\n  }\n"]))),Nt=function(e){var t=e.children,n=e.onSave,r=Object(a.useState)(t),c=Object(Ye.a)(r,2),s=c[0],i=c[1],o=Object(a.useCallback)((function(){return n(s)}),[n,s]);return Object(a.useEffect)((function(){i(t)}),[t]),Object(B.jsx)(St,{className:"full-width",children:Object(B.jsx)(qe.a,{value:s,onChange:function(e){return i(e)},onBlur:o})})};!function(e){e[e.InProgress=0]="InProgress",e[e.Done=1]="Done"}(wt||(wt={}));var At,Rt,Pt,Mt,Dt,Bt,Lt,Gt,zt,Ft,Ut,Kt,Wt,Ht=v.b.svg(Et||(Et=Object(u.a)(['\n  & .success {\n    visibility: hidden;\n  }\n\n  &[data-hovered="true"]:hover .success,\n  &[data-show="true"] .success {\n    visibility: visible;\n  }\n']))),_t=v.b.span(Tt||(Tt=Object(u.a)(['\n  display: flex;\n\n  & > svg {\n    display: none;\n  }\n\n  .empty {\n    display: inline-flex;\n  }\n\n  &:hover .empty {\n    display: none;\n  }\n\n  &:hover .success {\n    display: inline-block;\n  }\n\n  &[data-done="true"] {\n    .empty, .success {\n      display: none;\n    }\n\n    .filled-success {\n      display: inline-flex;\n    }\n  }\n']))),Jt=function(){return Object(B.jsx)(Ht,{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 24 24",height:"1em",width:"1em",className:"empty",xmlns:"http://www.w3.org/2000/svg",children:Object(B.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})})},Xt=function(){return Object(B.jsx)(Ht,{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 24 24",height:"1em",width:"1em",className:"success",xmlns:"http://www.w3.org/2000/svg",children:Object(B.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"})})},Yt=function(){return Object(B.jsx)(Ht,{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 24 24",height:"1em",width:"1em",className:"filled-success",xmlns:"http://www.w3.org/2000/svg",children:Object(B.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})},qt=function(e){var t=e.state,n=void 0===t?wt.InProgress:t,r=e.hovered;return Object(B.jsxs)(_t,{"data-done":n===wt.Done,"data-hovered":r,children:[Object(B.jsx)(Jt,{}),Object(B.jsx)(Xt,{}),Object(B.jsx)(Yt,{})]})},Qt=n(214),Vt=n.n(Qt),Zt=n(457),$t=n(137),en=["style"],tn=function(e){var t=e.style,n=Object(xe.a)(e,en),r=Object(a.useRef)(null);return Object(a.useEffect)((function(){Object($t.a)(r.current)}),[]),Object(a.useEffect)((function(){$t.a.update(r.current)}),[n.value]),Object(B.jsx)(qe.a,Object(ce.a)(Object(ce.a)({},n),{},{as:"textarea",ref:r,style:Object(ce.a)({resize:"none"},t)}))},nn=["value","onEdit"],rn=function(e){var t=e.value,n=e.onEdit,r=Object(xe.a)(e,nn),c=Object(a.useState)(t),s=Object(Ye.a)(c,2),i=s[0],o=s[1];return Object(a.useEffect)((function(){o(t)}),[t]),Object(B.jsx)(tn,Object(ce.a)({value:i,onChange:function(e){return o(e)},onBlur:function(){return n(i)}},r))},an=v.b.div(At||(At=Object(u.a)(["\n  height: 100vh;\n  border-left: 1px solid var(--rs-divider-border);\n"]))),cn=v.b.div(Rt||(Rt=Object(u.a)(["\n  height: calc(100vh - 56px);\n  overflow-y: auto;\n  padding: 15px;\n"]))),sn=v.b.div(Pt||(Pt=Object(u.a)(["\n  margin-bottom: 20px;\n  display: flex;\n  align-items: center;\n\n  & h4 {\n    flex: auto;\n    font-weight: normal;\n    margin-left: 15px;\n  }\n\n  & svg {\n    height: 22px;\n    width: auto;\n  }\n\n  & span {\n    cursor: pointer;\n    display: inline-block;\n  }\n"]))),on=v.b.div(Mt||(Mt=Object(u.a)(["\n  height: fit-content;\n  margin-bottom: 20px;\n"]))),un=function(e){var t=e.selectedId,n=e.onClose,r=e.onChangeState,c=Ae.todoMap,s=Object(a.useMemo)((function(){return t?c[t]:null}),[t,c]),i=s.title,o=s.state,u=s.priority,l=s.steps,j=s.lastChanged,b=s.description,p=Object(a.useCallback)((function(e){Ae.updateItem(t,{title:e})}),[t]),h=Object(a.useCallback)((function(e){return Ae.updateItem(t,{steps:l.concat({id:l.length+1,priority:!1,title:e,state:wt.InProgress})}),!0}),[t,l]),x=Object(a.useCallback)((function(e){Ae.updateItem(t,{steps:l.filter((function(t){return t.id!==e}))})}),[t,l]),f=Object(a.useCallback)((function(e){return function(n){var r=l.findIndex((function(t){return t.id===e})),a=Object(Ct.a)(l);a[r].title!==n&&(a[r].title=n,Ae.updateItem(t,{steps:a}))}}),[l,t]),v=Object(a.useCallback)((function(e){return function(){var n=l.findIndex((function(t){return t.id===e})),r=Object(Ct.a)(l),a=r[n].state===wt.Done?wt.InProgress:wt.Done;r[n].state!==a&&(r[n].state=a,Ae.updateItem(t,{steps:r}))}}),[t,l]),m=o===wt.Done;return Object(B.jsxs)(an,{children:[Object(B.jsxs)(cn,{children:[Object(B.jsxs)(sn,{children:[Object(B.jsx)("span",{className:"hover-icon",onClick:function(){return r(t,m?wt.InProgress:wt.Done)},children:Object(B.jsx)(qt,{state:o,hovered:!0})}),Object(B.jsx)("h4",{children:Object(B.jsx)(Nt,{onSave:p,children:i})}),Object(B.jsx)("span",{className:"hover-icon",onClick:function(){return Ae.updateItem(t,{priority:!u})},children:Object(B.jsx)(Xe,{filled:u})})]}),Object(B.jsx)(on,{children:Object(B.jsx)(lt,{addPlaceholder:"Add step",onAddItem:h,children:l.map((function(e){var t=e.id,n=e.title,r=e.state;return Object(B.jsx)(bt,{icon:Object(B.jsx)("span",{className:"hover-icon",title:r===wt.InProgress?"Mark as done":"Move back to in progress",onClick:v(t),children:Object(B.jsx)(qt,{state:r,hovered:!0})}),postfix:Object(B.jsx)("span",{title:"Remove step",className:"hover-icon centered-span",onClick:function(){return x(t)},children:Object(B.jsx)(Vt.a,{})}),children:Object(B.jsx)(Nt,{onSave:f(t),children:n})},t)}))})}),Object(B.jsx)(rn,{placeholder:"Add notes",onEdit:function(e){return Ae.updateItem(t,{description:e})},value:b})]}),Object(B.jsxs)(O.a,{className:"full-width p-10 b-top",align:"middle",justify:"space-between",children:[Object(B.jsx)(O.a.Item,{children:Object(B.jsx)(d.a,{icon:Object(B.jsx)(P.a,{}),appearance:"subtle",onClick:n,title:"Close frame"})}),Object(B.jsx)(O.a.Item,{className:"align-center",children:j?"last changed ".concat(Object(Zt.a)(j,new Date,{includeSeconds:!0})," ago"):"Not updated"}),Object(B.jsx)(O.a.Item,{children:Object(B.jsx)(d.a,{onClick:function(){n(),Ae.removeItem(t)},className:"delete-button",icon:Object(B.jsx)(H.a,{}),appearance:"subtle",title:"Delete task"})})]})]})},ln=n(215),dn=n.n(ln),jn=Object(v.b)(G.a)(Dt||(Dt=Object(u.a)(["\n  height: 100vh;\n  padding: 20px 30px;\n"]))),bn=v.b.h3(Bt||(Bt=Object(u.a)(["\n  color: var(--rs-sidenav-subtle-selected-text);\n"]))),pn=v.b.div(Lt||(Lt=Object(u.a)(["\n  border-radius: 20px;\n  margin-top: 20px;\n  height: calc(100vh - 100px);\n"]))),hn=v.b.div(Gt||(Gt=Object(u.a)(["\n  font-size: 13px;\n  color: var(--rs-gray-200);\n"]))),On=Object(m.c)((function(e){var t=e.filter,n=t.group,r=t.filter,c=e.changeFilter,s=Object(a.useState)(null),i=Object(Ye.a)(s,2),o=i[0],u=i[1],l=Ae.itemsMapForGroups,j=Object(a.useMemo)((function(){var e,t=l[n]||[];return e={},Object(se.a)(e,_e.Done,t.filter((function(e){return e.state===wt.Done}))),Object(se.a)(e,_e.InProgress,t.filter((function(e){return e.state===wt.InProgress}))),Object(se.a)(e,_e.All,t),e}),[l,n]),b=Object(a.useCallback)((function(){return u(null)}),[u]),h=Object(a.useMemo)((function(){return o?[16,8]:[24,0]}),[o]),x=Object(Ye.a)(h,2),v=x[0],m=x[1],g=Object(a.useCallback)((function(e){return Ae.addItem({groupId:n,description:"",orderIndex:null,state:wt.InProgress,steps:[],title:e,type:0,userId:Se.currentUserId}).then((function(e){var t=e.id;return u(t)})),!0}),[n]),I=Object(a.useCallback)((function(e,t){Ae.updateItem(e,{state:t})}),[]),y=Object(a.useCallback)((function(e,t,n){var r,a,c=Number(null===(r=n.parentElement)||void 0===r||null===(a=r.dataset)||void 0===a?void 0:a.uid);Ae.removeItem(c)}),[]),k=Object(a.useCallback)((function(e){return function(){return c({filter:e})}}),[c]);return Object(B.jsxs)(p.a,{children:[Object(B.jsx)(dt.a,{id:"same_unique_identifier",style:{zIndex:10},children:Object(B.jsx)(f.a.Menu,{children:Object(B.jsx)(dt.c,{onClick:y,children:Object(B.jsx)(f.a.Item,{className:"delete-button",children:"Delete"})})})}),Object(B.jsxs)(O.a,{children:[Object(B.jsx)(O.a.Item,{colspan:v,children:Object(B.jsxs)(jn,{children:[Object(B.jsxs)(O.a,{align:"middle",justify:"space-between",children:[Object(B.jsx)(O.a.Item,{children:Object(B.jsx)(bn,{children:"title"})}),Object(B.jsx)(O.a.Item,{children:Object(B.jsxs)(gt.a,{children:[Object(B.jsxs)(It.a,{size:"sm",children:[Object(B.jsxs)(yt.a,{active:r===_e.All,onClick:k(_e.All),children:["All (",j[_e.All].length,")"]}),Object(B.jsxs)(yt.a,{active:r===_e.Done,onClick:k(_e.Done),children:["Done (",j[_e.Done].length,")"]}),Object(B.jsxs)(yt.a,{active:r===_e.InProgress,onClick:k(_e.InProgress),children:["In progress (",j[_e.InProgress].length,")"]})]}),Object(B.jsx)(d.a,{icon:Object(B.jsx)(dn.a,{}),size:"sm"})]})})]}),Object(B.jsx)(pn,{children:Object(B.jsx)(lt,{onAddItem:g,children:j[r].map((function(e){var t=e.id,n=e.priority,r=e.title,a=e.state,c=e.steps;return Object(B.jsxs)(bt,{active:o===t,onClick:function(){return u(t)},contextMenuUId:t,contextMenuId:"same_unique_identifier",icon:Object(B.jsx)("span",{onClick:function(e){e.stopPropagation();var n=a===wt.InProgress?wt.Done:wt.InProgress;I(t,n)},className:"hover-icon centered-span",title:a===wt.InProgress?"Mark as done":"Move back to in progress",children:Object(B.jsx)(qt,{state:a,hovered:!0})}),postfix:Object(B.jsx)("span",{onClick:function(e){e.stopPropagation(),Ae.updateItem(t,{priority:!n})},title:"Mark as important",className:"hover-icon centered-span",children:Object(B.jsx)(Xe,{filled:n})}),children:[Object(B.jsx)("div",{children:r}),c.length>0&&function(){var e=c.filter((function(e){return e.state===wt.Done})).length;return Object(B.jsxs)(hn,{children:[e===c.length&&Object(B.jsx)("span",{children:"\u2714 "}),e," of ",c.length]})}()]},t)}))})})]})}),o&&Object(B.jsx)(O.a.Item,{colspan:m,children:Object(B.jsx)(un,{selectedId:o,onClose:b,onChangeState:I})})]})]})})),xn=n(138),fn=function(){var e=function(){var e=Object(g.h)().search,t=Object(g.g)(),n=Object(a.useMemo)((function(){var t=Object(xn.parse)(e),n=t.group,a=void 0===n?String(r.All):n,c=t.filter,s=void 0===c?String(_e.All):c;return{group:Number(a),filter:Number(s)}}),[e]),c=Object(a.useCallback)((function(e){return t.replace({search:Object(xn.stringify)(Object(ce.a)(Object(ce.a)({},n),e))})}),[n,t]);return{filter:n,onChange:c}}(),t=e.filter,n=e.onChange;return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(G.a,{children:Object(B.jsxs)(O.a,{className:"full-height",children:[Object(B.jsx)(O.a.Item,{className:"full-height",colspan:4,children:Object(B.jsx)(mt,{activeKey:t.group,changeActiveGroup:function(e){return n({group:e})}})}),Object(B.jsx)(O.a.Item,{colspan:20,children:Object(B.jsx)(On,{filter:t,changeFilter:n})})]})})})},vn=function(){return Object(B.jsxs)(g.d,{children:[Object(B.jsx)(g.b,{exact:!0,path:D.ROOT,component:function(){return Object(B.jsx)(g.a,{to:D.TODO_LIST})}}),Object(B.jsx)(g.b,{exact:!0,path:D.LOGIN,component:function(){return Object(B.jsx)("div",{children:"1"})}}),Object(B.jsx)(g.b,{exact:!0,path:D.REGISTRATION,component:function(){return Object(B.jsx)("div",{children:"1"})}}),Object(B.jsx)(g.b,{exact:!0,path:D.TODO_LIST,component:fn}),Object(B.jsx)(g.b,{path:"*",component:L})]})},mn=(n(449),n(450),v.b.div(zt||(zt=Object(u.a)(['\n  padding: 20px;\n\n  & svg {\n    width: 24px;\n    height: auto;\n  }\n\n  & svg[data-expanded="false"] {\n    width: 20px;\n  }\n'])))),gn=v.b.span(Ft||(Ft=Object(u.a)(['\n  font-size: 20px;\n  margin-left: 10px;\n  transition: display 1s linear;\n\n  &[data-expanded="false"] {\n    display: none;\n  }\n']))),In=Object(v.b)(l.a)(Ut||(Ut=Object(u.a)(["\n  position: relative;\n  border-right: 1px solid var(--rs-divider-border);\n"]))),yn=Object(v.b)(d.a)(Kt||(Kt=Object(u.a)(["\n  position: absolute;\n  right: -12px;\n  bottom: 80px;\n  z-index: 10;\n"]))),kn=Object(v.b)(j.a)(Wt||(Wt=Object(u.a)(["\n  margin-right: 20px;\n  position: absolute;\n  left: 18px;\n  top: 15px;\n"]))),wn=function(e){var t=e.expanded,n=e.onClick;return Object(B.jsx)(yn,{icon:t?Object(B.jsx)(A.a,{}):Object(B.jsx)(P.a,{}),size:"xs",circle:!0,onClick:n,appearance:"primary"})},En=Object(m.c)((function(){var e=Object(g.h)().pathname;return Object(B.jsx)(b.a,{theme:"dark",children:Object(B.jsxs)(p.a,{children:[Object(B.jsxs)(In,{width:Se.expandedSideBar?220:56,collapsible:!0,className:"flex-column",children:[Object(B.jsx)(h.a.Header,{children:Object(B.jsx)(mn,{children:Object(B.jsxs)(O.a,{align:"middle",children:[Object(B.jsx)(O.a.Item,{children:Object(B.jsx)(T.a,{"data-expanded":Se.expandedSideBar})}),Object(B.jsx)(O.a.Item,{children:Object(B.jsx)(gn,{"data-expanded":Se.expandedSideBar,children:"You manager"})})]})})}),Object(B.jsxs)(h.a,{className:"flex-column flex-auto",expanded:Se.expandedSideBar,appearance:"subtle",children:[Object(B.jsxs)(h.a.Body,{className:"flex-column flex-auto",children:[Object(B.jsxs)(x.a,{className:"flex-auto",activeKey:e,children:[Object(B.jsx)(x.a.Item,{eventKey:D.TODO_LIST,icon:Object(B.jsx)(y.a,{}),as:o.b,to:D.TODO_LIST,children:"Todo"}),Object(B.jsx)(x.a.Item,{eventKey:D.NOTES,icon:Object(B.jsx)(w.a,{}),as:o.b,to:D.NOTES,children:"Notes"}),Object(B.jsx)(x.a.Item,{eventKey:D.PASSWORDS,icon:Object(B.jsx)(S.a,{}),as:o.b,to:D.PASSWORDS,children:"Passwords"})]}),Object(B.jsx)(x.a,{activeKey:e,children:Object(B.jsxs)(f.a,{placement:"rightEnd",activeKey:e,title:Ne.username,icon:Object(B.jsx)(kn,{size:"xs",children:Ne.usernameSymbols}),children:[Object(B.jsx)(f.a.Item,{children:"Profile"}),Object(B.jsx)(f.a.Item,{eventKey:D.SETTINGS,as:o.b,to:D.SETTINGS,children:"Settings"}),Object(B.jsx)(f.a.Item,{divider:!0}),Object(B.jsx)(f.a.Item,{eventKey:D.SETTINGS,as:o.b,to:D.SETTINGS,children:"Change user"})]})})]}),Object(B.jsx)(wn,{expanded:Se.expandedSideBar,onClick:Se.toggleExpanded})]})]}),Object(B.jsx)(p.a,{children:Object(B.jsx)(vn,{})})]})})}));i.a.render(Object(B.jsx)(o.a,{children:Object(B.jsx)(c.a.StrictMode,{children:Object(B.jsx)(En,{})})}),document.getElementById("root"))}},[[454,1,2]]]);
//# sourceMappingURL=main.ee7b01ba.chunk.js.map